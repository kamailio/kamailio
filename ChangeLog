===================== 2014-11-07 Version 4.0.7 Released =====================

===================== Changes Since Version 4.0.6 ===========================

commit 5bc523134c66b0f323a9ff3e19b41145f55defa2
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Nov 7 12:47:33 2014 +0100

    Makefile.defs: version set to 4.0.7

commit 079246a2394182125c1c0a95f93571bc4679f548
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Nov 7 12:36:29 2014 +0100

    pkg/fedora: version set to 4.0.7 in spec file

commit 2a0d6a131f50ce9e2edb5d7a71ea9772cfa1a607
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Nov 7 12:34:54 2014 +0100

    pkg/deb: version set to 4.0.7 in spec files

commit 0ea91a5a3ea26f3d41c44be850decdf2590f3e4e
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Nov 7 12:31:32 2014 +0100

    pkg/rpm: version set to 4.0.7 in spec files

commit 46db36aedbe0aaee1dab3a5e57f8ab7e37106ded
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Oct 31 12:35:56 2014 +0100

    dialog: increase local cseq after REFER generated by dlg_bridge
    
    - otherwise the next BYE can be rejected
    
    (cherry picked from commit c76ee9facb771d2eae792214e6d4cef39c94a9eb)
    
    Conflicts:
    	modules/dialog/dlg_transfer.c

commit fdd1942ad7ee919a35e5cd54777e2b3e8dc35c56
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Nov 6 12:09:54 2014 +0100

    tls: resolve conflict after cherry-picking from 4.1

commit 9d71a30af29c9eebe874ba8f24b0d9fd028f8a23
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Nov 14 23:00:32 2013 +0100

    app_perl: declare extern environ variable
    
    - without it doesn't compile on darwin and it is recommended way to do
    - provide some fake argc and argv to PERL_SYS_INIT3() to avoid compile
      warnings
    
    (cherry picked from commit 34ad8c295b45bc52cc5a071bf2b5651865389f94)

commit d309fb42799dc70fad06416c3230d9560cfff684
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Nov 6 11:54:56 2014 +0100

    core: dns_cache resolve conflicts after cherry-picking srv len and rpc commits

commit 2a3d8ca8ce06b0ad78d7639b401ff4c45c83c294
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Nov 4 10:20:46 2014 +0100

    benchmark: sync'ed log level values in documentation
    
    (cherry picked from commit 61ab723bb46f46f9013587e26ee07f39e5388ff8)
    (cherry picked from commit 3ddda387934842542c2952ee912db55ba91f1c0e)
    (cherry picked from commit b050dcbffba99c517766b872438263d924c0bd9c)

commit 4f4821c8604e3722c7486931f08b54d666d789d7
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Oct 31 12:33:38 2014 +0100

    tm: update headers shortcuts if buffer rebuilt after event_route[tm:local-requests]
    
    - affecting transactions for local generated requests
    - bulding local ACK uses the shortcuts and they ended up being broken
    - reported by Kristian F. HÃ¸gh
    
    (cherry picked from commit b6d3dc61a78e549c9a75ddfa2fbb86aa2a1682c5)
    (cherry picked from commit 4aea47fa023b705947af1bff747745cf105a64bf)
    (cherry picked from commit a0c6a82d74f7f9a04bf5626545c61d4dbc3dd359)

commit 948dd5913a6c05d3321463dc6c6f5465107dfe2a
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Oct 31 00:31:11 2014 +0100

    tm: do all the clean local msg structure in one place
    
    - uri/dst-uri were clened before the entire local sip message, not being
      visible while rebuilding the content
    
    (cherry picked from commit a2252afe90e0acd779e64c47eacc174b4bbdc41c)
    (cherry picked from commit bf78e8498a9ac9441fcdb7141b0cf2a7b8739e83)
    (cherry picked from commit afd309b42e37e07e6f467dff47dde00e8e8fb407)

commit c9c537a663a98a4f94753f9e7c5365336b7d52f1
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Oct 30 11:41:41 2014 +0100

    tm: safety catch inside t_check_trans() when already in a tm routing block
    
    - transaction is known and some of these routing blocks are inside tm
      lock, which can result in deadlock if not tested
    - reported by Andrew Pogrebennyk, FS#482
    
    (cherry picked from commit a8d50919bd614b704f3a4e08ff90d844b2c29829)
    (cherry picked from commit 631e558f97728b91b3c0b3341c6c4ecc16902a82)
    (cherry picked from commit 313458e92f9ab9db32bad31abed6b73f0e35a1e1)

commit 734987857dcac06cf3e706f64feb29b9353ab291
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Oct 30 10:23:51 2014 +0100

    sqlops: use row index for storing result of sql_pvquery()
    
    - reported by Savolainen Dmitri, FS#487
    
    (cherry picked from commit 367840503010d1be0da23e79525f2f88eb09ebcf)
    (cherry picked from commit b5ead3683782495da208fad2dffef61f893371b3)
    (cherry picked from commit bb7852ddbf594a8ea2e21cf0647afe47fc18e918)

commit 6d50844d70682f35d67af1125e708a1e4fcf1272
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Oct 30 10:10:15 2014 +0100

    htable: safety check for key type and value
    
    - reported by FS#486
    
    (cherry picked from commit f5d9b59ee5aabb1da934ae2ce8101250041c05d1)
    (cherry picked from commit 3209d2245cbc3d2def94065aed0ccdab23678a64)
    (cherry picked from commit d7e7d76c6911ddd6e7f00fca35451621870a582b)

commit ab5025f9345ca9a058652ec3e894082549eb833f
Author: Hugh Waite <hugh.waite@acision.com>
Date:   Wed Oct 29 16:18:28 2014 +0000

    registrar: Prevent incorrect application of path when forwarding a register
    
    - Reset the internal path pointer after a save() to prevent it being added
      as a Route: header, e.g. when running t_replicate()
    
    (cherry picked from commit 61a1eee4fe2b7e3a7c6a8f82c86ac52957439053)
    (cherry picked from commit 7d31ee740c49034f83192feffdcba2f7b8601fab)
    (cherry picked from commit 8114b10c595f085721434dcd86a0e4b0bd28af57)

commit 20eeee825e34856862b8e886a0e0b01a282e7218
Author: Hugh Waite <hugh.waite@acision.com>
Date:   Wed Oct 8 21:11:55 2014 +0100

    core/parser: Fix extract_sendrecv_mode to always return mode if valid
    
    - All four sendrecv directions return 0
    - is_on_hold flag set for inactive and sendonly
    
    (cherry picked from commit 0a019df8f2922a940a41742ce0e4560bb6523d6c)
    (cherry picked from commit 49c39a3b2409636d1360d943e6785a34002c9009)
    (cherry picked from commit 18d1b4ce5328480e52f7f9d7b394dd00011c1f17)

commit 0bc581782be84b251b639ac01a58b3941688a874
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Oct 29 12:07:57 2014 +0100

    dialog: fixed adding contact header to REFER generated by dlg_bridge
    
    - reported by Paul Smith
    
    (cherry picked from commit ab7519006b6a53792d66b6903a4b0694083179b6)
    (cherry picked from commit 97cab82e1217776b248a424b6d0ee6aaf9b092de)
    (cherry picked from commit 8f178f070c99419714159c4c1154adbe0f9db17e)

commit ffd0c5c5b0d9012fce9f329d132ff459c0849f81
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Oct 13 11:57:48 2014 +0200

    db_cluster: safey check to be sure the command is implemented by db connector
    
    - reported by Miguel Reis, FS#476
    
    (cherry picked from commit d1541b8299581cdfaf84169e307f47116def5cbf)
    (cherry picked from commit 98826710632d0903f3aef7473582d239f584a542)
    (cherry picked from commit 78a656e4d7f0e58400b3cc6121d5f9ef4bce681d)

commit 9d8399eb73e56843041f6d1d4cd5a2609836eb41
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Oct 13 11:34:40 2014 +0200

    uac: init avp_value lenght to be safe when avp is not found for restoring From/To URI
    
    - reported by Klaus Darilion, FS#479
    
    (cherry picked from commit a4432c327044e720d4a2ac388f7aa0692f36e873)
    (cherry picked from commit d510ff69559934d9ab586fef3e6e9bad00cf0a8b)
    (cherry picked from commit d55ca28f9cdc36c2f2559ef1832caa791a356035)

commit 0d79b41dc437b30d1b685b28b589d3d1efd4128f
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Oct 12 18:58:02 2014 +0200

    dialplan: extended debug message to be more useful
    
    (cherry picked from commit 37c6e7ec80a16b93751d535de3b7784c1270d8b8)
    (cherry picked from commit 53eb694e38836b19e8af7ffaa59b7014cd5f497e)
    (cherry picked from commit e15205945c77aa013eaa556be05e5fd79d46f605)

commit 0be97491b820ade2543e35895a809efede6fffd5
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Oct 10 12:19:29 2014 +0200

    core: safety check for server_header lenght
    
    - don't add the header in local generated replies if the value is empty
    
    (cherry picked from commit 866ddc109bfd7c681e13ce529d271e8a2a33a972)
    (cherry picked from commit 6f4c872f302111abda6aa810fb462b08809aaac9)
    (cherry picked from commit bb8873e804fa050fd924077aac868d03621da807)

commit fe426e7d048a1fea1dc6c81da3fe4b80e5c8aff6
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Oct 10 12:11:52 2014 +0200

    tm: safety check for user_agent_header value
    
    - don't add the header in local generated requests if the value is empty
    
    (cherry picked from commit cea9b91dacdb23b22fc1a7dd8454994eab9efa6e)
    (cherry picked from commit f90edc4efed7fb4bc2d0f6d1a20a69e1751485d3)
    (cherry picked from commit c49ddc6303741f9f2d278db2532616d991957b3d)

commit 6860b38d3c4fd27e6c8ae21d2a3ed1b97f959786
Author: Juha Heinanen <jh@tutpro.com>
Date:   Sun Oct 12 13:41:41 2014 +0300

    modules/pua: db_mode=2 send_publish fixes
    
    - plus small debug message edits
    (cherry picked from commit 6822ff45e931ad3e93b22ebf7d1beb350bf27e70)
    
    (cherry picked from commit 65659addafd0a492cafbb6c9cbaf3644442f333a)
    (cherry picked from commit f68b6a9c4860298c0bf17f1943f5fc4226650f9f)

commit 23c722a12dfc01c5c21b580a36b63c1765500ea8
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Oct 8 23:36:42 2014 +0200

    dialog: sync'ed parameter names for columns with source code
    
    (cherry picked from commit ebe64df20181f4e569548961b9a1ca64b5cfa444)
    (cherry picked from commit 7a3f075f38f50b89f918b01298928c63ca5b6581)

commit 5b01c28233ce66d35412fa3b79af16ed3edab34e
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Oct 5 21:55:51 2014 +0200

    lib/srdb1: end of line after several debug messages
    
    (cherry picked from commit e675f20af9a4d9a4b5e7b11277f4a4e0c774e128)
    (cherry picked from commit cb8e8c8867cf55930836b9cacda8347d136ab1ac)

commit b588a1c64af287583f17e1f71d083a23858c3a71
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Oct 5 10:01:42 2014 +0200

    db_berkely: end log message with new line
    
    (cherry picked from commit 5822dc04f01b20ddfe9d37e9c0eea53fa658164b)
    (cherry picked from commit 1bf8bf00a49d48f8c120973e64e020fa0039a5eb)

commit 297c0fc91868d06f335f58d45556fc0ba271e5ac
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Oct 2 17:31:34 2014 +0200

    core: be prepared to get Via received param with brackets around ipv6 addr
    
    - helper function to generate similar value
    
    (cherry picked from commit b7bc7a5450b1e31697fb389a503463eac644b796)
    (cherry picked from commit 9ba6ab0f1ba781dfb18c3955b956553467e4c077)

commit ed1a329312bd82c96f350fcee837fb2907bf9bdc
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Oct 2 16:47:35 2014 +0200

    core: more verbose log message for failing to find local socket
    
    (cherry picked from commit f50c1e9fab16fb611f7bbc6002f4c8607bc8fbf2)
    (cherry picked from commit 6095474635ce5f91a13ed46f9ba50d8fdfa2e3d7)

commit d31eb3d11cb54fd2761eef3766891e6e723e82b3
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Oct 1 17:27:49 2014 +0200

    core: change the uid and gid for pid and pgid files
    
    - use the user and group given to daemon to update ownership of pid and
      pgid files
    - reported by Ovidiu Sas, FS#472
    
    (cherry picked from commit c873758624da24359117b3fa158cc56ccd0a5d73)
    (cherry picked from commit d2d3f2e014fd3a1810544a7a185346e710981aa3)

commit 10bae93bde98b143942b720078d5207deba8a3ad
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Oct 1 16:53:44 2014 +0200

    core: fixed overwriting mpath value given in command line via config
    
     - -L is in the group of options evaluated before config
    
    (cherry picked from commit e1e40d3a58bf3ed6c4f2df830e29d5468d7bee82)
    (cherry picked from commit cc0d88f198a5a42e8b1bfaffa850f8e09a01d793)

commit d6b3c69f20261b378d479b9600c321a524651c42
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Sep 30 18:07:53 2014 +0200

    benchmark: declare inline functions static to work with clang linker
    
    - otherwise it results in no symbol found at module loading time
    
    (cherry picked from commit 452f32235034916468cab577de3ca0d0f56fd5ea)
    (cherry picked from commit 4d16de6c00e5b865cf762cfae1bbac2525ee93b7)

commit 5e99f734dc6c664e9f4fb5b1ae89d26e29923bbd
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Sep 30 18:06:36 2014 +0200

    sms: declare inline functions static to work with clang linker
    
    - otherwise it results in no symbol found at module loading time
    
    (cherry picked from commit 8a51aa250c4e22e5933d0ff39a7a4b300007bb72)
    (cherry picked from commit 1ce5a1ec17182f774254e6e7f020f9f99d7d8c95)

commit 1db6fdac10c722e61ea477d706972b8954ebc0e3
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Sep 30 17:53:44 2014 +0200

    core: exit with -1 if there is a mismatch in version of module and core
    
    - return code to shell 0 is like succesful run, some scripts not being
      able to say it was a failure to start
    
    (cherry picked from commit c4f7356f2d8c057f59cb61948aa04664cecd35f7)
    (cherry picked from commit 9c46eb45dcee9d27ba86fc7ade275b8b696936f6)

commit ea6aa54e0a5ffbe19b8b3d9c4995454ec4285727
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Sep 30 11:29:18 2014 +0200

    websocket: fix checking payload_len safety check for fragmentation
    
    - a crafted websocket frame  using values spanning max unsinged int could have
      caused a failed detection of unsupported fragmentation and invalid memory access
    - thanks to Peter Dunkley and Hugh Waite for assisting and pin-pointing
      where everything happens
    
    (cherry picked from commit 6b8acf3204a8615762b0b5dcc6aac152f40b2ca0)
    (cherry picked from commit 3183d0c1bb939dbc2050218ed90e5efd316a9361)

commit 1083bb9a47c5768fb1b2578209d2ef1a76269c3c
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Sep 22 22:04:39 2014 +0200

    core: add received parameter to via if rport parameter is present
    
    - required by RFC3581, section 4.
    
    (cherry picked from commit a1e96cbd5a3b43598c59cb50693e6b739801b804)
    (cherry picked from commit 42897d422b60edeac393201326a3e71318445e62)

commit 67de42c612df33ce54f2052e9da48cea79dd9442
Author: Hugh Waite <hugh.waite@acision.com>
Date:   Wed Oct 8 19:01:20 2014 +0100

    core: xavp: Fix xavp_insert to prevent corrupted linked lists
    
    - Inserting data at a given index will pad the xavp with XTYPE_NULL entries
    - Inserting data will replace a NULL entry if present
    (cherry picked from commit 1828c8ab644243878fc6db9ff0f2592e656dc09a)
    
    (cherry picked from commit 58746ce4966b254cb465045cb517f652a24a5317)

commit 60b2f77b19dce2f7f9b27e780dccd41b021d5ff5
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Sep 28 12:49:27 2014 +0200

    tm: use advertised addr/port if set for socket in rm rpc uac commands
    
    - reported by Juha Heinanen
    (cherry picked from commit 131139883c03f3851ad99e96c59dfe3c349ec011)
    
    (cherry picked from commit 88031fe50236f9eb1fc28309fd466e86d8c6b81b)

commit c233c2b5fdaa4e0ca63aa6f9aef1516844449642
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Sep 28 12:48:53 2014 +0200

    core: helper functions to get addr and port to be used in signaling from socket info
    (cherry picked from commit c725f1dec14863e069bfd1e5c26857a1005528d5)
    
    (cherry picked from commit a52c0024723a59d90c3c3966d5deadaf8b0d4440)

commit f01142177c1454a25b7c0f5f94f06dbe7c0ff8a5
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Sep 24 23:46:00 2014 +0200

    dialog: set again the dialog ids in context for BYE processing
    
    - they can be reset by event route execution
    
    (cherry picked from commit 5b733fa361afced0418947c965b256dbe7ae3a68)
    (cherry picked from commit 6f9519b001a608af20787e0cfaf4a3a0d2dfc1fb)

commit 4084796432082b001e475b9a6f30251e7b4a1495
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Jul 25 23:16:31 2014 +0200

    sms: domain is not allocated in pkg by the module
    
    - skip freeing in mod destroy
    
    (cherry picked from commit fc383b13c32d4f89fbb8a7de14a07cbb26f38693)
    (cherry picked from commit c59199c69f6fe492bdb9888b623da85cf086bd4b)

commit cada614c54680d950ff04cc58ea78eea7217e3bb
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Sep 16 23:38:35 2014 +0200

    core: safety check for outbound buffer
    
    - pointer can end up being NULL if replacement fails to be built (e.g.,
      via topoh)
    
    (cherry picked from commit c2b0be97a3ef8e4e1bff34a5c73328a63979aa61)
    (cherry picked from commit 555537769f5ecbf8dacc3de7529da05bfbdd3d04)

commit 6d8fd9772b3816d40ab87181e68328d1560556e9
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Sep 16 23:33:20 2014 +0200

    core: hanlde replacement buffer free for WS/WSS frame sending
    
    - affected when using topoh for ws/wss traffic
    
    (cherry picked from commit ec8fe1e7ea904a51ca933d0b15408ca464002cbe)
    (cherry picked from commit b58b5fd3c8c2f9cef6362f7f069bad7f814475ca)

commit 7d29c7bbf2843c52ee3dff291f9d91e969e72706
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Sep 16 19:05:57 2014 +0200

    dialog: check if the transaction is created for BYE closing the dialog
    
    - if not, release the dialog, because there will be no tm callbacks
      called later to release it. In this way avoid zombie dialog.
    - reported by Ovidiu Sas, FS#424
    
    (cherry picked from commit 02e43f87b2fa3be61bc4c63a9f8359457e3e0484)
    (cherry picked from commit c13b5a0bfe80bea3cf76a16675f9261334ab4998)

commit 4e414bdc18afcf736e1bcbf587a098f1ba597407
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Sep 11 22:36:56 2014 +0200

    dispatcher: free dset root structure at reload
    
    - reported by Heenan, Timothy Steven
    
    (cherry picked from commit 7fb8c88c1d4aeb50d1e637697132ab0994dcdb28)
    (cherry picked from commit 118c901bd1879a46d9e392093994bc544cf511c1)

commit b0786033c0cf78e1d40d777a4d3599bf6a48c90f
Author: Luis Azedo <luis@2600hz.com>
Date:   Wed Sep 10 15:23:45 2014 +0100

    proposed change for dbtext query results.
    this behaviour was observed by interacting with module presence.
    
    presentity clean runs from timer every 6 secs.
    if the first run returns a large set of rows, it iterates all rows doing
    some notifications and deleting the presentity.
    if it takes more then 6 secs to complete, the next run will override the
    results internal structure pointer maintained in the connection level.
    
    the proposed patch, maintains the query result internal structure within
    the result, using the ptr field for that.
    
    (cherry picked from commit dae74e974a028082a3250805da83223220123c10)
    (cherry picked from commit 9c1126fddba58e6a63409ee3cf210fb24b1e7922)

commit c9e3324a48e27e43aa40860a597b6640648a7440
Author: Hugh Waite <hugh.waite@acision.com>
Date:   Mon Sep 8 17:46:55 2014 +0100

    parser: Fix parsing of Retry-After header
    
    - Allow no space between duration and optional comment
    
    (cherry picked from commit accfbe0abb0d811e249b687cb6047c9234a6d884)
    (cherry picked from commit f66d5efb20e5acec87c8b9d38a9a6c5faacc4a18)

commit 4fe0cf5ae8ebb0a670e3bf75d9c39a843e2aae0d
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Sep 8 14:14:17 2014 +0200

    presence: take in consideration send_fast_notify when sending empty NOTIFY
    
    - patch by Luis Azedo <luis.azedo@factorlusitano.com>
    
    (cherry picked from commit 5bffcf8bdc83628aea4f5e3cda06b20ce88f659f)
    (cherry picked from commit 53c60551f1316d846f0cbafc04f8d8772156f7b0)

commit bd7251fa21177542d0a75028127806e9b900e2e6
Author: Alex Hermann <alex@speakup.nl>
Date:   Fri Aug 22 13:55:42 2014 +0200

    dialog: Correctly restore dialog lifetime from DB
    
    Restore the lifetime to the configured value instead of the offset from the
    time the reload from the DB took place.
    
    (cherry picked from commit 3d5f8af6efb5a33e46427a1a9b273e445a3064c7)
    (cherry picked from commit 8925975c4e82693fbf262ed45ac179e494fb0ca3)

commit 028140e698426fd05459740ec0cb2edfcf735b37
Author: Alex Hermann <alex@speakup.nl>
Date:   Mon Jul 7 16:38:29 2014 +0200

    dialog: Set the dialog context on transaction failure
    
    Before, the dialog context would be derived from the callid and tags. This
    could select the wrong dialog in case of spirals. This patch sets the correct
    dialog context by storing the it in the transaction and restoring it on a
    failure. Now the correct dialog variables are available in failure_route.
    
    (cherry picked from commit 811bb515c09e7270d1d7f8a28d280e184874e487)
    (cherry picked from commit af985c5fe70dcaa6a92c5e67fff81807dbef27bc)

commit 182d2ce0aeb78012739c937527e871530d6c15fd
Author: Alex Hermann <alex@speakup.nl>
Date:   Mon Jul 7 16:38:29 2014 +0200

    dialog: Set the dialog context on incoming replies
    
    Before, the dialog context would be derived from the callid and tags. This
    could select the wrong dialog in case of spirals. This patch sets the correct
    dialog context by storing the it in the transaction and restoring it on an
    incoming response. Now the correct dialog variables are available in
    onreply_route.
    
    (cherry picked from commit 25a3297915fbcc0a267d444d245526de978a5d62)
    (cherry picked from commit b12a01e553699786953ec601197669314bf414c7)

commit 789f5a5a409c31e2e487c98b551e0b5048b04b9b
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Tue Sep 2 14:25:42 2014 -0400

    xhttp_pi: proper sizeof for memset
    
    (cherry picked from commit 613d188f92401c60549ea0337ea0dcf3c68067d7)
    (cherry picked from commit 63e9a59290316e7603fb7e527cb6f6bb75653e16)

commit 6b74aeeafc485b147ddc79cc1631e49a47c0482b
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Sep 2 10:29:22 2014 +0200

    msilo: proper walk through sent list for cleanup
    
    - reported by Bhupendra Singh
    
    (cherry picked from commit 5fd8a1bdaae82decdb606901fe7bf3e6e9149803)
    (cherry picked from commit 45567abeb463fb69ce54dd0ed337d28275e04a12)

commit 50d4a748d595df452a671e26cab447fa4be6831a
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Sep 2 09:50:57 2014 +0200

    Makefile.defs: don't set gcc flag -maltivec if not advertised for powerpc
    
    - reported at FS#444,
      https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=729635
    - following a patch by Roland Stigge <stigge@antcom.de> on debian bug
      tracker
    
    (cherry picked from commit 6fe4e56937563a413cfd83794e0fe71a20caf3d5)
    (cherry picked from commit 6c92649113c95538b6940596fb14f1f90f34bd1b)

commit 3a23884e47cbd7f640da15a5d9d1ec3649f7796c
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Sep 1 23:45:13 2014 +0200

    core: return OK as string for a successful dns.delete rpc command
    
    - closes FS#260
    
    (cherry picked from commit b77613398fe7a69d4ac52add3630c94373cbe3e8)
    (cherry picked from commit 3f528195fdb08c68881e584bb64dd2474a3ea01f)

commit c28edf16e937ff02244126bb3343ccdf40b66d94
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Sep 1 23:36:25 2014 +0200

    tm: rebuild the local request if uri was changed in event route
    
    - rebuild was done only on changes over headers and body, with an
      eventual new r-uri being used in that case
    - no should work also when only r-uri is changed
    - closes FS#158
    
    (cherry picked from commit dbd8ea9b1fa216e59d4c36e2eb4b671202824259)
    (cherry picked from commit 870535c346f70a20c1e3f2b2d0736ea00bc29a5a)

commit 48b998f8c9d93eb6c086505820ef8f9e7ef1aea3
Author: Kristian Frederik HÃ¸gh <kfh@uni-tel.dk>
Date:   Mon Sep 1 22:03:20 2014 +0200

    tm: rebuild local Via when force socket is changed in event_route[tm:local-request]
    
    - new forced socket is also set for sending out
    
    (cherry picked from commit e404d123610b63ddd1c75d39667b373c40071eab)
    (cherry picked from commit b3215ff4e69b31cd24ed2226003529113a765413)

commit 8771adc260d392b70a90935858f3af38f5ba65f3
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Aug 25 16:56:16 2014 +0200

    core: update content for -D option in man page
    
    (cherry picked from commit ee9ea2f543975769ca544dcf3b75b97698e3b53e)
    (cherry picked from commit e41ddd2878e1281f7ff7e4c12d115acea1ff7e8a)

commit 963be2ee361bde64dc903312935b259e5a35efc4
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Aug 25 16:55:27 2014 +0200

    core: main - proper info for -D command line option
    
    (cherry picked from commit 2b33768745130b91e984b679f9eed01a6267d8cc)
    (cherry picked from commit 8a53fa7a680c573c6d08bdc166793bbaf7c6e2f4)

commit e22c6e5c61af3aaf757f4479e3f715fc5c8fc9dc
Author: Luis Azedo <luis.azedo@factorlusitano.com>
Date:   Fri Aug 22 16:05:15 2014 +0200

    json: fixed parameter number for free fixup function
    
    (cherry picked from commit a1b6093aaee9e96f00475752273c9c925ba390d3)
    (cherry picked from commit ad5972f97df4a13a1044dc13e9570c1dd216d30f)

commit 457fdfbc1b5b974b3e299481b8b7e26f12f63fd8
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Aug 22 15:53:47 2014 +0200

    pua_dialoginfo: proper jump to end of the structure
    
    - void has no standard size
    - descovered on a report by Charles Chance
    
    (cherry picked from commit 4108c7a125a3e50d1d670bc4c842b29cc32ec438)
    (cherry picked from commit e65b32a7fef536638babe848d8b796fc26929bf7)

commit 1358ff01a4474da5812c74a33e4d416df34471b3
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Aug 14 17:49:18 2014 +0200

    dialog: when adding a new dialog, lock the slot until the structure is linked
    
    - search for dialog based on sip attributes and if no result found, then
      lock the hash table slot until the new structure is built and linked
      in the table
    - should avoid simulataneous creation for same dialog if there is a
      not-handled retransmission or parallel forking upstream, resulting in
      many processing managing duplicated requests
    
    (cherry picked from commit 6fb686de57f783b3c29e5b4e11ad1509882616bb)
    (cherry picked from commit 1913bead1dbc8a6ccd1424cd5b0d50430ca87cbd)

commit 746bb972a1ef308f604af3f8883cdfa5f9a42563
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Aug 14 14:59:09 2014 +0200

    dialog: release of dialog for not-forwarded initial request done by creator
    
    - avoid releasing new dialog in case of upstream paralel forking
      or retransmission by other processes than the other which created the
      dialog
    - it could result in destroying the dialog in initial state if the
      request was not forwarded yet, likely to happen because creator
      process runs more callbacks
    
    (cherry picked from commit c125cf6f36aedb75b4f1e0b32dbe5bdd0a48b8b5)
    (cherry picked from commit be02c48d9335dc71a023244d20ef669f4e986e9e)

commit 2bd3888a5b26ae59f7f6f6dd21fa56a1e6300b3f
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Aug 14 14:46:21 2014 +0200

    dialog: simplified dlg referencing on creation and spiral detection
    
    (cherry picked from commit fcf5f5b3115c0c40f4df9eb066489bb3e590c3b1)
    (cherry picked from commit 939ab9bd2d6c09054bfa21860635c26a4d106fbb)

commit d9604c4a7cfe49a0216b8534a4d6a503b3dfb0ae
Author: Marcus Hunger <hunger@sipgate.de>
Date:   Tue Aug 12 16:09:28 2014 +0200

    rtpproxy: swap tags for lookup command (l) to fix one way audio on reinvite
    
    - affected cases when the lookup was used explicitely
    
    (cherry picked from commit 21e54da18f9bc6f87f913a897c9183074de4c937)
    (cherry picked from commit b19a94889eed0dde7131ac5328192962504ed928)

commit 2004d01b162a6d3236b0d17da2508e839047ef6c
Author: Jorj Bauer <jorj@isc.upenn.edu>
Date:   Fri Aug 8 09:26:21 2014 -0400

        modules/sca: fix 180 replies in sca_call_info_invite_reply_18x_handler()
    
        - Per Broadworks Release 13.0v1 documentation, 180s should produce
          "appearance-state=progressing" just like 183s do; Polycom OS 3.3.4
          doesn't care, but 4.x swaps leg information when it hears
          "appearance-state=alerting"
        - report and patch from  Joao Vitor Arruda
    
    (cherry picked from commit 82e67c07eebe9f7277156a6a6d87ffd5e04c892d)
    (cherry picked from commit 77662cf6075dce9a94d4ae4f840cb5c52ac26491)

commit 28096c217ba1701c4385deeb4c6e448a36b51aa0
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Aug 5 13:10:34 2014 +0200

    pua_xmpp: fixed wrong define guardian id
    
    (cherry picked from commit 6b833a82cb8c0978fae54afa086eff6d5479fa17)
    (cherry picked from commit 190eb31d662462b6d3a44d81389500f935d28a70)

commit 968c92ae4d60972986e9ba6db588626a2aa60ec9
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Aug 5 13:09:16 2014 +0200

    pua: solved warning on comparing unsigned expression
    
    (cherry picked from commit 55b42c5ba9e78b1d6662d45f1b68898bc67548c9)
    (cherry picked from commit f83b5bc97f991bf357545b2fe10fa84725d24f9e)

commit 2ca3d98c15a167c525fc1ced1d75f03e02cdf0b6
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Jul 21 10:10:45 2014 +0200

    msilo: check if the register has contacts with positive expires value
    
    - otherwise is un-registration and no new contact to dump messages
    - reported by Anthony Messina
    
    (cherry picked from commit 6559c4383858d472637807c6ec4dd1e0616507fa)
    (cherry picked from commit 80ea39b93278e99b32e6d16f6bb76fefad3d691f)

commit 3d33f5c078f2641535b178aaf4facef2d4fc8991
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Jul 17 19:13:42 2014 +0200

    usrloc: refresh call-id value in case of update of location record
    
    - related to FS#448
    
    (cherry picked from commit c2b334bf41cbe6fa7b7e15d825dca1fa36c33770)
    (cherry picked from commit 8671ba9b2c1626247d777c1d6fcbe25966d465da)

commit 464ccb299ef81fe9dafe67a4237cb3c21dfefcc2
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Jul 4 13:46:35 2014 +0200

    usrloc: generate callid at startup and increase cseq for records added via mi
    
    - should fix FS#448, reported by Savolainen Dmitri
    
    (cherry picked from commit 66c497fdf4ac1c3b889a7c3b50c3e5fed770cf0b)
    (cherry picked from commit 20a01c50c8a144c7edc838bea003b665469f4120)

commit 0333955ba91129bfe957a4ee644b1cb85a808a42
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Jun 30 14:37:40 2014 +0200

    tmx: handle branch_route for $T_reply_code
    
    - use latest sent reply code
    - related to the log message reported in FS#445
    
    (cherry picked from commit 2e28163f2f3e756c89f8cc43df0644be38c5e06f)
    (cherry picked from commit 9a0d01daf296cbe78b29e8db00f0d4b3e9c6cdca)

commit 2449a43c631411fb16f263254b1bc6974fe463bf
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Jun 30 12:11:45 2014 +0200

    geoip: free allocated pointers at startup in case of error
    
    - cleaner shut down
    
    (cherry picked from commit 5db25855613f922059b53d7149e97b4985120de0)
    (cherry picked from commit a427c0ac7973c0321b9b6e2d7f70dd3fee5b5414)

commit 8186b27d931990681eba69025ca33b458c5886d0
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Jun 30 12:05:19 2014 +0200

    core: reset cur_opt shortcut after use, it points to local variable
    
    - safety to prevent invalid access on future extensions
    
    (cherry picked from commit 1faf19fa7d34528b6cc15ffcb1ec91a6c6074e90)
    (cherry picked from commit eb3f7cbc27fd678891910a14377ef0c5a3477bb0)

commit 8a8295fdbb03b524979770996e0a1df537cbde87
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Jun 13 12:00:21 2014 +0200

    dialog: backup and restore exiting route type when executing dialog event_route blocks
    
    - reported by Nuno Miguel Reis
    
    (cherry picked from commit 4fab97fb54334a55b1fce4e0d2f417fda5727c3a)
    (cherry picked from commit 4eb7b5b0d4b2d914f488d15d637e4448102d6d63)

commit e6ad1324b594b77786b8f98f1f078a34012a25be
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Tue Jun 17 11:47:50 2014 -0400

    auth: document '-8' return code for pv_www_authenticate
    (cherry picked from commit c9c8f8d71fdad33caebaea07922901618bcd7825)
    
    (cherry picked from commit b8cfbb2e5bb36f117cb0756339b58f71a97b70c0)

commit cd4a02a1f2aab3ae00f36f575b30b9c30c0f0453
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Thu Jun 12 12:46:39 2014 -0400

    core: fix crash related to core sockets_list  command
     - reported by Nuno Reis <nreis@wavecom.pt>
    (cherry picked from commit 1c715b1a2a66a4a15d1a8def33ef369212712bb1)
    
    (cherry picked from commit 2198cb5d508055f495af29866045d51c1098d5cc)

commit 211e1a64568ce2a4881f1943b6abce20580a3baa
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Jun 12 11:48:01 2014 +0200

    acc: allow recording to the rest of backends even when setting db table fails
    
    - such error doesn't affect radius or custom backends
    
    (cherry picked from commit 655711330b2ffd82dc84330ef0e0fbbad82a9160)
    (cherry picked from commit 6c3c5b977941c605aa1be2ce582b3b843dbfcafe)

commit 0332f182210e69c7d2111dac37657db4a49d0c40
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Jun 12 11:39:55 2014 +0200

    auth: proper fixup for optional method parameter in pv_www_authenticate()
    
    - reported by Muhammad Shahzad
    
    (cherry picked from commit dd00819f7cca976e699a20960956abff760df957)
    (cherry picked from commit be8fb6fa8a1492259a26abe4825653f1f66ff0d8)

commit 7b53e901856b3bf4c1f11998c87b99387f64ddab
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Jun 12 09:59:44 2014 +0200

    core: sync definition of destroy_rpcs()
    
    - reported by Victor Seva
    
    (cherry picked from commit 28be6c3c79c02600f03a51b2393b289fbe8c9bd9)
    (cherry picked from commit b1ab677fe8977656c65112b558661673fdeb9f52)

commit a41d210adf848cb335148db1cc8d5469cc84a489
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Jun 11 17:12:37 2014 +0200

    dialog: execute internal event_route blocks under local_route type
    
    - request_route type triggers additional script callbacks that could
      reset the transaction and can cause crashing
    - reported by  Nuno Miguel Reis, FS#440
    
    (cherry picked from commit 88a9ffee284338d536b6f7e072e5c99b29d983ee)
    (cherry picked from commit fbe73477eae716693a35615df1375dc16d7e65bb)

commit d9c8bf007e1f243d7140bda97a584f392f6287b3
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri May 30 13:34:08 2014 +0200

    core/parse/sdp: proper parsing of a=rtpmap line
    
    - error handling when malformed line, avoiding crash to due to invalid
      offsetting when clockrate is missing
    - reported by  Michael Ricordeau, FS#435
    
    (cherry picked from commit c842bda9dac46724c58b734d092391c79867f2fb)
    (cherry picked from commit fc7f840a91394d5896d54ad534d8b6c9c61ec553)

commit d3489f6de207c87154de9cafcbbba7c1d3dcfe98
Author: Olle E. Johansson <oej@edvina.net>
Date:   Fri May 30 09:20:49 2014 +0100

    auth_radius: Improve error message to simplify debugging
    
    (cherry picked from commit 6e51019b0a2c60178b9ca03b9bb2a5fef49ca7ba)
    (cherry picked from commit c81c360315105e47f5fdd762ffb6490691c3c675)

commit bcbd335e6ec959510f2e531933bf8ebaf3e382ac
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed May 28 15:47:10 2014 +0200

    pkg/rpm: use pkg memory size when checking config in init script
    
    - for large configs, check can fail due to low memory
    
    (cherry picked from commit 91a362e2f1bae90e2564491560aff8bad5b04564)
    (cherry picked from commit 2f8f293242b7982b1ad843f5bfbcea22bf35027d)

commit 83a29da3d3a4d77993a75731d22b0f72cca1c0d6
Author: Carsten Bock <carsten@ng-voice.com>
Date:   Thu May 22 21:07:17 2014 +0200

    Core: Bugfix: Do not reset tcp_listeners: We may only listen on TCP.
    
    (cherry picked from commit 9b9d15875aa09a5574ff0754309f4f77161d3194)
    (cherry picked from commit f2afd026ff9509151612c3b180b3d813e95484dc)

commit 2ae4e651d792dffcccef5b6c39ea9f0476d6b8c1
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed May 21 09:55:46 2014 +0200

    core: allow listening on tls without listening on tcp
    
    - reported in FS#425
    
    (cherry picked from commit eea7f9d04090a736c8a0f2b2a350c08635cc8e39)
    (cherry picked from commit 4267ba4cb15da135d4cd5543fb7f8d5f2f02ef9c)

commit 9058b2ff76cd7851f2b8be43f0ddab0c53c7161b
Author: Juha Heinanen <jh@tutpro.com>
Date:   Tue May 20 16:22:58 2014 +0300

    modules/siputils:  generate error message if parsing of is_gruu() uri fails
    
    (cherry picked from commit 365a60772de9c1d2f19ecf52b12f6d75b348e996)
    (cherry picked from commit 7453f5e3b10b4a257eb2e1e1650bfabc5f381ec5)

commit d29215741a09ca4e45ed88f5b1e84c2117ad84ec
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue May 20 09:16:01 2014 +0200

    core: print number of parameters used for searching cfg function
    
    (cherry picked from commit a313a8d33afdee6c7eb70cd57161aef8e70c5bcf)
    (cherry picked from commit 93fb970b87216ea5f63b077f02bbe1c085ddc45c)

commit 2e6bb14963738d9121c0319c7d25c43325c14c9e
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu May 15 12:48:04 2014 +0200

    core: use port 5061 for checking self when uri has transport tls
    
    - 5060 was used, failing to match myself condition
    
    (cherry picked from commit 2e55d7bd218c9f954da7d289ec1be090bb4d88b0)
    (cherry picked from commit a008e0f7d0920d061892819a121d1f07ba4b2a70)

commit d0e071635b12e769f5d17280b2bc11f3118842e6
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu May 15 12:46:14 2014 +0200

    topoh: match on all ports if none is in the uri for checking self
    
    - forcing default 5060 can fail for multi-listen case and tls
    
    (cherry picked from commit 1d90f4de94dfc887cc6129624fd5e6ad989abd37)
    (cherry picked from commit fdea08a522ed6d1e30b6b8eab0e74bc47078d57d)

commit a2bd0750c532bdd1181930d9733b91608d7f11ce
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed May 14 23:37:54 2014 +0200

    kamcmd: proper size for memset, based on malloc
    
    (cherry picked from commit 7134959725011baa504a027c4561e0054dd907ae)
    (cherry picked from commit a768ffa5a083bbddc35db59b2686046c000c0482)

commit c472dbb637ac367accc5299f6b37336c17e2e871
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed May 14 23:12:33 2014 +0200

    rls: proper header define guard and check of null returned value
    
    (cherry picked from commit 4f2da3e025fa281f88e80bb841a51d6546219ae8)
    (cherry picked from commit 3c7e14f849884d5d145a7ab9c942acbbc9c5d282)

commit da3e32831e717193901b37fee6f73bae16616335
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed May 14 23:03:19 2014 +0200

    db_flatstore: free result before returning null on no more pkg
    
    - partial allocation when doing an incomplete new connection
    
    (cherry picked from commit 74743d6ef3bf74c1226ba5a1b6bebfbe19b06b93)
    (cherry picked from commit 386ef2f61d18966ceb70916869389f2690e0a6ef)

commit 662e767adf886fa0f42cfe7d254e6c4a4471aeb8
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed May 14 22:56:37 2014 +0200

    core: free previous allocated variable if no more pkg to build rve struct
    
    - cleaner shut down if not enough memory at startup
    
    (cherry picked from commit ace56c6bd2221920b965185c1c9a5997cd3f2768)
    (cherry picked from commit c5c1002be8c4f3e24d1b79b77856db2879b97c72)

commit f9ac91ffd21a235a3aa14dbef51197c69afdaae7
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon May 12 22:54:54 2014 +0200

    dialog: if sending BYE fails at timeout, unref dialog
    
    - destroy dialog structures
    
    (cherry picked from commit e39a90e11bfed2b4445c37db1532488aa9e3e725)
    (cherry picked from commit 12a0a927aa3ad6dfbb18ab3fcf1927bf51098925)

commit 71371b2f5607a1f722e1cc97ea93518f0a111e92
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat May 3 21:06:34 2014 +0200

    mem/q_malloc: free old pointer if allocation in realloc fails
    
    (cherry picked from commit 8c2888fcd33bee45cb4654222da619e70ed44ecc)
    (cherry picked from commit 3457dc459acd7eba96a0cb77e7d50cfc349c303e)

commit 283b3cbb583be77d8a45edc10ce90f7f99a1b328
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat May 3 21:03:34 2014 +0200

    mem/f_malloc: free old pointer if allocation in realloc fails
    
    (cherry picked from commit 41a37b570758445d723d4d78b9786f8e6cb5722c)
    (cherry picked from commit ce46f5482f56378beba16c68d1e5af5e5d593008)

commit 745459e4492308abe1b268b0e96beaf9dc556b4b
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri May 2 23:58:12 2014 +0200

    mem/f_malloc: check returned pointer for bitmask index
    
    - if null, reset slot and search on bigger chunks slots
    
    (cherry picked from commit 892a24f7256e60e2a0116655e0052c284479b7d2)
    (cherry picked from commit 2cfb00b4a24f24cd9462305f4518797706b8f6f1)

commit 6727b86d78b3c7aefecf530f5e33867178afd3cf
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Jun 11 19:01:17 2014 +0200

    auth: enhanced log message when method param fails to be retrieved
    
    (cherry picked from commit 35329870fe22115fd24a396b743e4814278ce46a)
    (cherry picked from commit 3997dcccf36579442cb92222fe0868accd64b537)

commit 633a7589f0dd0af0df68a23a4d8bc41b3b02164f
Author: Torrey Searle <tsearle@gmail.com>
Date:   Mon Jun 2 19:51:19 2014 +0200

    srdb1: fix memory leak in db-id
    
    - When getting an existing connection from the pool, free the newly
      created db-id as the pool connection already has a reference to the
      existing one.  Fixes FS#436
    (cherry picked from commit 69de17d3bb1d032f9a41752362194d718336e20d)
    
    (cherry picked from commit 94ebfb5d5973ed59de84ca0e0c87052b4c80f9de)

commit a436b49a4dd2937a000ee9280e9fa6be053f4a5c
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon May 19 08:56:38 2014 +0200

    dialog: add wait-for-ack callback before response unref
    
    - in case of a sipral for ending in a negative response from initial
      state, ack to second iteration can unref prematurely the dialog
    - reported by Pawel Sternal, FS#427
    
    (cherry picked from commit d81fd1bf067b78b55ad348db2531c4ba9b10dddb)
    (cherry picked from commit 642428cf8be1c7355f91b14276e888ec505cd69a)

commit 7573bbe1b815c960476b13d740594bec58e0e147
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed May 14 23:28:24 2014 +0200

    parser/sdp: assign stream var only if session is not null
    
    (cherry picked from commit 1cefc0c5f83eb4b7b6ffefc6ab383d7aae6de07f)
    (cherry picked from commit ad5235229f59ba5d1f4216e144291e110fee0211)

commit d5093558f2d8137e29b92dbd1517a9b79cdc8c0e
Author: Hugh Waite <hugh.waite@acision.com>
Date:   Tue May 27 15:42:08 2014 +0100

    rls: Fix memory leak with duplicate entries in lists
    
    - When duplicate detection is requested, free the string and container
    - When duplicate detection is not requested, insert the duplicate anyway
    
    (cherry picked from commit 5cd3bd3a1bbcc9edffe31c0b1fdf11da43023b2c)

commit 1250b59a546f6ed947c920e97c3c3b4f86a9dd58
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue May 27 12:07:42 2014 +0200

    db_mysql: proper handling of mysql_next_result(...) return code
    
    - it indicates the presence of another result if return is 0
    - reported by  Maxim (simax), FS#434
    
    (cherry picked from commit 37f0964278e925d5530563b38c82a57de1f7fa59)
    (cherry picked from commit af4f84b84ca7601bd8124fe2e82d0718c7975313)

commit ae8c29f89965eb127f9c9acd294b455a7071a6e1
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun May 18 19:07:38 2014 +0200

    mtree: replace tree structure even there are no records in db table
    
    - reload didn't replaced old tree if no records in db table
    - reported by Juha Heinanen
    
    (cherry picked from commit c36f326d3c7372b149592d438df75f3d7b0a0233)
    (cherry picked from commit 47a00936695c46176c3c047e0ab141b4127d08dc)

commit dd8c0ed431a0906b983815804a308db4a33fe0d5
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Apr 30 21:46:55 2014 +0200

    core: compute the len for dns srv name
    
    - fixes dns srv for cache, reported by Rob Eijgenraam, FS#426
    
    (cherry picked from commit b834cde74f8a4b41ec24ceb8332adff8bb3922bb)
    (cherry picked from commit 70f1b7479f80ca4f5e3a45fcf772785c110d0b57)

commit ad8652885f548f255b68d997a7a050e3a4a26a60
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Nov 5 22:16:43 2014 +0100

    tmx: removed non-exitent BRANCH_FAILURE_ROUTE following the previous cherry-pick

commit 07ded29ceb29882b6c60facee8cb5ef19ecfbb6e
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Apr 23 22:12:48 2014 +0200

    tm: reset local lock reply status after functions that do unlock
    
    (cherry picked from commit 5943a8005baf8ce1239d2cf728373cb26975483a)
    (cherry picked from commit f32354f9aae3afadca98e5a1cf254d9286a3a985)
    
    Conflicts:
    	modules/tm/t_reply.c

commit 6a47b121daf29a804b32bf22fb37b78fc2c539e3
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Apr 22 20:51:31 2014 +0200

    sercmd: refactored reading the rest from socket on reply too long
    
    - patch by by Savolainen Dmitri, FS#422
    
    (cherry picked from commit fe9c519ca6ef6625f0b0d9c7027158641c636087)
    (cherry picked from commit 080ad14a64834b7621bab3a0aa00e82d8de4490a)

commit 23c2dc232aa29e375a28c85622399f4efded12aa
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Apr 18 17:22:43 2014 +0200

    sercmd: read the rest from socket if message was too big for rcv buffer
    
    - reported by Savolainen Dmitri, FS#422
    
    (cherry picked from commit 5bc9e43eb6827220468f526c3df9d4c775311e51)
    (cherry picked from commit ef31388e6654a6006d680fd1363f95ae6f1e2f80)

commit ce930e49f19900c0c4d46750d1913953c4e4c68c
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Apr 22 10:12:21 2014 +0200

    avpops: switched from initialize struct with {0} to memset
    
    - apparently gcc doesn't like it although it should be the standard
    - clang is ok with it
    - reported by Juha Heinanen
    
    (cherry picked from commit f0e8c293e28b3761d0f13e2c604eb1cfbbad7ace)
    (cherry picked from commit f2df24d92707c89cd9e3d3c8e26dccdd1fa96cf8)

commit 39948e1cce23f5e871f6da82eadff292c93623d5
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 21:53:27 2014 +0200

    exec: free local variable if there is no more memory in next attempt
    
    (cherry picked from commit 314ea152c51cd8d4b46a49c05a3fed564c81c0ea)
    (cherry picked from commit ca2245a5526a88a02b5f9fc46f3f00bd6ed32929)

commit 4ca2fa268189e67e8c464518804fbd58de55cd1c
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 21:52:16 2014 +0200

    htable: init allocated memory after checking parameter
    
    - avoid useless operation and extra check for leak
    
    (cherry picked from commit 9f042bb2798f29d476148ab2887a05709d5258fc)
    (cherry picked from commit d7bdb23dcfa29a8883c5c2552ffe91bbef15a28f)

commit d1231e42609f666ded1dfeffbba12b0c97d4e8e4
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 21:50:17 2014 +0200

    mi_rpc: don't access fields in structure after free in mi_rpc_async_close()
    
    (cherry picked from commit f619a813ef46c76dd25c50b86f8af6cd768ac38f)
    (cherry picked from commit 6c37ed696c6ce2ca4771dbd53afdad54480b7ecd)

commit 5ea8a53c23a03ab2d45d9c4df1f5023815c89fae
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 21:47:06 2014 +0200

    rr: free forgotten allocated local variable trans in case of error
    
    (cherry picked from commit ed60b891f915017b385a722f2a9c0bf171802eab)
    (cherry picked from commit 90bcf7d040a599c251ff701244abf45d94051250)

commit 972bc91d37eb94c53b89c59d92a1749375e4a174
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 21:44:42 2014 +0200

    pv: removed mistaken pkg_malloc() left for $cnt()
    
    (cherry picked from commit b6b023038452a7cb1ded28bf82f81622b34ce201)
    (cherry picked from commit 44f6bab76c83a48b4a827ab07ce35881ea3f4f56)

commit c2a4dd4474a129c22af3ee75c506834a835e6ba4
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 21:43:59 2014 +0200

    textops: cleanup on error parsing methods at startup
    
    (cherry picked from commit cee4b58e1728be7de2c15ae25c4c1be0dd3088fb)
    (cherry picked from commit 99aae469bedf5048f8651ab1b67da6acab1d103f)

commit 7b65e182dd9c92118711b9887db741748ca735ff
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 21:43:05 2014 +0200

    tls: free the file path clone when all went ok
    
    (cherry picked from commit 5fe289cae2ece412eeaec4efefcb411a7ed434aa)
    (cherry picked from commit f8be610bacc61ecd94741c33ea9fb7a9f2c5e231)

commit 74df014cbc32987261fab89c72e3a107332d79db
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 21:41:59 2014 +0200

    tm: clean contacts in case of failure in t_load_contacts()
    
    (cherry picked from commit 09ebe81a4ccb4346af778cc21c789b0db0e193d9)
    (cherry picked from commit f1d15ec03ea2a4ad795a6e323770dc289017107a)

commit 1e9041b635d0c3485754f5b05eeed2defb8b3213
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 21:41:00 2014 +0200

    xhttp: wrong variable was used for checking memory allocation
    
    (cherry picked from commit 8589936aac4a6341b4d56bfe2ed7d4d90a169d56)
    (cherry picked from commit 66b646163a822b93ff3f4adf71308051e5079568)

commit d4ea84b05a1d4adddb23714e04820aacc242b9bb
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 21:40:15 2014 +0200

    xlog: clean exit at startup in case on error looking up facility
    
    (cherry picked from commit 9f8f66c44f5d44f945bba3b63160967a19044b8b)
    (cherry picked from commit b1affbf3bb2686a9bb24ecde2742cd137cd53ada)

commit 920ea549581b564a73ca7d8cd5348a1c2fceb39d
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 21:39:07 2014 +0200

    core: proper destroy of tcp connection at shutdown
    
    - don't access connection fields after freeing structure
    
    (cherry picked from commit b3d312bc3795f394e5907ac54bb59560e829e38b)
    (cherry picked from commit 4d8d08dfba59a4a1d244d84bae020502d4cb5184)

commit b2324dcad3ee7a7f74eb2ee3b542ddaaaa668518
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 17:57:09 2014 +0200

    core: safety check accessing variables in dbg message during fixup operation
    
    (cherry picked from commit 0bda1dc8238f6be5bc83711e0439dabff39c9120)
    (cherry picked from commit 94744ef0505268ea7e52a259f0f4636cb530e488)

commit fcb2a8475dc59fd62fce3b3b0d01b8fa5e238b34
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 17:56:01 2014 +0200

    core: link regex before replacement field allocation can fail
    
    - regex will be freed properly if there was an error for replacement
    
    (cherry picked from commit 511de7f5dc047368799e18d028e1e3f2864e05ac)
    (cherry picked from commit ccba274c28bdc2c789d79a7c962bc76586dd62f1)

commit f216e15302470f51a1c9e09dfc53ef08a4b0175e
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 17:52:53 2014 +0200

    core: safety check for freeing either pkg or shm values for var, when applicable
    
    - just an improvement to avoid doing both operations by mistake
    
    (cherry picked from commit 256b1e17e5449ef844b885d542a9c1f66fad044a)
    (cherry picked from commit 7a1f99285d6c6b5eeeaf463923c4f9ff7ccff5e4)

commit 927dc837ef5fd168ebbed69219b670bac6572623
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 17:52:07 2014 +0200

    core: safety checks for pointer in dbg message printed inside dns cache
    
    (cherry picked from commit 2abbeb8fd31e41a34a013ff65eada197f171f321)
    (cherry picked from commit b418eaaadfda9be8acfe03342c584032a9d66884)

commit 2e55e514f9abc8c065acb51aa0d95de595637641
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 17:50:53 2014 +0200

    core: free allocated memory in case of failing to get more for modparams
    
    - keep shutdown at startup error clean
    
    (cherry picked from commit b1106fb492a3e6e8ab73d37912b9a86d14373e75)
    (cherry picked from commit 39290d29a46fb29e3030dead34e260ac4c663ff5)

commit a495f5a1c41bc346c503e7b2b29ed054c3efd006
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 17:50:09 2014 +0200

    core: safety check when declaring a cfg structure with empty content
    
    (cherry picked from commit 6f47c9ee24adea03df58e84d296e9682e5f81286)
    (cherry picked from commit 24ba3f86d29ffb250663e32c3d60592bb1f15c86)

commit 8417af62c8c6ee6bf5bb7f31f39d6370d4f9775c
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 17:48:16 2014 +0200

    core: free line_buf in case of error building via
    
    - free buf in a very unlikely error converting src_ip to str in static
      buffer
    - coherent checking of msg pointer in the function
    
    (cherry picked from commit 3c062c1299dabd76e8461389b67506a25d1fcc02)
    (cherry picked from commit 5fbbdfb2d9632f0286d151d02a43ca81c5584956)

commit 4bc741b3d8c8e7298996c381a5b343f387c12779
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 17:46:36 2014 +0200

    srutils/tmrec: reset pointer after free to avoid double deallocation
    
    (cherry picked from commit 69d43fbacdf121b6c3ab22686f9089d9c7859591)
    (cherry picked from commit 71165758575b606bea73c0caf55f861b9223ced9)

commit 491018bd02f7b340deec06368bbaefa2c0ca97a3
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 17:45:52 2014 +0200

    db_text: fixed access after free and proper size for allocated memory
    
    (cherry picked from commit 6a82b6121f771b6b847aecf4c5a0c42d0388c5d0)
    (cherry picked from commit f10ffb4b3c2d1fb04f116ddf523caebbde9b561d)

commit df6cbeeb127d886f2b951e92d7b559340fce27cb
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 17:44:34 2014 +0200

    call_control: replaced dynamic str* a local variable
    
    - it was freed afterwards and could leak in case of error hanling
    
    (cherry picked from commit af81862f5930d4c33639c204a7d88aeb484d3f0d)
    (cherry picked from commit b6f3b4dfca4640b9ade55a18013134e9f7785ee6)

commit ba32de8e09de5c4cbd02d45a45e35a72e1178b51
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 17:43:47 2014 +0200

    avpops: initialize local variable to avoid warning on db ops function
    
    (cherry picked from commit 98bb8c7e5166d2ff494daa9c488073d16dcfb405)
    (cherry picked from commit a3022d5525265e9cf41a41dc9f0d01a8865a922c)

commit 72c52fc70b01cc3f14f2b20791871e629f4f1d60
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 17:43:00 2014 +0200

    acc: avoid memleak at startup when failing to initialize a custome accounting  engine
    
    (cherry picked from commit 33d001a91fae080546755f63101c9b05fdf49b22)
    (cherry picked from commit 376f909a7230a6dc8916c38964f99bda71252085)

commit dfaeda4c9144d1d4f0fc3f2906e50e67597217c0
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 17:40:27 2014 +0200

    mem: remove trailing ; to allow using as single instruction in conditinal blocks
    
    - this is for system malloc with extra debug for private memory
    
    (cherry picked from commit 53642d60ff2a680f724d5f439cf2b868bd082c3e)
    (cherry picked from commit 3fe7975909d577c015c94705b56e1c7647d51b22)

commit a80d07ff31a28d517b55e9187abb3f32a5a4c8f4
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 17:39:50 2014 +0200

    benchmark: avoid memory leaks when dealing with invalid mi commands
    
    (cherry picked from commit 89c48cda56a67bd99288f6f390802f14b340e6da)
    (cherry picked from commit 020572ade53a19815c9e05edc6e8eb77873ca465)

commit 4f0b9690483a2a803f1d461dfa6612f09f7193e1
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 17:38:19 2014 +0200

    auth_diameter: avoid double free in case of error and don't access freed pointer
    
    (cherry picked from commit d2f71f30011cb885f494e5d7d82ffdd15ff5dc7b)
    (cherry picked from commit adb8ba7986f8ffda8cac44f573b7e0df6a7875b3)

commit 948ba168fd0557c822a348c2fec6a2a4419b8033
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 17:30:40 2014 +0200

    tm: release re for t_check_status(pv)
    
    - the canse when parameter is a variable and it contains a bad regex
    
    (cherry picked from commit 2f01858d0be09cecd5e21e3e10fdd9d6425be028)
    (cherry picked from commit ec542b2ae46391635032c4fe705dc05a2a5eebe4)

commit f9f50dacf2b4819d716011c79ac86a0f3db4b53f
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 17:29:15 2014 +0200

    tm: fixed typo in previous commit related to name of struct contact variable
    
    (cherry picked from commit 387c369a11730afe680fb32138b93d4024f5b88d)
    (cherry picked from commit 773ee22645ecbf042a871b510fff77b967bccc4d)

commit 5777defe48918aa121608200f7f5ed8da949de6c
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 14:08:10 2014 +0200

    mem: DBG_SYS_MALLOC can be set to get verbose mem ops with system allocator
    
    - PKG_MEMORY has to be undefined in Makefile.defs
    
    (cherry picked from commit d8e242c64d6c3d167c5a2b326ec77727d6d38217)
    (cherry picked from commit 8c2d3609a9300e8168dd6d8d8acdccfb41f2f150)

commit f182cca3af05dcea3a07b0c6065dee41dbbc60ca
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 11:12:23 2014 +0200

    tm: free struct contacts in case of error retrieving r-uri in t_load_contacts()
    
    (cherry picked from commit 770434e87ec14b9662314e8a13d587f547e876cb)
    (cherry picked from commit cde022bf36af39d6c5ad0e9f991a5db1a85933ef)

commit 05fca1e54d8911711b0acba3323ec1c6f2e56aaf
Author: Timo TerÃ¤s <timo.teras@iki.fi>
Date:   Mon Apr 21 10:57:11 2014 +0300

    core: fix some #includes to be posix compliant
    
    sys/poll.h and sys/fcntl.h are GNUisms and might not exist on
    strictly posix compliant systems. This fixes to use the posix
    specified standard locations of these headers.
    
    E.g musl c-library will give warnings on using these non-standard
    glibc 'internal' headers.
    
    (cherry picked from commit 2c74ba02c843349a6ad30f7e668a7a194dac679c)
    (cherry picked from commit ad169fc1c3a207670c4f3615258e3637127982d5)

commit a61313c486b4dbea1237b0fa160a68441beccbc5
Author: Victor Seva <linuxmaniac@torreviejawireless.org>
Date:   Sat Apr 19 11:06:48 2014 +0200

    json|jsonrpc-c: fix detection of json-c lib
    
    (cherry picked from commit c290e58b7f50bdd7f9d691c4890baf1c9f74cb0d)
    (cherry picked from commit 59f1bb0a700a5b8d39ac56b76dc640a08fec86dc)

commit 05eaa32e1f64ed20cef46408d17635dd4e64351d
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Apr 19 00:35:00 2014 +0200

    tmx: check if t is null or undefined for returning branch index
    
    (cherry picked from commit 37b0bea4ea6dcad3fbe1a2a93229bb1441ab8679)
    (cherry picked from commit 5fe5e4b337e665a8de1b763bc6310edfebdb51bc)

commit 9acc9fd6085f607e1f462c6678c63dc6089e46dc
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Apr 19 00:34:23 2014 +0200

    tls: test if conection is still active for peer verification
    
    (cherry picked from commit 458b803efa2de5b1a3bcdd83400f6ef7c6fad2a0)
    (cherry picked from commit 577536ede7321f8aea31806e825738f19ff0a948)

commit 090b860ef6559fcf69d8da54c76ec7be44362e7a
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Apr 19 00:32:17 2014 +0200

    textops: use local variable to copute the offset in buffer for hdr ops helper function
    
    - when a prefix was given (e.g., append_uri_hf()), it could have led to
      usage of invalid value
    
    (cherry picked from commit 110882edfee749679e0b05528bd4e1bcfd2321b3)
    (cherry picked from commit 531c8459f700692a2a5b7e10d011cb5a32539f28)

commit 0d4706bca24471033d4c8e515ce54b20c3660a31
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Apr 19 00:31:23 2014 +0200

    rr: coherent check for optional user part of advertised rr
    
    (cherry picked from commit 48c42830f8d9f5927453dc091765c2434845c725)
    (cherry picked from commit 01452997058ae07ee27f5e5e152a0f72d80a1dd8)

commit 8c62124b5fbe7734cafb731980bee9274121a898
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Apr 19 00:28:56 2014 +0200

    pv: return error if shm is not initialized when $shv() is used
    
    (cherry picked from commit bf6cb8e2dfedb5b8c6cc367ff6e8355a8313d887)
    (cherry picked from commit 47b428cefd78e094c3ed4f86591072577236e5b3)

commit 2a4a5d219b2a96bbede4c1ee07edfb09456af58f
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Apr 19 00:27:54 2014 +0200

    msilo: check to be sure len is positive before trying to copy string
    
    (cherry picked from commit a6cf59395c472b999d5cc4197de80cd9385dfd11)
    (cherry picked from commit ae0a3f7534c797b12188c650287a5ccc1fe4483f)

commit d94cfef4b69cd21a83e6cea5d3a3765e928370d7
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Apr 19 00:26:53 2014 +0200

    mqueue: use static var to return pointer to dynamic queue name
    
    (cherry picked from commit 6626f9a73700f9af8d46945e250fc8ab88f5aefe)
    (cherry picked from commit a6a8cf02373df4fe4e3afdd1f76dfb5e435fa4a8)

commit 48be9f7525a2723595ff53953613dc2a9e95a0b5
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Apr 19 00:25:21 2014 +0200

    dialplan: fixed typo in define for guarding .h file
    
    - init local variable to avoid warning
    
    (cherry picked from commit 53f67e60f491bb5b9f56ce010410de8eff23430a)
    (cherry picked from commit cb9e54adabb51bd21402d6889e3169b919f14909)

commit bb99f5e55f6cd2e2192ca37dd07f7948e833b2f6
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Apr 19 00:24:16 2014 +0200

    dialog: detect the param value type for setting by routing block
    
    (cherry picked from commit 69d67c01e03d1363948b3597bb2afdf3cd0145a2)
    (cherry picked from commit 0b75d7263ffc3282572d60637c287771c8223f0d)

commit efc3a77733894170238f3b1dd8fbda202a3a826e
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Apr 19 00:22:52 2014 +0200

    ctl: free allocated pointer in case of error
    
    (cherry picked from commit ccd1593834a47973bddeea94037fe8d3fd862cdd)
    (cherry picked from commit 15f11641e58090f2a405d2231e6e15dfeaa4a231)

commit a6263f64a546d7775003d740e9dc12284fc39fc8
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Apr 19 00:21:50 2014 +0200

    parser/contact: cleaned log messages and safety check for invalid iterator call
    
    (cherry picked from commit c1feccdba8f4c4b624b948595f9166b83e65ed6a)
    (cherry picked from commit 0d175cf7c20394d99a0c00602d3d19348da29a9f)

commit 62d1d880c8b5b7e28b1b19cd3978582fc87d9f8b
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Apr 19 00:21:09 2014 +0200

    core: safety check for finding select final node
    
    (cherry picked from commit 58acedef5a7748310b1032b534c3174f1e3d1a62)
    (cherry picked from commit 5f28fd8637f7a0fa1ab866a96fd3564e9c14d7dd)

commit 952ad1733397b9defd142e6321f78739734b9e4c
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Apr 19 00:20:19 2014 +0200

    core: print rdata pointer and wrap null condition around it in dbg message
    
    (cherry picked from commit fcc6dbd6d9b50bdbee7ba22c22f8f06a98bfb2ca)
    (cherry picked from commit c7ce1e3563f3eebe6960d619264e23982135e13b)

commit 6a78779566f1898395be23697370ec6d7a07da30
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Apr 18 19:01:22 2014 +0200

    uac: safe initialization of vars and debug message for uac_replace_to()
    
    (cherry picked from commit a7251ba4140df3fa9b4fd3ea6a4d48ffbe156597)
    (cherry picked from commit e335fefcafac7c6403496638cf781a52d0959bed)

commit bca66e836ce68d5d6b6784b5902c7dfe9a5cc059
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Apr 18 18:51:33 2014 +0200

    textops: init s field of uri str structure for proper evaluation
    
    - otherwise can get uninitialized to last if block of
      get_uri_and_skip_until_params()
    
    (cherry picked from commit a2513a2bc820f935c62f14749ddaefaf77951891)
    (cherry picked from commit 9e47733d7346b2feddcfaf25eb61413ed4e0e48d)

commit 435f9121d9a3c899c2bdbf8824c771328a7f5604
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Apr 18 18:38:53 2014 +0200

    textopsx: init local variable to avoid testing invalid value
    
    (cherry picked from commit f0186bf375d4653b5354df35a9a8d065b56522ee)
    (cherry picked from commit df4991af5bc1458b7781cfd36b95940cbc1cc4de)

commit fe2841e6e4bca550048b19e5464540bf768b3b4b
Author: Victor Seva <linuxmaniac@torreviejawireless.org>
Date:   Fri Apr 18 22:07:47 2014 +0200

    json|jsonrpc-c: use new naming json-c lib if available
    
    (cherry picked from commit 679833f9f098e1ebc5e2b66978a5535af557924c)
    (cherry picked from commit 2375b7a8d4bc4a97ad6e749a51425f8be0ab446f)

commit b2a407d86d430bc10d26b9854c09f028e46a9760
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Apr 18 18:11:38 2014 +0200

    core: added some safety checks for cfg framework pointers
    
    - avoid dereferencing null in corner cases
    
    (cherry picked from commit bf7b6c25cdefc2a6a473c6fe8f496c858e05d020)
    (cherry picked from commit 135ff6c9e91747be42c957685ca5b3ebafb974ea)

commit 9e67bd5b745e80da9ab5f30d7530ad689d54570d
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Apr 18 10:49:24 2014 +0200

    tm: lock replies before restoring flags for onreply_route
    
    (cherry picked from commit ac2e49b41840e0b05750b20c367a6c380caa983a)
    (cherry picked from commit 3c686813c88ad575e7085351297f4d0ae4f2cfe1)

commit 677b14b3b628d0f7209466f8d05dbab5fd9e105b
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Apr 17 16:16:04 2014 +0200

    tmx: properly receive the branch index for $T(...) in the branch_failure_route
    
    (cherry picked from commit 27c383c9224055e3d1b01238ff47785449e4057c)
    (cherry picked from commit 75c75a5d2d4046276883c2677df1ef3cf0e29fb8)

commit d03347eab231e9a84a3eea38eb717248828e7252
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Apr 17 15:49:36 2014 +0200

    dialog: set lower limit for dlg_ka_interval parameter to 30 sec
    
    - avoid many keepalives in shorter interval than retransmission timeout
      could be
    - an improvement would be to export the fr_timer value from tm and have
      condition based on it
    - reported by FS#417, Bill Radis
    
    (cherry picked from commit 5c5b587d44a46b3a4d48c7e7926c42a44cd4d8c8)
    (cherry picked from commit da5beb9839ea5a6a2e27dbe2fff8866b2d4d69ca)

commit 6dff9e27d370e85f9c5a0a92b84ebdc24649db24
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Apr 16 08:41:51 2014 +0200

    maxfwd: max_limit default value set to 70
    
    - recommended value by RFC
    - lower value can create issues when terminating to PSTN/ISUP where
      can be used to set the Hop Counter
    - patch by Sebastian Damm, FS#418
    
    (cherry picked from commit 73c440e87fc256cda99ab572c0a259c13acac700)
    (cherry picked from commit 07c25fe8bf8425cdc7f909ea5b16670a65254ff9)

commit e49da619c466a8b01495ea1997691ab617c8ea50
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Apr 13 22:19:15 2014 +0200

    pv: use pv cache to lookup avp name for $cnt(...)
    
    (cherry picked from commit eb5b9c6965d1da46f8cb45d3ac2eb6598b3b6dea)
    (cherry picked from commit 3d8df518f78eefd706b6c98f1dd90e739d2fec39)

commit d5bf4557e8147e538fdc4a6062fb9c3179f07f49
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Apr 11 16:21:27 2014 +0200

    tmrec: fixed typo in header file guard define
    
    (cherry picked from commit 3d9040bb5494bafe3411744da17bf43de6a22604)
    (cherry picked from commit 810fc8eb64ce9992e3b6fac668a442e92f7309dc)

commit a8ff844e6cea23ecbec9076bcf388d4800d6c3c1
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Apr 11 16:18:59 2014 +0200

    srdb1: removed extern inline function prototypes
    
    - the .c files are not linked against modules code, thus inline
      replacing request cannot be resolved by compilers, the strict ones
      (e.g., llvm) throw error
    
    (cherry picked from commit 5beb495d47fa16ed94c36e340011c09de50db9c7)
    (cherry picked from commit 3cbb00ecde32696c334384462b9e06b924d13244)

commit 3e931eac41d91dda5db8201018da9f7adc9a73c0
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Apr 11 16:11:05 2014 +0200

    srdb1: get rid of llvm warnings related to extern inline definitions
    
    (cherry picked from commit 4cb7abe093ce0c56a4661377f9792fc417f83786)
    (cherry picked from commit df80c0aa34fd5edf6c9fbcbf1e5e53b4fa0d7b2d)

commit 585a6fa59216d34c40a16006ef3957ed375d1241
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Apr 11 16:04:24 2014 +0200

    tmx: allow spanning over second for fetching stats
    
    - try to catch the same snapshot for all tm stats
    - re-enabled stats for received and relayed replies, computed from what
      is relayed and was was local reply
    - todo: check if drops replies are caught later or is ok
    
    (cherry picked from commit 82e742fcdd7c22391cae8e3b36d42f23d684dee8)
    (cherry picked from commit adac3876d273ac2d32d684778d30f3aa36cc914d)

commit b13a842b6967c5d8f8a1a20c4ca9709c1903055b
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Mar 27 17:31:51 2014 +0100

    permissions: peer_tag_mode is integer, not string
    
    Fixing example in doc file
    
    (cherry picked from commit b745f5869e86bc7cce774dc4b54be9a1be90e3e5)
    (cherry picked from commit e4ff5dac04eb09191e5185dae6146100e8772bef)

commit f22bed9ba8b78e4b722e9618ea4a01e57888d70a
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Mar 24 22:53:22 2014 +0100

    dialog: lock for updating the cseq
    
    - race can happen on processing two requests at the same time within
      same dialog
    
    (cherry picked from commit 2376c833aad92bf8661f985d5917d952874a7509)
    (cherry picked from commit ca4cbf7e2929bd368f15bac148ffa6cbc9abb2d1)

commit d7a9e9efa3ada5e0c45122f164ad80187bf9d0cf
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Mon Mar 24 16:01:44 2014 -0400

    ctl: fix crash when listing in struc format
     - example: kamcmd core.sockets_list
    
    (cherry picked from commit a95cae3fb6a62120b7fe2770fb565195178bb6f7)
    (cherry picked from commit 63afdda4fcf20156ad5db1be02481ab47404a602)

commit 4e54d5751855880fc07fbdbe62a52a7e799a7349
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Mar 24 10:12:26 2014 +0100

    db_unixodbc: free local variables in case of errors or no result
    
    - reported by Alex VillacÃ­s Lasso
    
    (cherry picked from commit edc78dfb148c22f0d256485193bbdb0185b76d2f)
    (cherry picked from commit caf4111471f67eac2091b6a7be7b906a8ff964ad)

commit 0f3a31fc4ed8287a88ea48a06cbc1fe819858db1
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Mar 24 10:11:59 2014 +0100

    db_unixodbc: use odbc_config to find paths for include and libs
    
    (cherry picked from commit a0ef714c12d9d9ae4cf152d6a62bd8a7d6bb5c34)
    (cherry picked from commit bbb2e1d021dfdb2b8499a614fda8d8e86e6d58e3)

commit c77e66fb958ee852cf6aba34b44148e3bb66ad7b
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Mar 18 17:10:56 2014 +0100

    mtree: safety checks for column types and values
    
    - following the report FS#412 by adeel
    
    (cherry picked from commit 6c0370b806aebcdd6c7c000536be3d9ae6154837)
    (cherry picked from commit e3b20d2d3753ed590c23cad1fe99bee3fa4501bc)

commit d8ef4f1e280f9d67283e3897206b540621ba2716
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Apr 16 12:14:44 2014 +0200

    app_perl: print return code if perl_parse() failes
    
    (cherry picked from commit 6c5ebff42c1ee702ab4a859ffdd5ffeccbf8e11d)
    (cherry picked from commit a8b3660d0048fe81f2d8961c967fb839558c465a)

commit d15fb252eb0715b8dd5ed99d2af6874dfd837a84
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Apr 11 23:03:05 2014 +0200

    dialog: proper detection of keepalive flag for destination
    
    - credit to Bill Radis, FS#416, for report and fix
    
    (cherry picked from commit 933a621f40eaa31b193e76f162f9cc016b49aeac)
    (cherry picked from commit 2eed3023870f793b6824d091b75099bc9a82edf9)

commit bde2e0eca4134071108e3db41d22a5e63410f9da
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Apr 9 18:49:32 2014 +0200

    uac: safety check to be sure the reg hash table is initialized
    
    - reported by Alex VillacÃ­s Lasso
    
    (cherry picked from commit b1900f66cc4acd254f1e6750538f31a3653fcd7f)
    (cherry picked from commit 35d83b91a8654a2218bf1ba900d7486fad189851)

commit c63825c66191d5a9fb37998d406892c7142917d2
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Mar 20 00:28:23 2014 +0100

    doc: updated year and removed unused revhistory from bookinfo.xml
    
    (cherry picked from commit a99e71e609c9f703458ac4304d80c7078f46a129)
    (cherry picked from commit d6110528600bb6780e8be3b62b291fcecb60b02e)

commit 2a1c4f692da4f15ce0b25b06b2078e2b2a23e599
Author: Juha Heinanen <jh@tutpro.com>
Date:   Fri Mar 7 23:54:05 2014 +0200

    modules/xmlrpc: xmlrpc scalar <int> value can be positive or negative
    (cherry picked from commit 67c2101fc60e4a963a6133f7a71f5faf510ca214)
    
    (cherry picked from commit 18376e35ebbc1ba82fcce78c4eaa7f7b04e00aa8)

commit 22c368f6db339540a93823650e8bb6e450d73d77
Author: Hugh Waite <hugh.waite@acision.com>
Date:   Thu Oct 2 18:37:00 2014 +0100

    rr: Fix memory leak when using outbound
    
    - Flow token memory is freed after building the rr header

commit bd2e2a7f25ceeddce801d27b8c2d9bf16c9d5643
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Sep 25 16:59:34 2014 +0200

    exec: add parameter to control the option for bash exec safety check of CVE-2014-6271
    
    - parameter: bash_safety - default is 1 (enabled), set to 0 to disable
    - just in case someone needs that kind of header and knows what
      he/she does
    
    (cherry picked from commit 21eb073c25b66b110193f1607b93f256f7d9fdfa)
    (cherry picked from commit cc40de5865b1758681f97b7d92c1fed533ed7c7f)

commit e97250982c3d9fdc1d7dcba59f7bc0a9256264b9
Author: Seudin Kasumovic <seudin.kasumovic@gmail.com>
Date:   Thu Sep 25 16:56:28 2014 +0200

    exec: safety check against bash vulnerability CVE-2014-6271
    
    (cherry picked from commit d5d57c0df931c9d60432def919c837cc76e4ce42)
    (cherry picked from commit aebd010ee1ebff8a70877164fb7b508c1ca5503d)

commit 0a6ce4bfe5c8af8063b38f8e00909eff7610c05f
Author: Hugh Waite <hugh.waite@acision.com>
Date:   Tue Sep 2 16:58:11 2014 +0100

    parser/rr: Fix free_rr() parameter
    
    - free_rr() expects an rr_t ** parameter

commit 5980733615e8ea4d79b6b4c8e8c3cec00e871277
Author: Hugh Waite <hugh.waite@acision.com>
Date:   Tue Aug 12 19:56:45 2014 +0100

    core/parser: Free rr correctly in error cases
    
    - Fix potential memory leak if parameters are parsed into rr structure
    (cherry picked from commit b40d92962b680ac29dd38ffe3c8f1aa1e39d3a97)

commit 67aff0acbae4bcc7e68577c9f94ac5156b03d87c
Author: Hugh Waite <hugh.waite@acision.com>
Date:   Tue Aug 12 19:52:27 2014 +0100

    outbound: Fix memory leak
    
    - Free parameters parsed when checking for ob markers
    (cherry picked from commit 392689597376eb6f047c12504bcce367f5940260)

commit 13ccd42997733cf4a9d567378bdfd4d37df9752a
Author: Hugh Waite <hugh.waite@acision.com>
Date:   Sat Jul 26 01:55:46 2014 +0100

    tm: Generate synonym_id based on original request
    
    - Prevent allocating pkg memory in a shm-alloc'd copy
    - Prevents a crash that can occur in requests with pre-3261 branch tags

commit 2afb43f88eb60ac72887b1c6d79cbd6f17b464d2
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Jun 30 11:06:41 2014 +0200

    uac: print new and old uri in log message in case of error
    
    (cherry picked from commit 6feeb886b58f4cd1cefeef132245c009bf8ca07f)

commit d58f973b3d701a8db41cf6b3884e322ea531e5f7
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon May 26 14:47:37 2014 +0200

    auth_db: auth_check() to get the auth header from the used api
    
    - this avoids using a different auth header that might be in the request
      before checking usernames in from/to headers against auth user
    
    (cherry picked from commit 4992519eed88d94847d742c52e882082b1b41264)
    (cherry picked from commit 9a697d04e7bb041e1ec6748727a418866dc0ba54)

commit b0433ee4e7170a27c0c92f7e31df80b2c91fea17
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu May 15 13:59:03 2014 +0200

    siputils: allocate enough space to hold ending zero for tel uri in tel2sip()
    
    - reported by Juha Heinanen
    
    (cherry picked from commit 7992a2b8d42bb7e8bcf1738cf042013ed126a47a)
    (cherry picked from commit f44415eee52d5c17a9b6c5e16175bd84455e9867)

commit bcd94bcfc4ba56e20620cff16b4ce9b155a344f6
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Apr 16 19:43:45 2014 +0200

    db_mysql: properly free db result structure if db_mysql_convert_result() fails
    
    - reported by Torrey Searle, FS#420
    
    (cherry picked from commit 37983c9f57536c57c5d34ce2d8a1c8f411e61e39)
    (cherry picked from commit 402e2122d1aa353ee8c10321aa1eb9315a81cd81)

commit 8ab2488d6e693fdd7dd5fe522f32f65b6045911e
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 17:36:01 2014 +0200

    db_mysql: reset prev_token to avoid double free in case of url parse error
    
    - when db api v2 is used (ser modules)
    
    (cherry picked from commit f65bf2c37bfaae740dd3cd8d686308cfa44b42f2)
    (cherry picked from commit 340768948df423e25812d083fcdf09396ef763e3)

commit 7165aa39a7894ba45bbe650f2a1658d3db044319
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 21 17:35:39 2014 +0200

    db_mysql: remove line accessing freed result
    
    (cherry picked from commit e114105450d8a5152448afd28de16e290297e38d)
    (cherry picked from commit 045b6ead1eace226ec316e3ae776f7bc35e54341)

commit 20dcf53f2788e4931b87c342b7b831ad048ff2d8
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Jan 28 18:36:21 2014 +0100

    db_mysql: fixed condition checking the parameter for db uri parsing
    
    - on a report generated by cppcheck sent by David Binderman
    
    (cherry picked from commit c0b2e567b2a27d5d29ede39409d6299f7d375d87)
    (cherry picked from commit 75203caf1a7a8c582b8eaff67af891b00100f232)

commit 2593931d4d8879b4d8d8ab8e666dd3b28ef3aa73
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu May 8 08:47:30 2014 +0200

    presence_dialoginfo: interetate through all 'dialog' nodes of xml document
    
    - PUBLISH request can carry info for many dialogs
    - reported and patch by Klaus Feichtinger
    
    (adapted from commit cc4a7c67f24d105a119ea492ce53f017369af296)

commit be94f3c0dade803ee77aa1b9bf73d3bb95257dc8
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Apr 29 20:02:19 2014 +0200

    rtmier: reset avps and xavp lists after route blocks execution
    
    - avoid leaks if someone is using avp/xavp with rtimer - there is a fake
      message used there, thus not the normal sip message routing that
      resets avps/xavps
    
    (cherry picked from commit 159978cf2a98748f3225155d8946bcbd768b51e3)
    (cherry picked from commit c5781b28cd92360cf163a84312fa72c08c4737b5)

commit f934f4ffed51b143570d76a2786f5e490c5ff265
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri May 2 21:50:14 2014 +0200

    dialog: copy dlg var value locally on get operation
    
    - reference to shared memory exposes risk on accessing an invalid
      pointer if anothe process updates it
    - reported by Dragos Oancea
    
    (cherry picked from commit bb3eed8aabea9f63c9922f71714aea242771db02)
    (cherry picked from commit b76eb77a36a5e751d792cb7e0d60f4750976e322)

commit 63b3c13b3cc884d7f813bb99ccc0563d1a4594f4
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 28 13:51:56 2014 +0200

    acc: no request is needed for setting end time on dialog termination
    
    - callback function cdr_on_end() doesn't use it at all
    - reported by Eduardo Lejarreta, FS#256
    
    (cherry picked from commit 8fcdd23aaa49cb6c1ecb34c4c6b4a88078a860f7)
    (cherry picked from commit 4455a13e8d31416dc44af455710fd7a7ff37ec11)

commit f5c68b4dedb5e704fe13fe61ad256bc23c9a3865
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Apr 24 18:02:34 2014 +0200

    drouting: removed old contraint on route index
    
    (cherry picked from commit c3386295d7607a58d37a65b6822bf5f98b3fefa0)
    (cherry picked from commit a9a3cebc7688dcaea7539c067c4b1bf3463040ce)

commit c0819db723bc49fdcd31e2ec6634ad8af7f22437
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Apr 28 09:51:42 2014 +0200

    pipelimit: run timer at 1000ms
    
    - proper execution on timer_interval
    - reported by Julia <juliabo@gmail.com>
    
    (cherry picked from commit f9d95734ba7c04a0188077914161395c2e94f3eb)
    (cherry picked from commit ee692ab89f1321ccfb24316c30fce5a90e6a9764)

commit 869352bab583266c47d80ede6360ecec3f993cde
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Fri Nov 15 09:08:03 2013 -0500

    usrloc: fix crash while printing error log
     - fix a copy/paste error that lead to a NULL pointer
    
    (cherry picked from commit 10115f88637d1371a8ddeb5fe9c36c31ada49fc4)

commit 577d0a83bab49e723a0be8b1ef8f3005e039bad6
Author: Luis Martin Gil <martingil.luis@gmail.com>
Date:   Thu Apr 17 12:56:11 2014 +0000

    Merge branch 'luismartingil/msrp_crash'
    (cherry picked from commit 4a9a98a07869a2415b82b70b23907ccd490d6c12)

commit 3fb3c23fd9bd576ca8e2bcaaff059e021a4b3a37
Author: Carsten Bock <carsten@ng-voice.com>
Date:   Sat Mar 22 16:49:20 2014 +0100

    tls: Added note to docs about OpenSSL requirement for Elliptic Curve Diffie Hellman (ECDH)
    
    Conflicts:
    	modules/tls/README

commit 70908767953fd7482737aa79c8a3a9fa8b53a17e
Author: Carsten Bock <carsten@ng-voice.com>
Date:   Sat Mar 22 15:30:27 2014 +0100

    tls: Add support for Elliptic-Curve Diffie-Hellman Ciphers (ECDH)

commit ad10c9788bdbeecd61e6be33cffb1d0171795de9
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Wed Mar 19 22:36:47 2014 -0400

    xhttp_pi: fix copy/paste error that can lead to a crash when 'order_by_cols' are used
    (cherry picked from commit 216faa86af3d6db70fae9186ab2776efc27a5f55)

commit 7e50f981bcb95b6511d902b57423b0fd0bbf1cfc
Author: Corey Edwards <tensai@zmonkey.org>
Date:   Sat Mar 8 11:28:36 2014 -0500

    kamailio.init: fix typo: s/log_faiulre_msg/log_failure_msg/
    (cherry picked from commit e22293d865926a200e336293692886f983904275)


===================== 2014-03-06 Version 4.0.6 Released =====================

===================== Changes Since Version 4.0.5 ===========================

commit 69fef91369a2818872e00326d2d05c8fa9f7b946
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Mar 6 15:45:08 2014 +0100

    Makefile.defs: version set to 4.0.6

commit 645f67f7ce88c8fb3e51dde13ee6ddc115e8eeaf
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Mar 6 15:44:14 2014 +0100

    pkg/kamailio: version set to 4.0.6 in rpm specs

commit ff71be5a3023578d52c2bc45a5097d0f4bf36d92
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Mar 6 15:43:14 2014 +0100

    pkg/kamailio: version set to 4.0.6 in deb specs

commit dfc8d544f7435e39771f8a39f349b969ba730944
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Mar 6 11:57:23 2014 +0100

    tls: the pointer of cfg structure
    
    - synchronize when updating the list of tls configs and their reference
      count
    - with parts from patch by Ding Ma, FS#380, contributed under BSD
      license
    - backport of 208934d47ac1585d42029234267bcceab40ae218

commit fe9c6ddd1d36ac7fabb303605e6a11dcd84fff1b
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Mar 6 11:35:26 2014 +0100

    modules: bulk regeneration of README files
    
    - some modules had xml files updated, but no refresh for README files

commit 9db02c00c7e821b3640dd2fa9161a60bcb0a1f44
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Jan 3 10:04:39 2014 +0100

    acc: added note about MySQL InnoDB not supporting INSERT DELAYED
    
    - reported by Daniel Tryba
    
    (cherry picked from commit d26eff22c8a543c63a40cd7d91bb3c70f04aabc6)
    (cherry picked from commit 4ac82cdf92ae6c0e2ff9c1238bfe28cfcefea99c)

commit fbf78b84eaf9b7c8e2924db996807cd6851a3a00
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Dec 3 23:38:41 2013 +0100

    core: don't increment failed dns query counter for reverse dns lookup at startup
    
    - it can happen before counters are intialized, thus check that before
    - reported by Hugh Waite, FS#375
    
    (cherry picked from commit 89c6d73dd51eb9b96f50d3f04219612fa7725224)
    (cherry picked from commit a3169d02d7527110941fab8de25ba75aae759ce1)

commit 1208d0ac3890539f06ad6372cd11d5048cf572dd
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Dec 3 23:38:08 2013 +0100

    core: added function to check if counters have been initialized
    
    (cherry picked from commit 8161152b320f3b430523ea08e86a56f79405c2f4)
    (cherry picked from commit a165fa668378da5c312a0c268aaf158ff583127f)

commit 6121e8ee902d6b40bb50f20f0ce0a1315ede3500
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Nov 24 16:05:49 2013 +0100

    tm: exported set_t() and get_t_branch() viam tm api
    
    - allows to backup and restore pointers to T and branch
    
    (cherry picked from commit 777dd5e28ff6b4fcc3b1c44e841eb415c974075f)
    (cherry picked from commit 09fb0aae62761ce4f251ab22c6ab9cde55e2c663)

commit 211348ae0fa62282fb437fc97beeab6b10a1dbed
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Nov 24 16:06:41 2013 +0100

    tmx: backup and restore existing T and branch pointers for t_cancel_callid()
    
    - reported and initial patch by Guillaume Bour
    
    (cherry picked from commit 60372d613544af1f8f06122eb77fa2a9636a6c3a)
    (cherry picked from commit f7ed69d75746dc55e5a48a7a18602124e73cd3cd)

commit 314fe0a20f47c81cd2bd54c4d0c63817752c7e44
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Mar 4 17:31:57 2014 +0100

    sqlops: reset the result container before new query is executed
    
    - it was lost in commit 9b62514b4a90e169c9126b7bda6d87cc4c213ad2
    - reported by Jonas BÃ¶ttner
    
    (cherry picked from commit 864127e6e02144c40c138d6921862b1512d01c66)
    (cherry picked from commit 954fe136964296836113f5187f9cde91b197a567)

commit 00f26f831133d770b9fd9ae5ea0026a125abcf40
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Mar 4 09:59:07 2014 +0100

    sqlops: safety check for result row field
    
    - it might not be set in case of a failure in the middle of result
      conversion from db to internal memory
    - freeing the partial result could result in a crash
    - reported by Juha Heinanen
    
    (cherry picked from commit f27df26ca01394250cbe12c5ccf694c6afd3707f)
    (cherry picked from commit 20276e667631ec281851c2ef58d71863ae2318c4)

commit f1845ecb7cc02c598ff90a9531a3cc2da489f20a
Author: Torrey Searle <tsearle@gmail.com>
Date:   Mon Mar 3 14:54:10 2014 +0100

    app_perl: update constants for debug levels
    (cherry picked from commit 6513ee05dd20253c0f555b18081f0eceb4baf7aa)

commit 977cbc8a78caa50cf822bd39c39e7838e97fa511
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Feb 27 23:47:06 2014 +0100

    registar: proper unlinking deleted contact to avoid invalid memory access
    
    - based on a report and patch by Dragos Oancea

commit 607b913c31f78d96f882bc91cbae870ff271aeca
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Feb 26 18:03:20 2014 +0100

    sl: fixed use of forward_reply_nocb() in sl_forward_reply()
    
    - previous related commit was not doing it
    
    (cherry picked from commit 4133a44cc9b1702b3a36b9386464983d2fe9aedc)
    (cherry picked from commit 91241caa2c2bc51b421d024c790493fdaf24c8ee)

commit be06910670a08d4a6e1078f579477d86fc915334
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Feb 24 21:32:45 2014 +0100

    nat_traversal: proper size for realloc
    
    - reported by Venky
    
    (cherry picked from commit d9c34bec5ea0570f66df23e7e7d6f79f4721f04e)
    (cherry picked from commit 26fd1d2fd24a1f4ee160ba24e2670b8e7a4e8176)

commit 92f29137c8815ba5a4cf5cb98a1e1a10d4c7f9af
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Feb 21 15:48:36 2014 +0100

    lib/kcore: fix loop on broken values matching the prefix of a good value in parse_supported()
    
    - reported by Savolainen Dmitri, FS#396

commit 4b8ae380ddae2af57f1d0aeec6c728fe393e2734
Author: Victor Seva <linuxmaniac@torreviejawireless.org>
Date:   Fri Feb 21 11:47:54 2014 +0100

    pkg/kamailio/deb: init script. Get back SHM_MEMORY PKG_MEMORY and CFGFILE
    
    (cherry picked from commit f46beec41b3b5caa3977ddd452b3671bebf69069)

commit ce060959dad97a346046b276633bfbc442aaf1e6
Author: Alex Hermann <alex@speakup.nl>
Date:   Fri Feb 21 00:10:35 2014 +0100

    tm: safety check for uas callid value when callid_matching is 1
    
    - according to the documentation is for UA that cannot match the
      responses when call-id is changed, but is not the case of self
      generated requests
    - closes FS#390
    
    (cherry picked from commit 1787b4239f3494fe7a88b0868a807e86a3b92639)
    (cherry picked from commit ef478ac0709a9bef99df0818f68b597f39ba7c3b)

commit 133f88548ba16e3b2bb2929f4655d40ccda04ea2
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Feb 20 23:15:56 2014 +0100

    async: free the async item after resuming the execution
    
    - reported by Surendra Pullaiah
    
    (cherry picked from commit c33583e6456d3500f8a9c870eb01a01d1a1fe8f4)
    (cherry picked from commit 36c42be1a02fcb47d4b288136df81f424b690351)

commit 4c71c9ba9797b6bc3b89f43a1c3856ad4e63dd87
Author: Victor Seva <linuxmaniac@torreviejawireless.org>
Date:   Tue Feb 18 16:30:28 2014 +0100

    pkg/kamailio/deb: fix init script
    
    (cherry picked from commit 424ab9dd4abd9b11b7cf4642335652145128fa7c)

commit 046f6d66868fd81c4716cfe2210eee4a36531f83
Author: Victor Seva <linuxmaniac@torreviejawireless.org>
Date:   Tue Feb 18 10:56:59 2014 +0100

    pkg/kamailio/deb: fix lintian overrides

commit e667cf0f35aab18ccd73f5bfe85857ddf3508ef8
Author: Juha Heinanen <jh@tutpro.com>
Date:   Wed Feb 19 01:37:21 2014 +0200

    modules/utils: http_query fixes
    
    - Credits to Guillaume Bour.

commit 9c2b372615705199805186b6bc3346fbbfaea670
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Mon Feb 10 19:41:20 2014 -0500

    htable: fix crash if key_value is not string
    (cherry picked from commit 065439c0fbabe2806fcd615cec5e2445db59beec)

commit 46b75d34f4941cb0e425183e70c8cf5eba7b6ab0
Author: Victor Seva <linuxmaniac@torreviejawireless.org>
Date:   Wed Feb 5 15:00:31 2014 +0100

    pkg/kamailio/deb/debian: no websocket nor outbound on lenny.
    
    Remove kamailio-mono-modules from Suggests

commit 403d553b30bfeb4aab5575666ab9638a7799317d
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Feb 5 09:52:19 2014 +0100

    core: fix condition on script callback number done inside EXTRA_DEBUG
    
    - reported by Seudin Kasumovic, FS#388
    
    (cherry picked from commit 740d407be4e35ee945658365ae38a1bba30fafc7)

commit 432ed7a665f07c42dadf44d2596d346a7c8863fd
Author: Victor Seva <linuxmaniac@torreviejawireless.org>
Date:   Tue Feb 4 21:24:34 2014 +0100

    pkg/kamailio/deb: add missing dependence

commit 259a99578a1e9f454a3cd027ac17f39b25c0aec0
Author: Victor Seva <linuxmaniac@torreviejawireless.org>
Date:   Mon Feb 3 14:21:09 2014 +0100

    pkg/kamailio/deb: clean lintian errors

commit 6db8c1f426ed40e4ddcb2ba204816d9800302735
Author: Victor Seva <linuxmaniac@torreviejawireless.org>
Date:   Mon Feb 3 09:31:29 2014 +0100

    pkg/kamailio/deb: wrap-and-sort control files

commit ffff03d33273873076bf8bc92a84608b4271a1e3
Author: Victor Seva <linuxmaniac@torreviejawireless.org>
Date:   Thu Jan 30 13:47:56 2014 +0100

    pkg/kamailio/deb: unifying debian packaging

commit 9c39db4c6cba2791d4c19772797b84179baffead
Author: Carsten Bock <carsten@ng-voice.com>
Date:   Tue Feb 4 09:49:20 2014 +0100

    tm: Fix docs on t_relay_to (Typo)
    (as noticed by Victor V. Kustov)

commit 68ecacc317cb617d1e507003d4c7d9a7856b2cfc
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Thu Jan 16 18:02:31 2014 -0500

    xhttp_rpc: fix arg parsing
    (cherry picked from commit 3615f3c26405f1c1bcd3721674e9d87e4b589146)

commit 7031c26ddb5b3bb32b1a44a9133e8f3c0893e567
Author: Victor Seva <linuxmaniac@torreviejawireless.org>
Date:   Tue Jan 7 13:59:37 2014 +0100

    usrloc: add user_col to the update contact query with instance
    
    (cherry picked from commit b393656c1113eb3630470389f142c53fbc085a90)
    (cherry picked from commit 2dd36bbae6f05ea0c980e58f247ac7e4f737f6a6)
    
    Conflicts:
    	modules/usrloc/ucontact.c

commit 7273c7cbc63d9cc44e9340859d9f5d1692fee4a6
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Jan 2 11:25:56 2014 +0100

    tmrec: updated the examples with tmrec duration
    
    - hint to read rfc2445 for duration format
    
    (cherry picked from commit 99d1170469c60206992c083f2ba0e9dc6b580d37)
    (cherry picked from commit df0218611b8f27ccaa924b8f88560c2e81966823)

commit 1b98961522fd8a7eb73ecc7d1772541f8b81aabc
Author: Juha Heinanen <jh@tutpro.com>
Date:   Thu Dec 26 17:51:04 2013 +0200

    modules/pua: added some missing lock releases
    (cherry picked from commit 4eb338611e716e7a32f252acbae52bace6047a0a)


===================== 2013-12-20 Version 4.0.5 Released =====================

===================== Changes Since Version 4.0.4 ===========================

commit 01802b9cfbf270f9a801493ff23eb91b066d8e69
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 20 17:25:17 2013 +0100

    Makefile.defs: version set to 4.0.5

commit b4d7ed8616dd1e66dd33345078dd903833f68152
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 20 17:23:31 2013 +0100

    pkg/rpm:  set version to 4.0.5 in specs

commit 1a5c2d6f97585a7f0dc19102b46136ad4a5346cd
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 20 17:21:11 2013 +0100

    pkg/debian: set version to 4.0.5 in specs

commit 298913ee2e36d11c26ce5c320059e822c97d31e9
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 6 18:23:17 2013 +0100

    maxforwards: use standard format instead of GNU old-style field designator
    
    (cherry picked from commit cd04947b0ccb1c861274483f458bfc7f4329accb)

commit 53655beed57d0165931790683046614e70a8acfd
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 6 18:34:49 2013 +0100

    ratelimit: signed check for pipe number in rpc_set_queue()
    
    - rpc can reand signed value
    
    (cherry picked from commit ed034d4d9096d8c77269828c8efdafb26eac5372)

commit 58206a77d9ba2335793f66adc27f4eb89e062bb9
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 6 18:30:49 2013 +0100

    pike: memset of address print buffer with proper size
    
    (cherry picked from commit d54eb083f59fb55ccbc79e49b5b3e05426bd3795)

commit e9ef639beb37e1379a2a62bfaac13a4b64ba7d75
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 6 19:03:08 2013 +0100

    tls: removed unsigned int comparison with <0
    
    (cherry picked from commit 7d6dc390bac2b49615444bcbad74cd39f3c82302)

commit ea6b37271c7ca222650a58dc717b7a203483cc6a
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 6 18:20:16 2013 +0100

    ctl: removed not needed extra paranthesis
    
    (cherry picked from commit efda774f6391f1e909a9967898c64fb25f53eeba)

commit 3bfbc96ae673a570e6bc56a89e8ca6e677eb9388
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 6 18:15:22 2013 +0100

    pv: use int index for looking up flag index
    
    - some functions used for check may return negative on error
    
    (cherry picked from commit 30359b3cfce2ce909153e06b1954778c4eababa7)

commit 2e08848cdb16fa717897b6b70fde4dc9ef3c34a5
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Dec 9 10:06:15 2013 +0100

    usrloc: avoid double locking when preloading attributes
    
    - reported by Seudin Kasumovic, FS#378
    
    (cherry picked from commit 888635bfa3719afeeea6f5f0d407aa862ceb34ac)
    (cherry picked from commit 8df9d2336e7de2648288cf8ff6821e6820d88da9)

commit aee55e1bdc9fefd2082ba1e13d88a1ab2c70a37f
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Dec 16 09:26:03 2013 +0100

    db_flatstore: update timestamp for kamailio specific rpc rotate
    
    - do also in 'rotate' command, not only in 'k_rotate'
    - from a patch by Abdelkader Allam
    
    (cherry picked from commit b15aefa31e45f1ad6a45b64905f9fae24e0f790e)
    (cherry picked from commit d75bc3b69151a9d0391309e6bb51784f3b6b9a83)

commit b4f7f2e8a0cf1178b31ed7a7a84725fd25b36940
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 6 17:16:25 2013 +0100

    core: fixed several clang compiler warnings
    
    (cherry picked from commit f0fb6f1e9fbb2f7f0c2bed5ba0d50a56cf5cf444)
    (cherry picked from commit 90681624c54f0ec0b1259e205bcc0274316b4549)
    
    Conflicts:
    	parser/parse_fline.c

commit 3c1ac9fa2664978c8cfd5b4a217df0163699c0b1
Author: Camille Oudot <camille.oudot@orange.com>
Date:   Tue Nov 26 16:08:35 2013 +0100

    modules/ims_registrar_pcscf: fix log

commit bd7eaa50b6f24a6404294d66e5ab91fcb04be3da
Author: Juha Heinanen <jh@tutpro.com>
Date:   Thu Dec 19 16:21:25 2013 +0200

    modules/pv: fixed params and param transformation
    
    - params need to be taken from sip_params field of sip_uri struct
    (cherry picked from commit e54b3ec673cb32664a1e8de2e591190f22216724)

commit 060f90439f7a91f42c983f6c6d19a3131f476258
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Dec 11 09:49:52 2013 +0100

    core: safety check for double free in q_malloc as in f_malloc
    
    (cherry picked from commit 943a5941f5ab479803fb30e19e9fa607f0f0fe14)

commit 33d71771185812cba24f6213c7d8e4b9831b9b5a
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 6 18:02:36 2013 +0100

    usrloc: proper index for domain column when laoding extra attributes
    
    - patch by Seudin Kasumovic, FS#377
    
    (cherry picked from commit 551524cfc83b922c23e2d26f8cc5950df2a0af54)

commit ba788ba35e8df637c3f91bd942e20808f1238b3b
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 6 16:33:04 2013 +0100

    Makefile.defs: compiler optimization level made variable
    
    - allow using -O3 for clang, which gives error on the former default -O9
    
    (cherry picked from commit 0713c0de50f8c2f4da2ee0ef33b0505c37792392)

commit 9b1882ecade859474ee9faf8a4ccc1ac061e7baa
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Thu Dec 5 09:30:56 2013 +0000

    dialog_ng: Fix segfault in dlg_new_dialog
    (cherry picked from commit 32f9c9187a9d886c46b24ee38173274da63febda)

commit e605174dab9b86ce06689d184b4b9d81288f1193
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Dec 2 20:42:12 2013 +0100

    mem: malloc(0) should return a valid pointer for free according to specs
    
    (cherry picked from commit f61ff34aac7c7bae3a96fb698a899c8a0e692a9f)

commit 7aba649db775a00e28dc75a9145a3da50f797776
Author: Federico Cabiddu <federico.cabiddu@gmail.com>
Date:   Mon Dec 2 17:05:35 2013 +0100

    permissions: re-init db connection for reload cmd
    
    - some workers for specific mi/rpc commands may not have a db connection from the start
    
    (cherry picked from commit cb23be9456c178957399ec9d8ce8a1420d50fc32)

commit 24cb002f5af4cdbf6a54e8abf4bf31e311aff4cf
Author: Victor Seva <linuxmaniac@torreviejawireless.org>
Date:   Fri Nov 1 15:33:08 2013 +0100

    registrar: clean static values at pack_ci
    
    (cherry picked from commit 66185905850cd2ac9ab933776184da0f0882e5ac)

commit 32a4710d4ab7e3b03121154cbc609c6ac41d17b2
Author: Victor Seva <linuxmaniac@torreviejawireless.org>
Date:   Fri Nov 29 14:23:47 2013 +0100

    usrloc: db_update contact by instance + reg-id
    - backport from master f67171c

commit 5ae035c420a5f30d862878825fac5ae9dbda53c8
Author: Vicente Hernando <vhernando@systemonenoc.com>
Date:   Thu Nov 28 12:16:05 2013 +0100

    modules/ndb_redis: solved bug in second call to redisvCommand.
    
    (cherry picked from commit 52a34d269931f6f3a50b3fc532405624b9e38d23)

commit 1103009d674b2bf7a6c31e4d351d832370dded58
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Nov 5 10:33:55 2013 +0100

    dialog: init cseq to 0 if not available yet for one side
    
    - based on a report by Morten Isaksen
    
    (cherry picked from commit 082a6c43938cf8e3839d46fd070e391bd522d4ed)

commit edd13668492c7c09242f19620ad763922e92a186
Author: Timo TerÃ¤s <timo.teras@iki.fi>
Date:   Fri Nov 15 16:06:25 2013 +0200

    modules/sca: fix hash entry deletion
    
    sca_hash_table_slot_kv_delete_unsafe() uses internally sca_hash_entry
    but incorrectly called sca_hash_table_slot_kv_find_unsafe() to
    initialize the entry. That function returns the node value, not the
    node itself. Use instead sca_hash_table_slot_kv_find_entry_unsafe().
    
    Should fix the crash in FS#366.
    
    (cherry picked from commit 56e4f4518028e73f9ebd053242a100a5c3b7eb53)

commit c3e5b2cbf941d7463abdfe5df53a803b2a877d09
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Nov 12 21:06:15 2013 +0100

    itm: init sock_str to null value if no sock pointer is set in branch
    
    - case of creating branches from a 3xx reply
    - reported by juliabo [at] gmail
    - identation made coherent with tm module style
    - corresponding to master commit 254d0c43a84ec87801e58b4f990a2029c0e27c6f

commit fd17595f31f3e4edeea707c5049a883fa8410dfe
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Nov 2 19:28:36 2013 +0100

    tls: include dprint.h where log functions are used
    
    (cherry picked from commit 039f52deb384c71ecfb578e2cd648153dd9937d1)

commit 63a823ff275e84d18c0d67dc2aa1baee2e332ffe
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Nov 1 09:39:32 2013 +0100

    uac: reset registration authentication flag
    
    - reported by  rene montilva (fs#352)
    
    (cherry picked from commit bc66a385e8a282638c8d5cfa566f971c62cd341b)

commit d17ff203507956f4ce37ee9c64c17b586cfcb437
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed Oct 30 17:12:05 2013 +0000

    modules/rls: Fix memory leak in rls
    - Leak would occur in two error cases
    - Also improved diagnostics to display uri on various failures
    (cherry picked from commit 52ac54133f70776a2dfe54e1789de8b1cae02a05)

commit 49e566ab80a8458ba229c77149a6011ea5d0df28
Author: Richard Fuchs <rfuchs@sipwise.com>
Date:   Thu Oct 24 12:34:05 2013 -0400

    tm: fix possible segfault in cancel_branch()

commit c035965d7ed820470d4aedc4dc1dca7e048906b1
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Oct 23 14:53:04 2013 +0100

    modules/xcap_server: fixed fetching of an element (GET with XPath)
    
    - This is a mandatory part of XCAP and DELETE/PUT of elements (using XPath)
      is supported in xcap_server.
    - The code to get a node from a document was all in there but never called.
    
    (cherry picked from commit 6b8b8a050e4490302d1f1f940a7fda95784cce46)


===================== 2013-10-02 Version 4.0.4 Released =====================

===================== Changes Since Version 4.0.3 ===========================

commit 69d5e22b21ad4cb163e39f68a123cae3cf99e1c9
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Oct 2 16:54:14 2013 +0200

    Makefile.defs: version set to 4.0.4

commit 00cfb136d9532aa5e7cf2a40848e62b7df1692fa
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Oct 2 16:50:37 2013 +0200

    pkg/rpm: updated version to 4.0.4 in spec files

commit 6b26032ee8b581983d547657c9d229645cf2bd0e
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Oct 2 16:50:05 2013 +0200

    pkg/deb: updated version to 4.0.4 in specs

commit f8ae762545b85ead432f67bcb6969bc92f01b93d
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Sep 20 11:18:09 2013 +0200

    registrar: note about empty value for received_param
    
    (cherry picked from commit e35fe9c6095361414565b1099dea1ad5950fb38d)

commit fc410ae69c6b371538f457947fd3a2946dc492cd
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Sep 20 11:15:16 2013 +0200

    registrar: if rcv_parm value is empty, don't add received to contacts in 200ok reply
    
    - otherwise results in malformed value
    
    (cherry picked from commit 2f213e313a86e16665f6d0acfec959bf23f72b7d)

commit cbe6d2dc199e552576501a74b3cafbceeb048385
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed Oct 2 10:04:35 2013 +0100

    xcap_server: Fix memory allocation check bug in xcap_misc
    
    - Would cause crash if out of package memory
    (cherry picked from commit 165a351d18fd0f1639087c8eb5d9294e46a6e2b7)

commit 82a23f22c1bba400304a7f44523e8db8b09ae295
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Sep 26 13:23:46 2013 +0200

    presence_xml: updated docs about integrated_xcap_server
    
    (cherry picked from commit 8e35cef8716bbd0caa406a5080e93acb3c881c41)

commit 3a927389f2667fa3e453f30604b5448ca99f4d77
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Sep 26 12:59:59 2013 +0200

    mi_rpc: compatibility with libxmlrpc-c3 library on wheezy
    
    - patch by Muhammad Shahzad
    
    (cherry picked from commit baa4fccc2870df102a66089d6e9b6ca1ff47fc25)

commit 9f3f494289ab25d2a4a35672e21d1b1c76cfbd6b
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Sep 30 16:49:26 2013 +0200

    app_perl: use local buffer to print dynamic string in pv_sprintf()
    
    - avoid pkg malloc for temporary need
    - fix leak in case of fmt parse error, discovered on a report by Dragos
      Oancea
    
    (cherry picked from commit 1c3e761fbd087ee578ce305d89f6b8ee4e9ab79d)

commit 3253fcb7e7ef628727799a92ca68739dba3d10ca
Author: Ãyvind Kolbu <oyvind.kolbu@usit.uio.no>
Date:   Mon Sep 30 11:15:13 2013 +0200

    core: resolve down to A/AAAA records when no naptr records
    
    - try all protocols, not only UDP
    
    (cherry picked from commit b50888cf447ea3a3315e665c97f71a07bb687337)

commit b49899f75052ea4e23125c7af3e60dd3ab141aae
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Sep 19 13:49:24 2013 -0400

    modules/sca: fix return value of sca_call_info_uri_update()
    
    - return value of 0 can bubble up as return value of sca_call_info_update(),
      causing early script termination (exported function returning 0 in script
      is equivalent to "exit")
    - report and patch from Timo TerÃ¤s
    (cherry picked from commit 844c398bba30452f0b136895b9f928cc17e5c80b)

commit c9551e55a8a0d46de69bb49fc3eb8376fd737ccb
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Aug 20 15:54:17 2013 -0400

    modules/sca: AoR should not be treated as SCA if there are no subscribers.
    (cherry picked from commit a8fb905e8bf27093dcf86866ae946431ed441a41)

commit 22268940a63747e1ef3faf47b40c493c8f34a7b3
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Aug 20 15:14:26 2013 -0400

    modules/sca: improved handling of host-only Contact URIs
    (cherry picked from commit bf747c2d65aeaa74d1cea4e0a531607415e8d17d)

commit 1672b92eb5d7eb7d07741c24bfec912e1e6b7acf
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Jul 22 00:48:46 2013 -0400

    modules/sca: restore missing prototype.
    
    sca_subscription_aor_has_subscribers
    (cherry picked from commit 7bf7e9f858faab2329e5edf3d988bef76ac2c804)

commit 92c6c3b680047962721bb48134345012e7f631db
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Jul 22 00:42:18 2013 -0400

    modules/sca: detect when an AoR is no longer SCA.
    
    Don't, for example, create an appearance for callees that do not send
    a Call-Info header, and whose AoR also has no subscribers.
    (cherry picked from commit 3464f62565dd153cb87af71a71df5db2306d74a1)

commit 2f767f2b3454dc0bad206c0b7aa04b8a2550be25
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Jul 22 00:37:32 2013 -0400

    modules/sca: Clear stale line-seize appearances via timer.
    
    Some badly behaved/buggy UAs don't know when to say when.
    (cherry picked from commit 8416a1c65d26ac81b71e08274f9292a7f7713fff)

commit b15a586fd6eb226318d7111a0e14c312ec56ad8f
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Jun 13 16:06:10 2013 -0400

    modules/sca: fix regression: restore purge expired timer
    (cherry picked from commit d5f259f7ce04b012f7704ba433f167d034548e09)

commit b1faa930bd69333eda47291a6354fb2bda59b822
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Jun 13 15:34:00 2013 -0400

    modules/sca: clear appearance on receipt of out-of-dialog SUBSCRIBE
    
    - If a call-info SUBSCRIBE with no To-tag arrives from a subscriber
      with an active subscription, release any appearances owned by the
      subscriber, on the assumption that the subscriber has lost track
      of SCA (reboot, power/network loss).
    (cherry picked from commit c6280e2eb9c2e1243d5d4ab78b8b683c8239a4b9)

commit 0d0a6c2d0de9b56c31ce3de59ec0c9e9bd86241b
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Jun 13 15:30:40 2013 -0400

    modules/sca: detect and clear orphaned appearances caused by answer glare
    
    - set appearance state created by SCA callee answer to ACTIVE_PENDING,
      and promote to ACTIVE on ACK from caller. If no ACK from caller is
      received within 30 seconds (enough time for retransmission to fail),
      the ACTIVE_PENDING appearance will be cleared by the
      sca_appearance_purge_stale timer.
    (cherry picked from commit a9014c2b9edd200cf0032fdb30405710afc97c0b)

commit 67bd5d6d315c89089d54dbf01531e79fe832339f
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Wed May 15 16:13:23 2013 -0400

    modules/sca: reconcile Contact and From URIs in ACK callback.
    
    - fix Music-on-Hold in Polycoms when SCA caller has MoH enabled and SCA callee
      does SCA hold/pickup with identical To & From URIs. Previously, module would
      end up looking up an appearance for callee in ACK callback instead of caller.
    (cherry picked from commit ba2f749d4a894f6890601ce3d2ff3697b78c5b73)

commit 68898fdd936c5aa34377b894240dfd460315f23e
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue May 14 16:25:06 2013 -0400

    modules/sca: improved BYE handling.
    
    - Clear appearances for both legs on BYE request if possible.
    (cherry picked from commit 71f012de15bd4fecce006c35b9452854818f03af)

commit b765ed287e61c43e299fad8396b22759a04cb7d9
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue May 14 16:23:46 2013 -0400

    modules/sca: free previous appearance owner, callee, dialog if non-NULL.
    (cherry picked from commit 6a126232767256a2495c846184acaec788576591)

commit 87daab43172e780de06378773e50bf1f48cb1793
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu May 2 15:12:16 2013 -0400

    modules/sca: change logging level for failed lookup by appearance-index.
    
    - appearance-index won't be found yet if SCA callee is answering, logging
      at WARN is misleading.
    (cherry picked from commit 95b38c4d239f0098e94eafb1c3ddc8834fc767e0)

commit f547e09bfe791e485d7b15d3238e4f84242654be
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Apr 30 23:31:12 2013 -0400

    modules/sca: space-separate dialog tags in sca.all_appearances output
    (cherry picked from commit 16243261d7cc6dc3e03db9c589209b534d6dab74)

commit d16ee1a19c681726b35da78f120a05317b294ce1
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Apr 30 23:10:10 2013 -0400

    modules/sca: track appearance times.
    
    Include time of last state chance in sca.all_appearances output.
    (cherry picked from commit da3f7cbd955311309665ab0e6958e009f183f795)

commit 86930557070857aecf8110ead7b6e5e3761fb796
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Wed Apr 24 11:30:35 2013 -0400

    modules/sca: add sca.subscription_count to rpc exports list.
    (cherry picked from commit 1d361c70b5ed87e0808bc446be327f21d8725a3f)

commit b1bd9727e91991649bc37cd8c79cd3876876da92
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Wed Apr 24 01:18:27 2013 -0400

    modules/sca: RPC: fix sca.show_subscription, add sca.subscription_count
    
    - sca.subscription_count will eventually be subsumed by sca.stats.
    (cherry picked from commit f156eb0f82bb729e773027e44f1e7f930418dc93)

commit 5ca4e8e743e1e7e61c7218858a68c9c83b4618f1
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Apr 18 13:52:10 2013 -0400

    modules/sca: fall back to tag lookup if lookup by index fails.
    
    - Fix appearance tracking for SCA implementations with inconsistent
      Call-Info header inclusion.
    (cherry picked from commit c41806685483546d00324d351ca72143a2a6c787)

commit f4169c46d885b0d6568961bc302d0be0173a697d
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Apr 15 20:16:36 2013 -0400

    modules/sca: add SCA_DB_DEFAULT_FETCH_ROW_COUNT
    (cherry picked from commit 2292666bf234a168120b1c1504bea86300a440ea)

commit e57b740d35590e7a8049cf82c38deb49a414f816
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Apr 15 20:11:08 2013 -0400

    modules/sca: use DB fetch queries when restoring subscribers from database.
    
    - Previously used standard query, exhausting pkg memory when subscriber
      count is high.
    (cherry picked from commit c9f47e608f655b3558e7c0c319f32b189732cf34)

commit 4f7b9ac3c64c4baf20b8da76e947c777a073ef61
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Apr 15 20:09:01 2013 -0400

    modules/sca: only check if callee is SCA if callee_aor has a value.
    (cherry picked from commit d1ef3000b9db99c51d5c37134af2c679ce017a82)

commit 8c790ae25cb5927166bbf154233ca74e36b1d225
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Apr 15 17:17:05 2013 -0400

    modules/sca: add check for empty AoR in lock_shared_appearance calls.
    
    - Sanity checking
    (cherry picked from commit 8ce54ef9b33ef533b3f4474b2c68c9ae454db458)

commit 940d60dc398383aede76b01cfa7618fb11081da6
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Apr 11 22:34:10 2013 -0400

    modules/sca: clear appearance on t_reply with error after receiving 18x.
    
    - Receiving a 18x provisional reply triggers line-seize subscription
      termination. Releasing the seized appearance while processing a t_reply
      with an error status *after* getting a 18x would fail because
      sca_subscription_terminate could not find a matching line-seize
      subscription. In that case, look up appearance by tags and release it.
    (cherry picked from commit aa0c84475140dc44186c68e9c544367553c891c2)

commit d220cdbf8eb9d6c0d7108c81cd1ba762a2fa8938
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Apr 8 15:01:41 2013 -0400

    modules/sca: reduce verbosity of RPC sca.all_subscriptions output
    
    - accommodate more subscriptions without hitting kamcmd buffer limits.
    (cherry picked from commit a9e555e6e41271e015c47d29ba85276673d3b7b6)

commit 2a072eeea166c93a9419f6249b52c30da9367c3d
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Wed Apr 3 14:54:36 2013 -0400

    modules/sca: ensure line-seize sub update uses index from request
    
    - lazy removal of line-seize subscriptions that were not used for a
      call could lead to failure to release expired seized appearance.
      Client must have a lingering, expired line-seize subscription that
      hasn't yet been purged by the timer, and indices must not match.
      Fix ensures that the appearance-index from the new line-seize
      subscription overwrites the index left over from the expired one.
    (cherry picked from commit 43cc6015e8604e309672da4d754b5022d1e256c9)

commit 47aeade304e6731354ff190eb07b2e01a8059a25
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Wed Apr 3 14:46:27 2013 -0400

    modules/sca: fix SCA_CALL_INFO_EMPTY macro
    
    - test should be a logical OR, not AND.
    (cherry picked from commit 3339e7a5bd205599fed63f82536626732b3f23d9)

commit bbd4f9e7f4e27ecc73a5703c1a4acd0331a47f5c
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Mar 15 17:01:23 2013 -0400

    modules/sca: process BYE without Call-Info from shared line.
    
    - Ciscos & Aastras don't seem include Call-Info header in BYE. Look up
      dialog by tags and release associated appearance-index.
    (cherry picked from commit 287cccf2af17e5f2f8fe09c41025b4d27bb4fda9)

commit eb130422b65cb4ed418c9ed0b9398a069fff397f
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Mar 15 10:22:26 2013 -0400

    sca: reduce log level to DBG when replacing RURI when retrieving held call.
    (cherry picked from commit a51bc822f70f4185b55455456dc147205cbbbdc7)

commit 489fd1ba70db6aefc68f037eadf92877b1f2e6cf
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Mar 1 16:33:59 2013 -0500

    sca: fix private hold handling
    
    - private hold call-info was being ignored in hold reINVITEs, causing
      inaccurate "active" notifications to go to subscribers.
    (cherry picked from commit 81b5473f5a191a5aa81295acf0d96a22160f7f31)

commit 888ea024de803c4d01be15cb30929339790a09ef
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Mar 4 23:13:53 2013 -0500

    sca: fix regression dropping Expires header from SUBSCRIBE replies.
    
    - extra_headers.len lacked Expires header length after snprintf.
    (cherry picked from commit 3b557293a33f6f3003fdd62a45e02cf8736b534e)

commit 18593c16f5a4a7504a0de890b2bbc9025cff049f
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Sun Mar 3 17:01:53 2013 -0500

    sca: move SUBSCRIBE response handling to sca_subscription_reply
    
    - create necessary headers, pass to newly generic sca_reply function.
    (cherry picked from commit d528c27b6fa69530bfde4a6ce83c5d4dcc6499a5)

commit 08b6b184dcab912edf8d58d8867f74f13c50c2da
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Sun Mar 3 17:00:44 2013 -0500

    sca: reject out-of-dialog attempts to seize privately held call.
    
    - per spec, reject with 403 Forbidden.
    (cherry picked from commit e565748048d7a6b6fda0a28959e092380c5bc26a)

commit 5f017710a95d21ef89a936ca28ef73f5d80081e2
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Sun Mar 3 16:59:23 2013 -0500

    sca: make sca_reply a generic reply function.
    
    - take a pre-filled extra_headers parameter instead, add with add_lump_rpl.
    (cherry picked from commit d6d71b0e217226fe43491a0e9ba75ec0a6649cd5)

commit 8972be270b422a5a1eef39249162e2abcde0feda
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Feb 14 16:55:36 2013 -0500

    sca: fix race condition when two endpoints seize same index simultaneously
    
    - return 480 Temporarily Unavailable to loser of race.
    (cherry picked from commit 522d06e75bf3c549af007701332f7db53a1b5ab6)

commit e2642ea25cc19344d6e3e7f71e9df1cd7ef2532d
Author: Peter Dunkley <peter.dunkley@crocodilertc.net>
Date:   Tue Oct 1 10:52:01 2013 +0100

    core: fix TCP connection leak
    
    - patch provided by Vitally Aleksandrov
    (cherry picked from commit 6cfd13cbddd1869ffbc947fdecd77d18a3fcb886)

commit a7e7d9277f503ab42055b4b3be130e3f4a6fcae1
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Mon Sep 30 10:44:27 2013 +0100

    modules/websocket: Fix connection leaks
    
    - Decrease the TCP connection reference count after each use
    (cherry picked from commit 27474179bdeef0ddaba05389f510446a387d85e1)
    
    Resolved conflicts due to new feeatures in master:
    
    	modules/websocket/ws_conn.c
    	modules/websocket/ws_handshake.c

commit d5eadc90ebdb6460b43d304de86a37893263ce2d
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Thu Jul 4 10:30:51 2013 +0100

    core: Fix connection leak with websockets
    
    - Decrease connection ref count after using connection
    (cherry picked from commit ffdae5987b99b9bfd39992d407a3a0a33aa772ab)

commit 1e774166724e0bdd2c43091b3b19c1b82d197242
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed Jul 3 10:39:32 2013 +0100

    modules/tls: Free TLS data for secure websocket connections
    (cherry picked from commit 074f12c5a444188aa023797ac70e2d38d225cb18)

commit 76319cf9600b71364e3cd6509f61da2f60b2f10f
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed Jul 3 10:46:44 2013 +0100

    modules/websocket: Fix pkg memory leaks
    
    - Fix pkg memory leaks in error cases
    - Fix incorrect memory allocation size for ws connections
    - Fix typo in websocket stats
    (cherry picked from commit d0f88e19577d9b914922f83049075b7786f3d8df)

commit 77a53b8df680808a20c73953f1e5348df5d309d2
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Thu Jul 4 09:33:56 2013 +0100

    core: Improve tcp stats output
    
    - Add connection ref count
    - Add websocket protocols
    (cherry picked from commit fb4dc4b7b866239a90a4d6441ed319664697edab)

commit 052dfbe29933bf773ba5d109a530c2b2f7ecb59c
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Sep 19 15:59:18 2013 +0200

    pkg: kamailio - provide -f $CFGFILE to init.d config check function
    
    - reported by Grant Bagdasarian
    
    (cherry picked from commit f7fe8b68ffb100fbaa27344e4bee7ba69c760584)

commit 38157fdbdadd1ff2a0ac902088082ad96b0c2f04
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Sep 19 14:06:46 2013 +0200

    core: reset fields from sip_msg_t in shm cloned structure
    
    - instance was pointing to pkg

commit 1550ce9a0ffa012daf413a0abee5d80bd7cc60de
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Sep 19 14:05:21 2013 +0200

    tm: reset faked request fields that can be set in failure handlers

commit 3ca71bbf4f61c83d8e82c988d0789d147f81f30b
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed Sep 18 21:34:16 2013 +0100

    modules/sdpops: Check for valid sdp body in sdp_remove_line_by_prefix
    
    - Fixes crash when used on requests with no body

commit 84b21f2e9f602032d5950069cbd1dbf3ac416fcb
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed Sep 18 21:58:12 2013 +0100

    modules/app_lua: Fix off-by-one error in modf
    
    - Fixes calling sr.modf with additional parameters

commit 8ffa88060ebfd0634c0cebfea43189a8e1545b4b
Author: Juha Heinanen <jh@tutpro.com>
Date:   Wed Sep 18 08:29:41 2013 +0300

    modules/lcr: fixed checking of IPv4 address in to_any_gw_2 function

commit a331af11519765e863ddad68878f7c5d571d0823
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sun Sep 15 16:38:34 2013 -0400

    xhttp_pi: fix crash when checking bad configs
    (cherry picked from commit d1219dc0d0c5e2eab0672a439aa7ce6486c31ba3)

commit c79fb705391b90813a501165049ac79aff80928f
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Sep 14 11:08:23 2013 +0200

    tm: docs - no event_routes.xml in this version
    
    - readme regenerated

commit 07a8f0da3d8f3d1ec4b3e4e88db485e5015a31f2
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Sep 14 09:46:23 2013 +0200

    tm: added missing documentation for t_check_status()
    
    (cherry picked from commit f328b864418020b1e166b13804fe173110500d75)
    
    Conflicts:
    	modules/tm/doc/functions.xml

commit 120b736c14b3dae780cfc9ef7fc8fd1c79d32d92
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Sep 10 14:14:52 2013 +0200

    kamdbctl: added missing dbuid tables group creation
    
    - patch by elactrum [at] jamailca.com
    (cherry picked from commit 6f17209a70e84d91976ea42b476ae248b9b37501)

commit 51f40460096d9c249ce34d9b4fbecf366b5f974e
Author: Victor Seva <linuxmaniac@torreviejawireless.org>
Date:   Mon Sep 9 16:52:47 2013 +0200

    uac_redirect: get_redirect() check reason value before using it.
    
    This fix a core dump when get_redirects() config fuction is called with just
    the one parameter.
    (cherry picked from commit abf0026782c0ba4643feb25ded022e8c12725584)

commit 9c8fd38683d9f6531b0d6ee966d81d878095bf6a
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Sep 4 22:59:13 2013 +0200

    registrar: reset r-uri pointer after backup in lookup_branches()
    
    - otherwise can be invalidated by next branch lookup
    
    (cherry picked from commit 9b44e4b48862947f2ea634c6dd611ce7c07546a2)

commit d8739609c85cb00da9486b3f91d0c4834048485f
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Sep 4 13:04:23 2013 +0200

    topoh: safety check for missing To header
    
    - based on a patch by Michel de Weerd, FS#303
    
    (cherry picked from commit 362d374a61953aee3cf9f96eadaef63c5f22763e)

commit 756e30f5c33ef4ab122b333b4d1b6ce80cec0f2f
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Sep 4 12:33:45 2013 +0200

    db_postgres: use variable for make tool in module Makefile
    
    - fixes builds in BSD systems
    - patch by Victor (coyote), FS#335
    
    (cherry picked from commit 7abd496560c6274680d451f49355ad1f6a14a6a7)

commit 796d53ddec3fe12dcb93d4a4c293de0f610581d5
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Sep 4 11:54:07 2013 +0200

    tm: readme regenerated from xml files

commit e7a00bb913fc24be894a668317dd2f2ac143cbed
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Sep 4 11:53:28 2013 +0200

    tm: updated xml docs with t_set_disable_internal_reply()
    
    - backported from 6073949aa224ea7a973058891a88a58cc0841860

commit 55587b6bd035f2ab10f73c6c9bde95628688e799
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Aug 23 21:03:13 2013 +0200

    tm: removed note about no-implentation for no-reply flag for t_relay_to()
    
    (cherry picked from commit ef9b69bbb54302e9985dd37d79831b6f80463fc1)

commit 98ba4cec3ca2caef40725c3884e7dd5693d6c3c1
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Sep 4 11:44:23 2013 +0200

    rtpproxy: updated rtpproxy_manage() to handle PRACKs with sdp
    
    (cherry picked from commit 2aa5095252f9434c7c2a63ecb130bdaf1346fde9)

commit 3d836040bdb6d191e6f6a54e37fe680e1e3973d0
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Sep 4 11:47:36 2013 +0200

    tm: re-added the option for no-internal reply on error
    
    - new function t_set_disable_internal_reply(0|1) to disable|enable this
      option per transaction
    - t_relay_to() flags re-enabled for this option
    - backport of 0f2f9c85eff0b6ad35b4c58dfcde74c8a65559d6

commit 2a224a569cea270d8db84438f163b9f309569df9
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Aug 22 00:14:53 2013 +0200

    core: print src address details if initial message parsing fails
    
    - reported by Juha Heinanen
    
    (cherry picked from commit 3ccf4b43e81bd2654cb306a3c2cc21b97cb51f62)

commit fd4a2dde96a692c165f382839c3bef8636dfd9e2
Author: Juha Heinanen <jh@tutpro.com>
Date:   Thu Aug 22 08:20:52 2013 +0300

    modules/lcr: added some linefeed chars missing from syslog messages
    
    - Patch provided by Kevin Scott Adams.
    (cherry picked from commit d03651fb4c3a6b50923029e121eed201fb1ff550)


===================== 2013-08-15 Version 4.0.3 Released =====================

===================== Changes Since Version 4.0.2 ===========================

commit a75a8a140e53ef8cee58d670b3954e7ac4cdb1b8
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Aug 15 15:33:55 2013 +0200

    Makefile.defs: version set to 4.0.3

commit c67ac0b5ef5183947acf02d496eb5899dad0ba9b
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Jun 16 17:17:36 2013 +0200

    topoh: safety check for To header
    
    - protection for the case when sanity module checks are not enabled
    - reported in FS#303 by Michel de Weerd
    
    (cherry picked from commit 4f3d04d547c66a1b59398cf80e93974175141514)

commit 2ffedf0e6bd3d9231988fbb70153bd6d72ae63ab
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Jul 4 11:48:26 2013 +0200

    tm: avoid double execution of response-in callbacks
    
    - double execution of response-in callbacks could happen when using tm
      pvs inside core reply route, being done in transaction matching
      function, which is executed again by tm reply received function
    
    (cherry picked from commit d4cef7f5e49105c65df9651a1ad086b035f8ffdb)

commit 9e231ae7f6a80abf686448e1593195b9012c2e8c
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Jul 4 11:47:18 2013 +0200

    core: new internam sip msg flag FL_TM_RPL_MATCHED
    
    - mark sip reply when matched first time by tm
    - used to avoid double execution of response-in callbacks
    
    (cherry picked from commit 230a138991b25f7f9b07b4f9cbeffbdd6acef2e8)

commit 58322807c275ce07be6a339dd5db2416f1905470
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Jul 20 10:01:25 2013 +0200

    Makefile: sercmd renamed to kamcmd in uninstall option
    
    (cherry picked from commit ab601ea9a1b2561c2eaa860583cdeed478b9ea8d)

commit 17f2611e668af139399c21677d3503c0c5a6a860
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Aug 4 14:22:41 2013 +0200

    imc: wrap bit shift defines in parenthesis
    
    - avoid priority conflicts when using the defines
    - reported by Shankar
    
    (cherry picked from commit e6e0419a46c3e5127d07c95390931d10b2a01c3b)

commit 75e20d79763094fccaacddf127699ce9f22e973a
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Aug 15 10:38:26 2013 +0200

    pkg/rpm: version set to 4.0.3 in spec files

commit 701b5faef517a65208907e771d2c3b7b015afb19
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Aug 15 10:37:15 2013 +0200

    pkg/deb: version set to 4.0.3 in spec files

commit 3898507f56eefe5c9d8e72b37280e0d133f6e357
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Aug 13 09:37:21 2013 +0200

    usrloc: safety checks to catch empty ruid
    
    (cherry picked from commit b0e9132ccd1e8385b8b4faf72db806320d48e2f5)

commit e59bb3303252c0b47f6027ae2b99a11096521154
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Aug 13 09:19:02 2013 +0200

    usrloc: more verbose log messages in case of failure to update db records
    
    (cherry picked from commit 66c8e730d59f9816f09573f5300e4463e5997876)

commit d3be7fa1c47d12a1eb6e725729c6a0a2e481bc63
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Mon Aug 12 11:05:55 2013 +0100

    rls: Fix memory leak in rls notify.c
    
    - xml is leaked in an error case

commit a72a01a1cac4bd17e0aa91912ab158e73908d561
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Mon Aug 12 11:15:55 2013 +0100

    presence: Iterate correctly around presence updates
    
    - timer_send_notify should increment the subset by one on each loop

commit 6abd4b4d1eeea2c57a8bcfb071fadaca21efc20f
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Tue Jul 16 10:51:29 2013 +0100

    outbound: Fix freeing null pointer in destroy function
    
    - Only appears in error cases, e.g. syntax check
    (cherry picked from commit e88af0a02de79fac583c126f08d762f7ef3f1b01)

commit d2f62dd1855faef35bea8eff932d250557868ae5
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Aug 1 15:58:59 2013 +0200

    db_flatstore: free id pointer if no more space for table name
    
    - related to previus commit on this module
    - keep table name null terminated
    
    (cherry picked from commit 6a981d3d922c914054d4c8dc7e672bb6a4ddb5f5)

commit c50d559b4da94238a430c059dd02d74e63dd96fe
Author: Federico Cabiddu <fcabiddu@orange-vallee.net>
Date:   Mon Jul 29 07:59:34 2013 +0200

    db_flatstore: fixup for new_flat_id function
    
    - locally copy table's name
    
    (cherry picked from commit 8fb0f711aaa611eac8b2776c7e5ae3c5e19243ac)

commit 76b82480f74006d830afc9c9ae81ada25dbc7730
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Jul 26 14:52:21 2013 +0200

    uac_redirect: fixup for using acc table parameter
    
    - set reason parameter for acc function
    - based on a patch by  Federico Cabiddu, FS#327
    
    (cherry picked from commit 3d33733f299dda595704108aef73a2912dc3069f)

commit ece14d42fda4baefc4f0e8465faad17b678a6a4b
Author: Federico Cabiddu <fcabiddu@orange-vallee.net>
Date:   Mon Jul 29 07:59:13 2013 +0200

    acc: acc_db_set_table_name fixup
    
    - add termination char to db_table_name_buf
    
    (cherry picked from commit 7ba6cbfcaf70cb546ea3a9f148a0f0b0bc38c16d)

commit ea266beb3d678b36efeb82feeba6087df90d9f19
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Jul 26 14:55:38 2013 +0200

    acc: safety check for accounted values not to be NULL
    
    - based on a patch by  Federico Cabiddu, FS#327
    
    (cherry picked from commit fb3a5f7022ebd20fc516b5b8303a0274bda18258)

commit 9f0a42dd31d765541c02d2b818dd52643589f59d
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Jul 2 23:32:37 2013 +0200

    dialog: detect if no trasaction is created after config execution for new dialogs
    
    - release the dialog to avoid endless storage in state 1
    
    (cherry picked from commit fa0339b1906690f009786fc9ed92c73a8c9e6520)

commit 369164c689950595b7e35c36a810ecd41aaa7a0a
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Jul 1 15:22:33 2013 +0200

    dialog: increment cseq in early stage for PRACK and UPDATE
    
    - rework from a patch by Halina Nowak
    
    (cherry picked from commit 6cf3ab0ca6f38d1d2e60dbc644bb4d2fb563919a)

commit 91f64af86eebde4a179a4d9cb6837994a587a967
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Jul 1 14:51:03 2013 +0200

    dialog: avoid realloc of memory for cseq when setting leg info
    
    - free already allocated structs when needed
    - has part of a patch by Halina Nowak
    
    (cherry picked from commit 71d7dc6bc750406d510e0571e05da3966911cfea)

commit 573096ad14c34364dad160bffd7e7ed5d007f5f6
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Jul 1 14:44:45 2013 +0200

    dialog: fixed callee cseq reference
    
    - part of patch by Halina Nowak
    
    (cherry picked from commit ed6dbb0ca11206049bee9ab515ce071eb70e7b63)

commit 3935fedf23f3bf2b6675182193cef6af3bbd903a
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Jul 31 12:22:12 2013 +0200

    app_perl: push the sip msg structure to perl after initializing it
    
    - reported by David Cunningham
    
    (cherry picked from commit 341f810dca0cc0596e22f2ac1bca86de0b8d142d)

commit 3438215263f20f63f0e69121113999f952334886
Author: Camille Oudot <camille.oudot@orange.com>
Date:   Tue Jul 23 11:11:01 2013 +0200

    modules/ims_registrar_scscf: safety check in async_cdp_callback
    
    (cherry-picked from commit 1aea13af9b3eea3788e90411bd94cb9e0b0c4ea3)

commit 4471593e5f6e292d205bd84fb5912088bde32870
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Jul 25 10:14:55 2013 +0200

    app_perl: move initialization of SIP message var after initialization of temporary environment
    
    - upon a report by David Cunningham of a leak in operating system
      memory
    
    (cherry picked from commit 6ff74701652a11497bd82ee3ba2ac7547d1ce666)

commit 86864275e240be94d901fe21dde2472701e1669e
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Jul 17 20:19:28 2013 +0200

    uac: restrict check of multiple from/to header changes to request route blocks
    
    - it can occur many times in due to branch route usage
    - reported by Andrew Pogrebennyk, FS#323
    
    (cherry picked from commit d3a0a8b15af59846fdaee5d9ceae61484f1d7301)

commit b7e890b309331a13eb92c5080d276036be5833ae
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Jul 17 00:04:06 2013 +0200

    presence_dialoginfo: add schema to entity
    
    - patch by Pawel Sternal, FS#324
    
    (cherry picked from commit 716ffd2787a68734a21a1374c3dc6dd4783844bd)

commit b87040d6839985ceb107e4a097df71afd8c69fa5
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Jul 16 21:43:42 2013 +0200

    usrloc: fixed type for db_ops_parameter
    
    - reported by Alex Hermann

commit fb9a6ff96355093baa59c4f0c5c8505cb7d29311
Author: Juha Heinanen <jh@tutpro.com>
Date:   Sat Apr 27 18:07:21 2013 +0300

    modules/usrloc: fixed typo in db_ops_ruid param name
    
    (cherry picked from commit edebc03f65445f968accb58b5a761817aaee55e8)

commit f8826df994a6baac9cfee219abafa3e1b82ee4f8
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Jul 12 00:44:51 2013 +0200

    core: avoid doing dns srv again after naptr function that includes srv lookup
    
    (cherry picked from commit 80935f9e8bbe20e5c320828183999b5d395ec34c)

commit d821224ff33e7f7c43c6598482ab0870f728e763
Author: Victor Seva <linuxmaniac@torreviejawireless.org>
Date:   Sat Jul 6 20:22:41 2013 +0200

    modules/nathelper: remove natping_proceses limit
    (cherry picked from commit edb00b0566595b509a7cdf9a1c7455ce6ee6c4c8)

commit 3612981970e8002b3ab7f7d0324354e282205e2b
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Jul 11 14:36:02 2013 +0200

    pipelimit: avoid double locking when changing pipe via rpc
    
    (cherry picked from commit 0c6fef5fdc2a586ebfa607d3b5344266c08ca996)

commit 5e11ebf34bd525f02c7ff08b9520382c3aaf00f2
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Jul 11 14:32:48 2013 +0200

    pipelimit: avoid double locking when changing pipe via mi
    
    - reported by Krischan Udelhoven, FS#315
    
    (cherry picked from commit 04fd56dc1b84b70a04438ccbf719eb85177524ad)

commit d8c3a23ad2a5c925b16d75f33fcb865f09d7f308
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Jul 3 23:29:29 2013 +0200

    uac_redirect: adapted previous backport to append_branch() prototype for v4.0

commit 0227f5b61e1ea03e92a7fec9b177f602481fac84
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Jul 3 23:23:40 2013 +0200

    uac_redirect: fetch all contact headers in redirect replies
    
    - only first header was considered for redirect handling
    - based on a report by Geoffrey Mina
    - generate fake ruid (used as instance and user-agent) to satisfy the
      requirements of t_load_contacts()/t_next_contacts()
    
    (cherry picked from commit c5081ad634742d88e56e4fcc097b756098119e4e)

commit c4b51e9f51b4b2c4e908b4c4dc33b824021f1ca1
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Jun 17 11:00:29 2013 +0200

    pipelimit: fixed typo in module parameter name
    
    - patch by Krischan Udelhoven
    
    (cherry picked from commit c5573dddc4c11898fb68365e9a311aff0f1690c8)

===================== 2013-06-12 Version 4.0.2 Released =====================

===================== Changes Since Version 4.0.1 ===========================

commit f6fc38aab505aab1301024b58581ebec9a7181c4
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Jun 12 15:50:45 2013 +0200

    Makefile.defs: version set to 4.0.2

commit d4df824c3f16cf934d9056e94f8f44ae0bf3016f
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Jun 12 12:29:39 2013 +0200

    pkg/rpm: version set to 4.0.2 in spec files

commit 963fcd0ccfac6cccdc27b3a2d7a14d207ed7c516
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Jun 12 12:29:16 2013 +0200

    pkg/deb: version set to 4.0.2 in spec files

commit d54024f873c641c21da197ee7eb3a49746f58229
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Jun 12 09:14:14 2013 +0200

    registrar: regenerated the readme file

commit 81b61679cabd2470becf86700b777cc496f1d330
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Jun 12 09:11:56 2013 +0200

    mtree: use debug level for log message when invalid character in value to be matched
    
    - more verbose message when an invalid database record is found

commit 6b0d759f0dabf36c529c6c7d22c8333e7a8731e1
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Jun 11 18:39:31 2013 +0200

    registrar: fixed typo in example of xavp_rcd parameter
    (cherry picked from commit c228851e068a080050c79107c760f8ab5ffae967)

commit 3f1f50068b96ea4bde1a7255842bf07683cbed8a
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Jun 11 18:37:32 2013 +0200

    registrar: more debug messages when adding ruid xavp
    
    - free local ruid xavp if cannot be added to root list
    (cherry picked from commit 9589466916305146fb4f982542c3f3a51126dcef)

commit 56ba8ea8b1f1f26ccc36dfb073e1559eca4d77b1
Author: Camille Oudot <camille.oudot@orange.com>
Date:   Tue Jun 11 16:34:49 2013 +0200

    modules/ims_isc: several safety checks
    
    - fixed potential buffer overflow
    - fixed potential crash if regcomp fails

commit 9ee53f2abe580026c83d62b0edf1f6288dc0111a
Author: Vicente Hernando <vhernando@systemonenoc.com>
Date:   Mon Jun 10 12:14:54 2013 +0200

    app_lua: solve crash when setting a variable not convertible to string.
    (cherry picked from commit 4af0bc13901525a5638c2c64b863f377e033903f)

commit c3f4bda21273a5172dbfe048c5a1a14216f6d047
Author: Camille Oudot <camille.oudot@orange.com>
Date:   Tue May 28 17:53:07 2013 +0200

    modules/ims_registrar_scscf: safety check for log line when recieving an SAR_UNREGISTERED_USER response

commit 1fefe2feae9fec5621d949fe3857fcf8fb62068e
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Fri Jun 7 12:09:38 2013 -0400

    Makefile: update de-stable target: squeeze -> wheezy
    (cherry picked from commit fd8dfb71d0eeae891ad0c83ff332929d54f3a3ec)

commit a9089d05121e05287ce91fddb12769acfae866c8
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Fri Jun 7 11:17:10 2013 -0400

    nathelper: fix IPV6 compiler warning

commit 21747d786a4e0f8f606baeeb4f39166d351b824b
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Jun 6 11:47:10 2013 +0200

    cfgutils: updated docs to specify correct time unit for usleep
    
    - it is microseconds, pointed by David K
    (cherry picked from commit 8e937d260d0ff41f50be56e0a46ede44554f3f99)

commit e52f1d6e5702bce8031d224f006627ab3fc3f859
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Jun 6 09:09:14 2013 +0200

    kamailio.cfg: reset $du for voicemail re-routing in failure route
    (cherry picked from commit c4b29f6fac6155b9b087737df5956b687ff4e36a)

commit 3dc0b79993863f7399b1cb579d81f3637370e35a
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Jun 5 22:44:13 2013 +0200

    kamailio.cfg: few updates related to nat traversal
    
    - added "co" flags to rtpproxy_manage() to change all IPs in sdp, many
      phone get confused if only media ip is changed
    - add nat=yes parameter only for in branch route to avoid multiple
      occurences
    (cherry picked from commit 0193489cca56f58b512f5379c078c98a366c17e2)

commit 72b483393b5e7c85096a79fd999caf17edde69b6
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Wed Jun 5 08:58:29 2013 +0200

    module/ims_auth: protection against crash if there is no auth vector initialised.
    	- patch submitted by Camille Oudot
    (cherry picked from commit 4b65964dbe1f38bcf867301d43933f9bbf91ab7d)

commit 51fc2140e1d0708ed213d4903552c2f98a39a5da
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Jun 3 20:53:05 2013 +0200

    dialog: shift next timer run for keepalives of dialog
    
    - reported by Daniel Tryba
    (cherry picked from commit a17a32e5f7a3120c200d6e48fe91d7aa1dfd28b1)

commit de9607079be932be6effe40573b3219724f4393e
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon May 27 16:54:02 2013 +0200

    core: enclose uri in angle brakets for redirect contact header
    
    - safer for uri with parameters and no q
    - reported by Dan Bogos
    (cherry picked from commit 74bf08ef30cf18fb609c2c067584f1515ede23da)

commit f01889d6e717892d38df8c267e20c269dbc83b0e
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun May 26 10:43:24 2013 +0200

    dmq: many safety checks for mem mallocs and function return codes
    
    - added license header in the files
    (cherry picked from commit 1977645ceb12ca2d0f2f767046606f6c5ae2c3bb)

commit 2c04dd88c8911f3a67f3f94a5ad11b1ab865aca9
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat May 25 16:30:33 2013 +0200

    protoshoot: use Makefile pattern for utils
    
    - link to libsctp if SCTP support is enabled
    (cherry picked from commit 1bdbdb64e4862ddb69c2bf13be0f9be93968bb1e)

commit cd1120c6500bb396af9b5410ecd535160c2ba9d7
Author: Konstantin Mosesov <ez@voipgroup.org.ua>
Date:   Sat May 18 13:56:22 2013 +0300

    parser/sdp: Fixed segfault in sdp_print() when no SDP body.
    
    - Failed scenario:
    remove_body();
    msg_apply_changes();
    sdp_print("1");
    
    - Result: sdp=0x0
    (cherry picked from commit e81b3aac19ab567813d6cb21fcba3d9bd6e1cc90)

commit edde8d20806aca248e3a1c1e439084988d62d361
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri May 17 00:46:42 2013 +0200

    core: fixed printing function name in log message
    
    - based on http://gcc.gnu.org/onlinedocs/gcc/Function-Names.html
    (cherry picked from commit e081c2880b46174ad836ab1f56e3062bb17b4332)

commit 959cab2009427fd850318980914dd0e91b3cbff8
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed May 15 22:45:18 2013 +0200

    pv: clone result of several string transformations
    
    - it is safer for assigning back to the same variable on which the
      transformation was applied
    - reported by Martin Mikkelsen
    (cherry picked from commit fe7e4a5152674aa9c81c09dd2fc9938d9e9e762e)

commit c3017b2e79e47edd88f2b4917afd4794d4e6ef11
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue May 14 19:52:45 2013 +0200

    utils/misc: updated vim syntax file
    (cherry picked from commit 6038bae188863f541994976d299c38f50b0a699b)

commit 90a8f28c01d804dccc50112af3235fb886e57d89
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon May 13 10:59:20 2013 +0200

    core: debug message to show mapping of routing block names to ids
    (cherry picked from commit 80e8058d9acea7c994819d043456fd1b449b048b)

commit 369143aeeab0761edd70ab42cbac5648194f8a55
Author: Juha Heinanen <jh@tutpro.com>
Date:   Sun May 12 16:10:40 2013 +0300

    modules/presence: downgraded unsupported event syslog message
    
    - Downgraded unsupported event syslog message from error to notice.
    (cherry picked from commit afdae93c5eba15496498be292c0c99608d801757)

commit 2c4bc8619c61993c02eccaada7dca5f5c84199af
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue May 7 19:15:36 2013 +0200

    core: get rid of deferencing type-punned warning in deb wheezy
    
    - reported by Victor Seva
    (cherry picked from commit 81d3eebd51089686949ab22da60166d4f3a460a7)

commit 62071fddff1793254e3d615ccb956bbb7ce5ccca
Author: Henning Westerholt <hw@kamailio.org>
Date:   Thu May 2 21:17:57 2013 +0200

    mangler: fix double definition of contact_flds_separator, reported from ld
    (cherry picked from commit 003d87edc23f62de98a1a22db03b12ea58abcbc6)

commit bb9a8ea4dcff649c06395efbe4f3aa2cc4f269f5
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Mon Apr 29 20:54:52 2013 +0100

    modules/websocket: fixed mandatory headers check
    (cherry picked from commit 8f74c57605fdd1d31c7808a3b8afc79cc981b370)

commit 61f68eae79b09898cec4a90f298c562f4c2f9a93
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Mon Apr 29 20:38:06 2013 +0100

    modules/websocket: doubled the size of the buffer for adding headers to WebSocket handshake responses
    (cherry picked from commit a2e7f65ee8b86d37a6772619ae10087a05219192)

commit 6eb6d92af2fe55d14b255bb5c5c939cc2f78ba79
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Jun 7 11:00:51 2013 +0200

    modules/rr: completely reverted after_strict() to its pre-outbound form
    
    - backported from c9448d9657f0e5792072c6803643c8d9075d711a by Peter
      Dunkley

commit 4b8f5eea61310a7d2545d06d513697b0c8631289
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Thu Jun 6 15:21:19 2013 -0400

    registrar: print bogus AoR in error log
    (cherry picked from commit e41230071e367015ecf794c147c60fda0bcd1907)

commit 3a64a12e056670766da7e49a0275c1240d6d229a
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri May 31 17:05:40 2013 +0200

    pua: release lock on not finding temp dialog
    
    - patch by Halina Nowak
    (cherry picked from commit 09cc2207b265d51dcbc28279623bf9c597fa3b46)

commit be5c2e31c6498d916762b87b6d5e76403f9f1824
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 15:49:52 2013 +0100

    documentation: Rebuild auth README

commit 6978f42ae854385b437f637f7e6ce3fced33474c
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 15:46:18 2013 +0100

    documentation: Rebuild all modified READMEs

commit 96aff46759acd1df1a585866c1ce9295cb2810b1
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 14:10:31 2013 +0100

    auth_identity: Fix TOC in documentation
    (cherry picked from commit d4743ac526184ce3234518234ca77c715ca2f6b6)

commit 203ba3e9c51852b245448ab44f4a7c181919cd33
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 14:11:23 2013 +0100

    avp: Fix TOC in documentation
    (cherry picked from commit 973973bef43acac5cdbae930427b6e347746a337)

commit ce1da89afedc38e606446527bf218ea9eb032221
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 14:37:03 2013 +0100

    blst: Fix TOC in documentation
    (cherry picked from commit f53afaaf8c7fe65507ebe179a05049c64b380632)

commit 479199a575a3cb4a8385cbf8ad8ece5d798e09f1
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 14:37:26 2013 +0100

    cfg_db: Fix TOC in documentation
    (cherry picked from commit c209510de26aadc7ff01506dca42ec0b39904f0a)

commit 3d6e26cd8b2188b6236c98977c4c312c2320d3bd
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 14:37:45 2013 +0100

    cfg_rpc: Fix TOC in documentation
    (cherry picked from commit ca060e774dd95b0831b2efeea9b355ba3a4fc068)

commit 67716c6c5cf5fbe89e69df5dc86db0f7dce7ed3c
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 14:38:07 2013 +0100

    counters: Fix TOC in documentation
    (cherry picked from commit 2980ba3881325102835297bc5cdf5b3199a8f9b7)

commit 183562260acce4b5fcaeb1831b4c50757dfb9dbd
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 14:38:25 2013 +0100

    ctl: Fix TOC in documentation
    (cherry picked from commit cff735c7d4933d8fac54471897173a6b6c75bd4f)

commit 43e15fa83ef1e5b043f1d2aca69864030f21dc81
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 14:38:43 2013 +0100

    db2_ldap: Fix TOC in documentation
    (cherry picked from commit 2e4e4d54015f850b377beb30a72cc4e0b2cb1cce)

commit e6ee88798b26af044afe5d407cdb4c637171fb70
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 14:39:45 2013 +0100

    db2_ops: Fix TOC in documentation
    (cherry picked from commit f29709478f3492741803cf8ce100d6aa843de6be)

commit d680a29621d81e4bd99a79c20474ff275eb364ee
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 14:40:06 2013 +0100

    db_flatstore: Fix TOC in documentation
    (cherry picked from commit 86b0c38c38822c93ccd3f2a80f629f35c83877bf)

commit 2483b36569ca27db9e1952afdf9de6a838de3b4b
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 14:40:31 2013 +0100

    iptrtpproxy: Fix TOC in documentation
    (cherry picked from commit aaa7c1ca5b61ab156dc548647b5021cdfce79df8)

commit f281fc57de32fe4ed23e5cfc44039ec4d83b43e3
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 14:40:54 2013 +0100

    malloc_test: Fix TOC in documentation
    (cherry picked from commit fa90c51bb3c1eace5ca3ef75bb0656ad00512081)

commit f2d0437086f2208036affbf4a6a43fd5c47f27aa
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 14:41:28 2013 +0100

    mangler: Fix TOC in documentation
    (cherry picked from commit 0587120366a1e434c4b037aa9aea13ad47c00949)

commit 88ba330fff5556d893a426acc1c1b96b1443ca72
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 14:41:51 2013 +0100

    prefix_route: Fix TOC in documentation
    (cherry picked from commit 0fec2b0e212a3578474ce4eb7165d218a5008741)

commit 2b73d4a7a584891e3ce4087002418039bfcfa842
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 14:42:05 2013 +0100

    print: Fix TOC in documentation
    (cherry picked from commit 2a7b143ac5e16da2ef5a1b249a041a009fe2403c)

commit 36fcb32c129a43bd8056a7b8bc3e0b44e0f266d0
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 14:42:20 2013 +0100

    print_lib: Fix TOC in documentation
    (cherry picked from commit c6a6057ad0a121b5fb756c05ebe7ae8819ad1eea)

commit adaa412871b4e489ff41ba585365711cf2df5965
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 14:42:35 2013 +0100

    sanity: Fix TOC in documentation
    (cherry picked from commit 0428706c4c8ebb8ab55e29acea02e574a3f7301f)

commit 461b1e248f0d3f749282f2145c4176bb979b5e66
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 14:42:54 2013 +0100

    sl: Fix TOC in documentation
    (cherry picked from commit 47c467fd2ea2351112acadd1f2b7317b97a15a86)

commit de89f88a99ce546c73a4dcf52c37c42078dce972
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 14:43:09 2013 +0100

    sms: Fix TOC in documentation
    (cherry picked from commit 30a01b64344ae050a79cce83f56de56032580138)

commit d115fa0291aa927f2ff8ceec67f29732c7faa69b
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 14:43:24 2013 +0100

    textopsx: Fix TOC in documentation
    (cherry picked from commit ec8c442d890d875cc412b24fdfafc4bac2d43d7e)

commit 07f8341cc900dcb3b1c794f90d661619ce9d96bf
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 14:43:42 2013 +0100

    timer: Fix TOC in documentation
    (cherry picked from commit e7b02dfc716f39465600170059559af042642062)

commit b66db21b7ece75e8ab241a2c3e910c606bca8519
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 14:43:57 2013 +0100

    tls: Fix TOC in documentation
    (cherry picked from commit 935607223847032559156c22e0a0988fd32e9d17)

commit 04b1687078f26fceb7b50384c0b2f1f4a349e4a1
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 15:10:38 2013 +0100

    tm: Fix TOC in documentation

commit 7e3b141db106062141e18365601039ed382125e7
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 14:44:28 2013 +0100

    xmlops: Fix TOC in documentation
    (cherry picked from commit 285142447f23aa317a0a0d5b3e6e57d3afa78961)

commit 5b0dc97812273d4f2cde2e4fd63df5c29c84165b
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 14:44:45 2013 +0100

    xprint: Fix TOC in documentation
    (cherry picked from commit 3a1c8104aca76ee1d0f3565c1179c67685d5e838)

commit fc0b618fe2dfc8c54093e61c763bd3052fb27a86
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 14:45:28 2013 +0100

    uid_auth_db: Fix TOC in documentation
    (cherry picked from commit 740e37bd1f6e2370bae02b5e8d6d4fab8e89eaa9)

commit 665573c8561aa69641b64062b2b5cd720914c925
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 14:45:49 2013 +0100

    uid_avp_db: Fix TOC in documentation
    (cherry picked from commit bdfb7274ffeffaf99ad8b4aeebf9b9493685f7b7)

commit 6e996037deb698e8cb40a010c45004136ce74f7f
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 14:46:04 2013 +0100

    uid_domain: Fix TOC in documentation
    (cherry picked from commit a20b97560d35f367b0a8d8b203e9566e42acde52)

commit 0f1f2f37546f6c4b0f7c7a27df684a81c8e5a8fa
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 14:46:24 2013 +0100

    uid_gflags: Fix TOC in documentation
    (cherry picked from commit 396363a78875af7fc6444705d5482d579d5ac0c5)

commit 27e630e4fa8346b19f712ee5b7c5028bbfbf20ef
Author: Hugh Waite <hugh.waite@crocodile-rcs.com>
Date:   Wed May 29 14:46:40 2013 +0100

    uid_uri_db: Fix TOC in documentation
    (cherry picked from commit 10d5ed156a59d8e8a000bd7cecec5bf968853c69)

commit 817d5dfdd8fbae905c64c41672f197143b6f563c
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed May 29 10:49:40 2013 +0200

    topoh: safety check for Via header when removed from script
    
    - reported by Guillaume Bour, FS#300
    (cherry picked from commit b480ac55508e5d9b92cc9560e0b1d338d04f3b11)

commit 3a431ed6b79762162a907164d4fa3b76c6b6aaa6
Author: Klaus Darilion <klaus.mailinglists@pernau.at>
Date:   Mon May 27 10:48:00 2013 +0000

    modules/dialog: regenerate README

commit 59adebfe3ae6f18a337833d0df62ee67e161bff5
Author: Klaus Darilion <klaus.mailinglists@pernau.at>
Date:   Mon May 27 10:44:03 2013 +0000

    modules/dialog: improve documentation of DID matching
    (cherry picked from commit 68209cc2b15c2c0674d7cf4529607e148e3fc1b4)

commit 533f2238d9d14ed8ef0a367ce574aef8052c0452
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun May 26 16:14:51 2013 +0200

    topoh: safety check for SIP messages
    
    - received callback can be executed for non-sip messages
    - reported by Julia
    (cherry picked from commit 352a7dccf2570af857d7e2e50fed600c4762278d)

commit b5f362f4ddbc932daad611996d3e9abf2d91cd12
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu May 23 12:06:45 2013 +0200

    auth: add chapter tag around sections for Admin Guide
    
    - the ToC isn't properly generated otherwise
    - reported by Andrew Pogrebennyk
    (cherry picked from commit 76c883eb88359f6075712f648a1dfc675872487a)

commit 721b0adc4addad2ed2da1579af21fc9b66915ddc
Author: Klaus Darilion <klaus.mailinglists@pernau.at>
Date:   Tue May 21 12:39:15 2013 +0000

    modules/auth_db: detailed documentation of URI checking in auth_check function

commit 9a75da1e9a302868729b171ad76dcf15404487e5
Author: Vicente Hernando <vhernando@systemonenoc.com>
Date:   Fri May 17 12:34:54 2013 +0200

    modules/uac: update README after avoiding adding quotes in uac_replace_* functions

commit 5eced6635b0a2165c9c107fb6031901459159b2d
Author: Vicente Hernando <vhernando@systemonenoc.com>
Date:   Thu May 16 12:06:55 2013 +0200

    modules/uac: avoid adding double quotes in uac_replace_* functions
    
    - updated uac doc with a note and examples.
    (cherry picked from commit 251c0218e7d5e09f43a2b834a5450c20bb4f6d60)

commit 55f7def6b4ed889a27a19164faa0dd7f854fa983
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Thu Apr 25 14:50:41 2013 -0400

    snmpstats: fix cross-compilation
    (cherry picked from commit 5e96920289cbf448ac684d8cb1333d75f65a729a)

commit 70ab195f753956a3f891d992787a76c2c4ff643b
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sat Apr 6 22:04:51 2013 +0200

    snmpstats fix typo in Makefile.
    (cherry picked from commit bddf66407ef7521f3d1f1e941b4c1e104e59d1ef)

commit f86be5e0aa282dc58680f28d01161437901fa2c8
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sat Apr 6 22:02:48 2013 +0200

    snmpstats Add disabled section in Makefile for compilation on Centos systems
    
    Net-SNMP and snmpd can be built with embedded perl and libwrap support. If that's
    the case on your system you need to enable the EMBEDDED_PERL section in the
    Makefile. Maybe this could be enabled automatically.
    (cherry picked from commit 7bbf8fece2cc93c5b1ddd2c3dcc12e8a920dd54d)

commit f92eee8eecab6d0fa505011b20a57dea242fa982
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Wed Mar 20 13:16:27 2013 -0400

    kamailio/utils/sercmd: remove unused but set variable
    (cherry picked from commit 67609608aa4306de9a34a28a3a31880ad0d17e8e)

commit 320bf55cbfea89b145d41c938f75a7bf70f40613
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Wed Mar 20 13:15:08 2013 -0400

    kamailio/utils/sercmd: remove unused but set variable
    (cherry picked from commit b7a41ef47ad5d7fa90e577673cc2f38ab5ef2237)

commit 24e4d3dbd79ccb2e42aabcaaa17e391dc60d36d9
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Wed Mar 20 13:13:27 2013 -0400

    kamailio/utils/sercmd: remove unused but set variable
    (cherry picked from commit ff94115921a08ba4da29baf2761db47bd0b7f8f5)

commit 5f9d169e797425b0501de42ba2af196018166c71
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Wed Mar 20 13:23:49 2013 -0400

    p_usrloc: commenting out unused db_timer_udomain() to get rid of compiler warnings

commit 56b8856f84aebd86c4e78232f8f2f37fead7b4f3
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sat Apr 13 15:37:18 2013 -0400

    tls: fix compiler warning
     - tls_config.c:61:19: warning: ât.val.sâ is used uninitialized in this function [-Wuninitialized]

commit 3a18564eb905d93b85b9e0527fa40cd85eb2e3b7
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Wed Mar 20 13:02:16 2013 -0400

    auth_diameter: remove unused but set variable
    (cherry picked from commit 387adace552c22eaf15a049b23694bcd79cea3a8)

commit 68021c3247b096fabc287fc6d129bce463cbfa97
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Wed Mar 20 13:00:27 2013 -0400

    auth_diameter: remove unused but set variable
    (cherry picked from commit 941c48ae6909994ae090c9d52766cd4dd5d4f938)

commit b654a0d650af61bd4ec7212b48d71ccf7243e473
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Thu Apr 18 16:03:50 2013 -0400

    seas: fix warning [-Wunused-result]
     - ignoring return value of write, declared with attribute warn_unused_result [-Wunused-result]
    (cherry picked from commit e3c0a3abb6045e841fbb4b1b61a518b2b87a217d)

commit d3999770dec8628a214423bcdcc510d90a39dc40
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Thu Apr 18 16:01:16 2013 -0400

    seas: fix compiler warning [-Wunused-but-set-variable]
    (cherry picked from commit c0f4b6cf664ac552d0c994e99adb13991a37ef28)

commit 3141c87bc4270ca2534250500dfdefa66c79a48f
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Thu Apr 18 15:54:14 2013 -0400

    seas: fix compiler warning [-Wunused-but-set-variable]
    (cherry picked from commit 12cd241d95b8d38cea6e60676b752f8ef8a2ed8c)

commit 2fe9c5d1f7b0640b1e50976f4187d7362d6a3343
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Thu Apr 18 15:51:50 2013 -0400

    seas: fix compiler warning [-Wunused-but-set-variable]
    (cherry picked from commit 21e51107a5a08b182abc7bffbac1fec1be27950b)

commit 250b90ed1ec6ee34e883a4cbf6ff55865752a2d9
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Thu Apr 18 15:50:25 2013 -0400

    seas: fix compiler warning:
     - warning: variable flags set but not used [-Wunused-but-set-variable]
    (cherry picked from commit 2abf2d4a42c05004319e682d2ad07d69bf2fc89e)

commit cb971e61a573d2a024ada52b6036a1cdc56ee68e
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Thu Apr 18 15:48:03 2013 -0400

    seas: fix compiler warning:
     - warning: variable flags set but not used [-Wunused-but-set-variable]
    (cherry picked from commit 21386829d819c06c42871cf5b68d0d3a63ef0222)

commit 15ec4ac4c0e815d648bbdf0e676227b93860f290
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Thu Apr 18 15:45:50 2013 -0400

    seas: fix compiler warning
     - warning: variable flags2 set but not used [-Wunused-but-set-variable]
    (cherry picked from commit 200eddad28abd6bc51da3285dd52d5f8c88c4e56)

commit d74129f1d80a38e29b152351d1c0cf4c1faffce4
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Thu Apr 18 15:42:40 2013 -0400

    seas: fix compiler warning:
     - warning: variable falgs set but not used [-Wunused-but-set-variable]
    (cherry picked from commit 63736be1e4d2d6e82a0f7be6a85a96ee66c10146)

commit 9374ee177e5c962eee8c47a1ff30683596114c7b
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Thu Apr 18 14:09:09 2013 -0400

    dns_cache.c: fix compiler warnings
     - warningÃ¢sr_sums[*].r_sum may be used uninitialized in this function [-Wuninitialized]
     - warningÃ¢sr_sums[*].rr may be used uninitialized in this function [-Wuninitialized]
    (cherry picked from commit b3c8f92fe48ac90802c989c74c3a34cfea065861)

commit e7a8752ad427f8f23df25edc6bd2e7ba531ac6c4
Author: Juha Heinanen <jh@tutpro.com>
Date:   Fri May 3 19:53:12 2013 +0300

    modules/rls: added support for escaped chars in rls-services document
    (cherry picked from commit fa9b8664a3b7c7a035c738a37b8ef0ef44190cb8)

commit 19bcbfcacbc442488e93f8c684fd815323d3fcf7
Author: Richard Fuchs <rfuchs@sipwise.com>
Date:   Mon Apr 29 11:26:18 2013 -0400

    db_mysql: add cast to remove compile warning

===================== 2013-04-25 Version 4.0.1 Released =====================

===================== Changes Since Version 4.0.0 ===========================

commit d293977786ae7831f89f7b8a09d22516775778b0
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Apr 25 16:50:15 2013 +0200

    Makefile.defs: version set to 4.0.1

commit 62188fa05724c4eafb4a5f192b070d9ffe22f5ae
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Apr 25 12:10:47 2013 +0200

    pkg/rpm: updated version to 4.0.1 in rpm specs

commit aed7548d393f1562824a851d656d7b2789991cc9
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Apr 25 12:08:49 2013 +0200

    pkg/deb: updated version to 4.0.1 in deb specs

commit 4fdc69e6eb8b03c4a28c2cfea1d0ee37b26207e2
Author: Klaus Darilion <klaus.mailinglists@pernau.at>
Date:   Thu Apr 25 08:12:07 2013 +0000

    sipcapture/siptrace: set default db_url to read-write URL
    (cherry picked from commit 81f622b9ef7d32434659f1e6d9a21c8013cefec7)

commit 2c290ee29696f9c0c44fcaf04b8abd91d10c04a1
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Apr 25 09:55:16 2013 +0200

    modules/*: README regenerated for updates to db_url and wiki

commit 88a0733ed03ecd2f16aa32ba00d146d8b395a8f6
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Apr 24 17:26:15 2013 +0200

    usrloc: update call-id value in db when matching record by ruid
    (cherry picked from commit 0125cdf0e75271a8478a3eadacc54ea1c1eb4da0)

commit d87b33178e432726819e2b4c73a032d67d4a1d82
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Apr 24 15:41:34 2013 +0200

    usrloc: documented db_ops_ruid parameter
    (cherry picked from commit e66842c2fc34d8dc8980efa821f7039685edef87)

commit 102a1108b9e3ed9415e4b25d45542faa2643329d
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Apr 24 15:34:16 2013 +0200

    usrloc: option to do db update/delete ops using ruid
    
    - new parameter db_obs_ruid - if set to 1, db update/delete operations
      are done using ruid value
    - if paramter set to 0 (default) the old style using aor, contact and
      call-id is done
    (cherry picked from commit 61e08282c905c2ee03a2be618b1e700fc0acbdeb)

commit 744a6dc1c93c8b16750f4ab25deb57a02889f1d0
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Apr 24 13:36:08 2013 +0200

    registrar: added debug message to print generated ruid for contact
    
    - formatted condition to fit 80 char long line
    (cherry picked from commit 735f83d6346c97d6f7b1da26a2fee1b6270872b1)

commit 17b858ac9b88de8859f9f1cbc76da146d8f125db
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Apr 24 10:26:49 2013 +0200

    sqlops: use one char buf for empty strings in db results
    
    - safe for the parts of code that want to access it even for write
    (cherry picked from commit a74980270b655124c276279e54b8f82965f3f4b8)

commit 224cc7ee5c9b6349cbd9755341898a94d97fd958
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Apr 23 13:02:49 2013 +0200

    usrloc: re-init sruid struct for each child
    
    - avoid overapping values for xmlrpc handling
    (cherry picked from commit 20646b530baa1a2807e52048a8d99d31d2171bb6)

commit 484444f4f90c725567a759252e2b3c11d53c8756
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Apr 23 11:58:17 2013 +0200

    docbook: uptdated wiki link in entities file
    (cherry picked from commit 2b97e81b281802283ebc665da6f9190f0a9705ab)

commit 137bb73470ba78fc7761f7c786abcb0de5c54cc8
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Apr 21 16:06:56 2013 +0200

    acc: updated link to pseudo-variables cookbook
    (cherry picked from commit f0c467f64c044de0b0f37addccb97d3ccff78706)

commit 20fedafc2d10b8911b03dce9d5100f00ee5e3b9a
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Apr 21 16:07:34 2013 +0200

    pv: updated link to wiki site
    (cherry picked from commit ebeb18ffed8e81ae472b4c07097b58fbea115b5b)

commit 66ebdf5bc5075874b2a791c042b7221e493d72be
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Apr 18 21:22:47 2013 +0200

    xlog: link to wiki updated
    (cherry picked from commit 343379957ab783a32c48822de479a9d8c2dafdf3)

commit 11f031d4570c124fbb01a01b6c7ce0757e032a84
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Apr 14 10:11:29 2013 +0200

    auth: skip processing of PRACK in consume_credentials()
    
    - report and patch suggestions by Jorj Bauer
    (cherry picked from commit 2a77ed2bdc9341ecf7d7200e420a1f49e4e9b6ab)

commit a06c5b31f3a30c405a87bdd7be269152edf14c7b
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Apr 24 22:01:59 2013 +0100

    modules/presence_xml: fixed issue with parsing some pres-rules documents
    
    - pres-rules that contain external links in a <conditions /> node don't
      have to have <identity /> nodes in the <conditions /> node.
    - Kamailio returns an error when it finds a <conditions /> node with
      no <identity /> node inside it.
    - Kamailio doesn't support external links, but it should skip over
      the <conditions /> nodes that contain them rather than return
      an error as later <conditions /> nodes may contain entries it can
      work with.
    (cherry picked from commit ac99219b0a850e0305eaf661b028536cfc28e2cb)

commit a8991ef4b63c575a32807c3aacc7a076ae22d40d
Author: Klaus Darilion <klaus.mailinglists@pernau.at>
Date:   Wed Apr 24 09:09:25 2013 +0000

    core: fix default read-only DB URL
    (cherry picked from commit fdb6c8cbafec7849367f16f5dc56ffa20885bef4)

commit 9d39d8b86576ca9784b96ebb43161c3174754876
Author: Juha Heinanen <jh@tutpro.com>
Date:   Tue Apr 16 14:28:59 2013 +0300

    modules/usrloc: init _ul_sruid also in mi_child_init
    (cherry picked from commit 2190c572cd1bc4b57a3c2dd5241e556b834c728c)

commit a49467e98dc721a1e4dbd9ba547d72aa38018883
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Apr 12 00:50:24 2013 +0200

    core: safety check for content-lenght size in tcp read
    
    - avoid getting negative
    - upon a report by Kevin Wojtysiak
    (cherry picked from commit 3c54420914c011bdd874a97c4c40ee9dacb59788)

commit b2b26c811a7275dbdba90236f3cfc874fd117681
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Apr 9 00:15:47 2013 +0200

    rr: use port.len to check for buffer overflow instead of max port len
    
    - reported by Kevin Wojtysiak
    (cherry picked from commit 28a8b87885e373bee8cc81985277ae718973fdfd)

commit 95903a0f12e10e4852316eb52c8097fb8b30a308
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Apr 9 00:21:44 2013 +0200

    .gitignore: added protoshoot binary the ignore list of git
    (cherry picked from commit a177a33b9938a36cfaedbce61734a1525e5b1665)

commit 31f76fc50ec838b301dede678c97676d63355b4b
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Apr 9 00:18:35 2013 +0200

    parser: safety check for max port length in URI
    
    - can't be longer than 5, a port being 16b value
    - reported by Kevin Wojtysiak
    (cherry picked from commit 13fd48f89555f5421e8285669e303bcefe44f149)

commit 118da22f979dfa8e97a7c029ff34251ba72b6833
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Apr 5 21:30:06 2013 +0200

    rr: added missing s in sips for record route
    
    - reported by Sander van Grieken
    (cherry picked from commit 0ecde91fe6e911997b1f5ee33eb50fa6778b7a89)

commit 1e36ce594fa1c3ae180870025d79987fbfc90878
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Mar 30 20:59:24 2013 +0100

    dialog_ng: set kamailio mod interface always
    
    - it breaks rpc list generation otherwise
    (cherry picked from commit 11bc294a9d64e31014ccb836290467984c28ce65)

commit 1d6e63967ba8eaa5e1cf0d63081ec38439f0bcaa
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Mar 30 09:24:19 2013 +0100

    core: set TOS for tcp IPv6 sockets
    (cherry picked from commit b9476db0c1e1ce869c1da2f87dfaf411edf69277)

commit 77c275383c509d34ba0300182ace889a4f1d7963
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Mar 30 09:15:00 2013 +0100

    core: set TOS for IPv6 sctp sockets
    (cherry picked from commit b57f64533dbc538f3d5282d0196598062f0b4652)

commit 060c8cd03ee745aa48b21d946ebfa9e3671d89c3
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Mar 29 11:02:31 2013 +0100

    usrloc: use NULL domain for updating ul attributes for use_domain=0
    
    - use counter var for db matching keys
    (cherry picked from commit 50b116cf4c9c33c4f23c1d5b66fd313a7f40c572)

commit e83d6d4c34fb04223f5754fff1248286e1345e7d
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Mar 27 20:53:00 2013 +0100

    core: set TOS for IPv6 UDP sockets
    
    - reported by Klaus Feichtinger, FS#179
    (cherry picked from commit 084be456bc0fab015cf9964ac85651fa60ea77c9)

commit 22b614d06590f8c9adcadf9302882fba3e8f1d1b
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Mar 24 12:38:45 2013 +0100

    msrp: fix compile warning of argument type in dbg message
    
    - reported by Olle E. Johansson
    (cherry picked from commit 7339d847adfd098c58426e96e5e3730ad580d543)

commit 5ab5edc4bba76f7a46d243fb7b9ce329b31835b6
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Mar 23 10:44:31 2013 +0100

    rr: use sips to build RR headers of R-URI has sips
    
    - reported by Hugh James, FS#277
    (cherry picked from commit 1826a5f4e3a981e30956da61e11ea551aae0b714)

commit c7ef60e6c960c029b49bca01a89498a5dcdeec19
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Apr 13 11:26:48 2013 +0200

    xcap_server: init etag variable for PUT operations
    
    - the function xcaps_get_db_etag() may not found a record to db and will
      not initialize it, resulting in bogus value passed to
      check_preconditions()
    - reported by Juha Heinanen, FS#283
    (cherry picked from commit 2d27dd1080cd490e93646b38d3912dcbe3761ca5)

commit 5e5ba673fa4d2351047eadeaec655017c962424d
Author: Richard Fuchs <rfuchs@sipwise.com>
Date:   Wed Apr 10 09:34:49 2013 -0400

    db_mysql: fix segfault when recursive queries are made
    
    The MySQL result object (MYSQL_RES) should not be stored within the
    srdb1 connection object, but rather within the srdb1 result object.
    Otherwise recursive queries overwrite each other's result sets, which
    results in segfault.
    
    Conflicts:
    	modules/db_mysql/km_my_con.h

commit 5ba5a0a5bb6fc5080604e1abaef6cd41148911de
Author: Richard Fuchs <rfuchs@sipwise.com>
Date:   Wed Apr 10 09:33:53 2013 -0400

    srdb1: add new db-private generic pointer to struct db1_res

commit 3b9347e41195587c323f5d6d643c1807a9905941
Author: Vicente Hernando <vhernando@systemonenoc.com>
Date:   Wed Apr 10 13:55:57 2013 +0200

    modules/pipelimit: check correctly for all arguments in mi_set_pipe
    (cherry picked from commit d17b02ed5014b4e32bd0060f32cabd750956779c)

commit c907eff8140bd07022aaf028741392322892b2f4
Author: Vicente Hernando <vhernando@systemonenoc.com>
Date:   Tue Apr 9 01:03:49 2013 +0200

    modules/ndb_redis: b/f redisc_exec returns false if redis server is down.

commit 0e7d000a9c73b0fd06132e458f838cc78abddbed
Author: Vicente Hernando <vhernando@systemonenoc.com>
Date:   Mon Apr 8 11:47:51 2013 +0200

    modules/ndb_redis: b/f restore correctly last char in argument strings.

commit 1d009c3dad2352784b48ec821732e4cca1078497
Author: Jon Bonilla <jbonilla@sipwise.com>
Date:   Sat Mar 30 11:45:12 2013 +0100

    Set lucid version to 4.0.0

commit 71dbcc196db780d5d8ca2960130850ace956ceca
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Mar 29 23:35:39 2013 +0000

    modules/outbound: changed some INFO level output to DBG
    (cherry picked from commit ce0c420ba30388256e958a0bdf6d8f37138c3f97)

commit eedf78559a0f289f695cdff40c581ec37c712502
Author: Juha Heinanen <jh@tutpro.com>
Date:   Fri Mar 29 16:30:51 2013 +0200

    modules/registrar: changed instance related INFO to DBG
    (cherry picked from commit 33108f4843fdef6d45773849089446b0c408ecf3)

commit c3f2d14337093843a81353aef34c078dc7e53787
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Mar 29 01:08:02 2013 +0000

    modules/outbound: updated edge proxy example in README
    (cherry picked from commit 60953cd884af7d070ce44844a874f2bd75833998)

commit 291900478f16272222b7c9138685ef871ece0875
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Mar 27 16:51:52 2013 +0000

    modules/outbound: further improvement to the use_outbound() check
    (cherry picked from commit a5f8f4cd4da60168fd73d7999c09181582ec5943)

commit 1a8843319ac00020ed291d2904b202698c3bb1c8
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Mar 27 16:33:17 2013 +0000

    modules/rr: copy the flow-token for "incoming" messages when using outbound
    (cherry picked from commit 0c1725c8ccb08280a9c161e34fa9e43347cae7b0)

commit 9df1edfb18f1ec0846ca474f510532050b55fc80
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Mar 27 16:32:59 2013 +0000

    modules/outbound: improved check for outbound
    (cherry picked from commit b2fb355fe5c9c64727d873cbe8d6fd883ebd2537)

commit 70217018e5a72c80cee37bc5a722b769890fc64c
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Mar 27 15:43:02 2013 +0000

    modules/rr: only use flow-token for routing if it doesn't point to the source of the request
    (cherry picked from commit 874669f483e1efba032bd695eb6cee4275673874)

commit 00c4469624392cb252d65ecf0e53dd64cfb9bb87
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Mar 15 15:04:07 2013 +0000

    modules/outbound: Warn during mod_init() if STUN is not built or enabled
    
    - STUN is required for outbound with UDP.  Don't want to stop Kamailio starting
      when the outbound module is loaded and STUN is not available - but a warning
      seems appropriate.
    (cherry picked from commit 85b26219f9e4c3c8c7c990a4897d40645b4ad6e7)

commit 527db661fa3f3bc3899eaf9c264c9080cc757318
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Mar 15 14:54:41 2013 +0000

    modules/outbound: free shared memory for flow-token key during shutdown
    (cherry picked from commit 9d9d51438acd1d534f14ecbc8eb0030b45333177)

commit ac9f143b3cd2422a3fb2c3ca5e29724ed65ab43d
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Mar 15 14:07:04 2013 +0000

    modules/outbound: Fixed bug in outbound mod_init
    (cherry picked from commit c924645fcfb706fc20ed715a00531d785f99cbde)

commit 6acbeef9ff574c079aaeeea72924905a0426c922
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Mar 15 12:14:31 2013 +0000

    modules/outbound: The flow-token key is now automatically generated
    
    - Uses OpenSSL RAND_bytes() to select 20 cryptographically strong pseudo-random
      bytes for the key.
    - Flow-token key can no longer be manually set.
    (cherry picked from commit f474e85616f6f98a6ac193c7425f6c85af8efa20)

commit 3c6f137ab904166cff791fab98008da2f5ebdc84
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Mar 29 01:15:13 2013 +0000

    Revert "index on 4.0: 9a57697 rtpproxy: fix spelling error in docs, reported from Victor V. Kustov, coyote at bks dot tv (cherry picked from commit a0b01f77de163cf7ea9d71d5293a1bfa20d31fa6)"
    
    This reverts commit 368b07fc76ee2bb0c292b7be4f06c7646036b605.

commit b2a5e9dce705309ec1700ae10aa45663197c81de
Merge: 9a57697 368b07f
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Mar 29 01:11:15 2013 +0000

    WIP on 4.0: 9a57697 rtpproxy: fix spelling error in docs, reported from Victor V. Kustov, coyote at bks dot tv (cherry picked from commit a0b01f77de163cf7ea9d71d5293a1bfa20d31fa6)

commit 368b07fc76ee2bb0c292b7be4f06c7646036b605
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Mar 29 01:11:14 2013 +0000

    index on 4.0: 9a57697 rtpproxy: fix spelling error in docs, reported from Victor V. Kustov, coyote at bks dot tv (cherry picked from commit a0b01f77de163cf7ea9d71d5293a1bfa20d31fa6)

commit 9a57697e07824071cdce1b9ae65338771c7e32a2
Author: Henning Westerholt <hw@kamailio.org>
Date:   Tue Mar 19 15:32:25 2013 +0100

    rtpproxy: fix spelling error in docs, reported from Victor V. Kustov, coyote at bks dot tv
    (cherry picked from commit a0b01f77de163cf7ea9d71d5293a1bfa20d31fa6)

commit a189e7fd3e6e4915c762dd6c429e68f3d9d6b49a
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Mar 18 15:03:24 2013 -0400

    modules/sca: seize appearance for SCA callee answering w/o Call-Info
    
    - Yealink firmware 7.70.0.130 doesn't include a Call-Info header with
      200 OK response to INVITE.

commit 65d3fc0ac958128d99448966951de64a01f72b58
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Mar 18 10:32:45 2013 -0400

    modules/sca: cast logging of time_t to long int to quiet warnings.
    
    - Report from Olle Johansson. Latent Y2K38 problem, but that needs a
      project-wide solution.

commit 6d61484c6302bfd2ad74b3b92621e541405c3240
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Sat Mar 16 16:35:29 2013 -0400

    modules/sca: fix -Waddress warnings caused by static strs in SCA_STR_EMPTY
    
    - Tested on Ubunut 12.04 LTS. Report from Konstantin Mosesov.

commit e446aa58a89c60ef9449fc8f79492232c7ed6f7f
Author: Juha Heinanen <jh@tutpro.com>
Date:   Sat Mar 16 06:33:13 2013 +0200

    modules/registrar: outbound_mode=1 fix
    
    outbound_mode=1 now accepts REGISTER requests that either contain
    or do not contain a Supported: outbound header.
    
    a Supported: outbound header is always added to 200 OK reply and if
    request contained a Supported: outbound header, also a Require: outbound
    header is added.

commit 86f3f2755bcf63a97a8eabb8a72a06614c2dbf5a
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Mar 15 09:03:26 2013 +0100

    ims_icscf: fix include list for BSD
    
    - patch by Victor V. Kustov
    (cherry picked from commit e930f94b71d2e5c40fa44d78738ce5efb747c5b1)


===================== 2013-03-11 Version 4.0.0 Released =====================

===================== Changes Since Version 3.3.0 ===========================

commit 33e0d0ec6a370bfe580dddbb473ff4e0c1b2e746
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Mar 11 16:00:01 2013 +0100

    Makefile.defs: version set to 4.0.0
    
    - new major release

commit 146d08078b64f3a40e01bb8dba4f4de8a50a857b
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Mar 11 15:57:31 2013 +0100

    Makefile.dirs: updated the list with module directories
    (cherry picked from commit c72aabf37beb308f99b46f764ee9c01b0d875da3)

commit bd0099263cf693a2a890450d8696c6d6fd17ae00
Author: Olle E. Johansson <oej@edvina.net>
Date:   Mon Mar 11 11:43:49 2013 +0100

    NEWS Update with reference to Wiki
    (cherry picked from commit 697a272672e434b017cd7e3c6782c5cefa0f2de8)

commit dbfa3769a3d50607126a5ad99b4e730c8be41514
Author: Olle E. Johansson <oej@edvina.net>
Date:   Mon Mar 11 11:36:54 2013 +0100

    INSTALL update for release
    (cherry picked from commit 220b782018c3158a05f695eac5b1bff0f7ad239f)

commit 4f084e251742f64ac423c5d266f0ea0dc1e33926
Author: Olle E. Johansson <oej@edvina.net>
Date:   Mon Mar 11 11:13:36 2013 +0100

    README - last minute release fixes

commit b6040e7c14a9562d58649859a407f9f1f5b3a8cc
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Mar 11 09:38:37 2013 +0100

    tm: set proper buffer len when Max-Forward header is not added
    
    - reported by Juha Heinanen
    (cherry picked from commit 2d38b046b6202a35c0adf4c8b61f0d665432dd4f)

commit 5111813177bce534bbfbc158e3c90cfd381c0b63
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Mar 10 22:46:50 2013 +0100

    pkg: deb specs updated for v4.0.0
    (cherry picked from commit a349d9aab2d95b9b1cbc58870ead9a7294bcdcaa)

commit 080db7fd62fcf3c941fce2e1e0552a6584572c3e
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Mar 10 23:53:26 2013 +0100

    core: try to detect ipv6 addresses only when USE_IPV6 is used
    
    - reported by Juha Heinanen
    (cherry picked from commit b035aa9f2cc19d387b1b8f33a7888ffee27a4138)

commit de672e729c52f27252c78759c9b68b5ca09dfbdc
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Mar 10 22:07:11 2013 +0100

    INSTALL: updates for v4.0.0
    (cherry picked from commit b4ebc4a8164cfee995fb3ed0570702ae0547c0ce)

commit 73106e703c3e2ad031f9c875a52ecf9b99750c39
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Mar 8 23:22:06 2013 +0100

    ChangeLog_k: removed obsolete file
    (cherry picked from commit ff04edd6ee7ddc213b346afffeec04a995bf16fa)

commit 69c3909a8701bf47fc31105e29382ae09d383943
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Mar 8 23:20:06 2013 +0100

    ChangeLog: updated content to prepare for v4.0.0
    (cherry picked from commit 28111e7943f209ed936a6e9f1d5278d6235cedbb)

commit 71101a73000e2e00c9c7ce38d1bcc3efa94e58fc
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Mar 7 02:11:35 2013 +0000

    pkg/kamailio/(centos|fedora): added docbook2X build requirement
    (cherry picked from commit dd2ef87af7dac6fb1411d58a0dd2e6125b99da80)
    
    Conflicts:
    	pkg/kamailio/fedora/17/kamailio.spec

commit 57664f03123de808aa21f0ddc01548db4a069048
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Mar 7 00:10:54 2013 +0000

    pkg/kamailio/(centos|fedora): updated .spec in preparation for release

commit 6d44534858831b00a6036d66c23b11ea2d046f04
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Mar 6 11:08:32 2013 +0000

    pkg/kamailio/(centos|fedora): re-added perl files
    (cherry picked from commit df1af285d60e2d066c2753e8f3815a7dc4f97684)


commit 58d937f34d90a812a44435b46e3185bea8eebb7e
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Mar 5 18:35:08 2013 +0100

    Makefile.groups: fixed typo in the name of perl mods list
    
    - reported by Peter Dunkley
    (cherry picked from commit f4a4ad8effe41a30705a49da3097818c83d3be6e)

commit 7ad1c63c53c0f85c5d06830dc52d8cb96105a003
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Mar 5 17:25:18 2013 +0000

    pkg/kamailio/(centos|fedora): updated .spec to match latest changes

commit 4f905e5998e2517d5382ee05411463af9df028d4
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Mar 5 15:51:56 2013 +0000

    pkg/kamailio/(centos|fedora): updated release tag in .spec

commit 13531b47c66f87ce1a3d21f11b1a32379d264821
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Mar 5 17:11:51 2013 +0100

    Makefile.groups: mi_xmlrpc has a dedicated pkg grpup depending on xmlrpc-c library
    (cherry picked from commit 49251e62da99bf05f257e12306cafec614feb408)

commit 1933eef816241d157fa980709dc2b87dfb1f21d0
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Mar 4 23:41:31 2013 +0100

    Makefile.groups: restored outbound as packaging group
    (cherry picked from commit 6375044137494f1203f26580e16f63c92225c596)

commit 9fd2a4cb210e08f576092a6a049570c1a9d0b27f
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Mar 4 20:06:53 2013 +0100

    Makefile.defs: version set to 4.0.0-rc1

commit 3fd1ec548504b574522cc2b3a2c623366612ffb7
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Mar 4 19:56:54 2013 +0100

    usrloc: added missing state from AoR contact dump
    (cherry picked from commit 068e6e5903801ca7cb7d1ca304d35bca70a34b58)

commit 5591cce6007b6d770fbf7e10309caa3593798684
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Mar 4 16:30:34 2013 +0100

    dispatcher: release lock instead of destroy when cleaning active calls hash table
    
    - this could happen when dispatcher list was reloaded
    - reported and fix by Dmitry, closes FS#275
    (cherry picked from commit d83b9aefd5afa25b2d18a8bf92357fbd33d627bf)

commit c390d7ed3bf1072ddfa8c1b3ac240359ea0a466e
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Mar 4 16:19:20 2013 +0100

    Makefile.groups: refer to pkg groups instead of K
    (cherry picked from commit 3cf821d9983418d68ca33edc35ff5eb2e592d16f)

commit d8606ec25cc4083a9c425639f14f0bbe26768f7a
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Mar 4 16:14:42 2013 +0100

    db_postgres: handle prepare statements in DB APIv2
    
    - patch by  Markus Bucher, closes FS#272
    (cherry picked from commit 09c7b67beee9529d6a7c06e600c7f294bf453eda)

commit 31219de430f48fc15bbf58cde5d6073cd5625ef5
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Mar 4 16:09:36 2013 +0100

    Makefile: updated the groups of modules
    
    - they are kept in Makefile.groups to keep main Makefile cleaner
    - most of modules are in lists groupped mostly by dependency
    - compilation and packaging groups are build using the lists
    - exclude_modules list is automatically built from all modules without
      those part of lists with external dependencies
    (cherry picked from commit b5024f320b578c831d3ee13b077bb87954bc61b0)

commit dc15e648b398ef7d8052181b822c9756bed95013
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Mar 4 10:46:01 2013 +0100

    Makefile.defs: -DWITH_AS_SUPPORT is on by default
    
    - it was for kamailio flavour only
    - can be disabled with WITHAS=0 and exclude_modules+=seas
    (cherry picked from commit 01cbe8bf98d6ad1ef8cf7e0b9f646fde81831fc6)

commit c40939ad2aae3dfb7d33ed8016223da9038f1ca7
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Mar 3 23:53:14 2013 +0100

    Makefile: split module groups definitions in Makefile.groups
    
    - the part was quite big and it is more config related than build rules
    - it has to be updated with the current list of modules
    (cherry picked from commit 23a22e2c8d73843798d66ec1bebe22cf7702213b)

commit 0d6e0778ef4d86ebd06671333f86f45fc2ec375d
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Mar 1 18:12:23 2013 +0100

    rtpproxy: proper fixup function for rtpproxy_manage(...)
    
    - second parameter was resolved as spve type, although fixed as str
    - reported by  Markus Bucher, FS#273
    (cherry picked from commit b23510e0adb6060a257c8662700450ed7faef080)

commit e239cb78c6a16e94c8ef42530a89f1a734e89afa
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Feb 27 09:24:52 2013 +0100

    Makefile.defs: version set to 4.0.0-rc0
    
    - branch for release series 4.0.x has been created

commit 9365c5c19cb0b9d4300fa5b0a220bf19738c808f
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Feb 25 11:19:15 2013 +0100

    core: parser - function to proper handling multipart bodies with same content type
    
    - closes FS#170, based on a patch by Luis Martin

commit 45b2ea3018cc84f8bcf9e687dcc0a03e81597711
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Feb 24 20:04:51 2013 +0100

    siputils: completed the function to return RURI parameter value
    
    - closes FS#238, based on a patch by Luis Martin

commit 39bffdd7db9c3118045eae9640659997bac4bf4e
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Feb 24 22:17:25 2013 +0100

    snmpstats add support for ws, wss and sctp transports

commit 4547a28b077b5bdaf9128e98fd4e1ee9a8c11847
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Feb 24 17:53:27 2013 +0100

    snmpstats Add missing SIP response codes
    
    And switch from Wikipedia to the IANA list as a master list.

commit 7952711e6079e02a07ad027c6d8840e755c6e528
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Feb 24 10:25:38 2013 +0100

    snmpstats fix typo

commit 402e44861c489d4246a0fe1f57bc2cc5fe7a70c9
Author: Marius Zbihlei <mzbihlei@mzbihlei-macbookpro.local>
Date:   Sat Feb 23 14:58:07 2013 +0000

    Added own _strnstr method as strnstr is BSD only
    
    This cause the tm module to not be loaded on non-BSD (i.e. Linux) system
    Problem reported by Joel Vandal.

commit 09dcd2353773b011bcce9f24886ab35a47409ff1
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Feb 22 14:45:58 2013 -0500

    sca: return true if no Contact header is found in an INVITE packet
    
    - stop spurious log messages when receiving a 100 Trying with no Contact.

commit 8fbcb1d1003b3ff3c28cf18aa6791f191a831cea
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Feb 21 22:56:37 2013 -0500

    sca: log at debug level when reporting lack of Contact header

commit 9cb26a2eefe93e0ca162db917e34e784e703770a
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Feb 21 22:32:23 2013 -0500

    sca: ensure SCA caller has correct callee CLI when callee is non-SCA.
    
    - previously only set when callee was also SCA

commit 86771e45a92f6262a9fee1bd698c8e9dbe3b0b70
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Feb 21 18:55:02 2013 -0500

    sca: remove misleading comment.
    
    - suggestion in comment has long since been implemented

commit 3c5b0019bbe1589410d8744545b64a278a222761
Author: Konstantin Mosesov <ez@voipgroup.org.ua>
Date:   Fri Feb 22 00:51:33 2013 +0200

    app_python: Bugfix for rewrite_ruri
    
    *) Fixed a bug in msg_rewrite_ruri discovered by "V Tone" <vtone001@gmail.com>.
    *) Removed 'python exception' when do_action returns error. Reason: it is not an exception.
    *) Removed abort() if first_line type is invalid.

commit 3bae735a5e38414bd53738928ba531a329290777
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Feb 21 17:00:31 2013 -0500

    sca: prevent possible NULL-dereference in log message when NOTIFY fails.
    
    - sub struct may be NULL outside of else block. Use non-shmem req_sub from
      incoming SUBSCRIBE packet instead.

commit 0fd954bc6a8f94ac5e8087f6b8abdba372505c6e
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Feb 21 11:34:25 2013 +0100

    kamailio.cfg: fixed typos to speeddial
    
    - patch by Thilo Bangert, FS#268

commit 77f99fc7c0252c5fa71ad5939f048742592f1d43
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Feb 21 11:25:39 2013 +0100

    tm: add Max-Forwards header to local requests if not given as parameter
    
    - add the header to local generated CANCEL and ACK
    - based on a patch by Morten Tryfoss

commit 9e6f0268097d81c0e06c7fe33599d0763ed38179
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Feb 21 10:40:07 2013 +0100

    core: dns - prevent queries for IPv4/6 address literals
    
    - prevent A queries for IPv6 address literals or AAAA queries for IPv4
      address literals
    - patch by Simon Perreault

commit 4439b188634deeb3c0745a7a9664de8745d9272e
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Feb 20 11:29:06 2013 +0100

    Makefile.defs: version set to 4.0.0-pre2

commit 164b8167855415771a82715ef59a300af8c2bafa
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Feb 20 09:59:56 2013 +0000

    modules/outbound: Fix core dump crash
    
    - Reported by oej

commit 8d10bcd44834fd6f2a0c41238fd2dc197143c06e
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Feb 20 09:49:44 2013 +0000

    modules/outbound: Fixes the crash but is logically incorrect for outbound
    
    - Not sure why the crash happened at all - but this fix breaks the outbound logic
    
    Revert "outbound Fix core dump crash"
    
    This reverts commit 6369444761d44526ded2620e33438abb182d2bdc.

commit 6369444761d44526ded2620e33438abb182d2bdc
Author: Olle E. Johansson <oej@edvina.net>
Date:   Tue Feb 19 23:08:13 2013 +0100

    outbound Fix core dump crash
    
    When we got a CANCEL without Contact the parse_contact was sent a null
    pointer. Changing the "or" to "and" fixed this and Kamailio no longer cores
    on Cancel coming on over websockets from jssip.
    
    Tested at SIPit 30. Core dumps and backtraces available.
    Pdunkley - please check this patch

commit 8524f32bc07bd121326369f432eb29a257856f41
Author: Olle E. Johansson <oej@edvina.net>
Date:   Mon Feb 18 22:36:45 2013 +0100

    maxfwd The default value is not 256, it's 16 in the source code.

commit 3f05697f6503f682274fce7bd93eeeaaa9b58188
Author: Richard Good <richard.good@smilecoms.com>
Date:   Mon Feb 18 09:48:22 2013 +0200

    dialog_ng: changed LM_ERR to LM_DBG in dlg_hash.c
    
     - dlg_set_leg_info() line 416 was incorrectly logged as ERR when it should be only DBG

commit 2e58de7e16203c849cf1c445dfb33d304ffd3507
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Fri Feb 15 21:13:29 2013 -0500

    rtpproxy: when adding ICE relay candidates, always include RTCP candidate

commit 05d02fd85b12f8e529f088e28cd1923351631e31
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Fri Feb 15 20:12:56 2013 -0500

    sdp: fix TABS and whitespaces

commit b6e2a5c152de3f13251bca6a4f52f8bc9f725018
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Fri Feb 15 12:08:20 2013 -0500

    xhttp_rpc: cosmetic updates to header's web page

commit c3db1a1b598416d1380d54e1a21e9991070a075b
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Fri Feb 15 11:27:15 2013 -0500

    xhttp_pi: fix default value for xhttp_pi_root param

commit 8066d290b69a472fc46df248ae861487c932f738
Author: Ovidiu Sas <osas@ubuntu.(none)>
Date:   Tue Feb 12 15:13:05 2013 -0500

    xhttp_pi: remove unused variable

commit 36d0763385605c8174a538297dd8dfa94092e9c5
Author: Ovidiu Sas <osas@ubuntu.(none)>
Date:   Tue Feb 12 14:38:53 2013 -0500

    xhttp_pi: remove unused variable

commit 0a56f3b4c08236265dc66965e61d1a36a7594b36
Author: Alexandr Dubovikov <alexandr.dubovikov@gmail.com>
Date:   Tue Feb 12 10:44:46 2013 +0100

    modules:sipcapture fixed LM_ERR. Sorry :-(

commit 1690eafbb599842f0507ad41c1590fcbba8c7630
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Feb 11 23:40:53 2013 +0100

    msrp: return proper value for $msrp(code)
    
    - internally there is an offset of 10000 to the value in the msrp reply
    - reported by Peter Dunkley

commit ae0183fe5af84ce986baa36b0e6a33f4e06f6803
Author: Konstantin Mosesov <ez@voipgroup.org.ua>
Date:   Sat Feb 9 16:39:49 2013 +0200

    app_python: fixed compilation errors and warnings.

commit f38eaeda810730a10a0b67ee42ae629642cdebc2
Author: Olle E. Johansson <oej@edvina.net>
Date:   Fri Feb 8 22:13:17 2013 +0100

    imc README updates. Configuration files works with 4.0.0 now.

commit a0c0b57d0bcede9144b8ddf71556f4bdb58baebd
Author: Olle E. Johansson <oej@edvina.net>
Date:   Fri Feb 8 21:58:50 2013 +0100

    db_text change "openser" and minor edits

commit d4f64eb262f73e316772955afc4153b84ba74954
Author: Olle E. Johansson <oej@edvina.net>
Date:   Fri Feb 8 21:41:11 2013 +0100

    maxfwd Update README, fix typos

commit 88b25387f5ddd83a6cb211a4e650191d268fd893
Author: Olle E. Johansson <oej@edvina.net>
Date:   Fri Feb 8 21:33:37 2013 +0100

    mangler Update README for readability

commit 022935946d2b66ab74d2fb3c4601b340cd57fe34
Author: Olle E. Johansson <oej@edvina.net>
Date:   Fri Feb 8 21:32:39 2013 +0100

    ldap Add the README

commit 28ee292ca10a8fc8428ac8cff763dbf57ed19db3
Author: Olle E. Johansson <oej@edvina.net>
Date:   Fri Feb 8 21:21:02 2013 +0100

    ldap Convert an "a" to an "o"

commit 3ce0e28280d4b7a5f4b991af861455114b829976
Author: Olle E. Johansson <oej@edvina.net>
Date:   Fri Feb 8 21:12:52 2013 +0100

    kex Fix copy/paste typos and minor edits for readability

commit a9ca3f4a05d0655b11ba90bc64d68b53c4ba039c
Author: Olle E. Johansson <oej@edvina.net>
Date:   Fri Feb 8 21:03:07 2013 +0100

    ipops Minor updates to README

commit 63653d7d18a7124ff3a33991f3db4cd8271a9e24
Author: Olle E. Johansson <oej@edvina.net>
Date:   Fri Feb 8 20:56:06 2013 +0100

    mi_fifo Typo fixes mostly

commit beb5537e70bc36f459223633109d31306ae600f8
Merge: e4ffcaf 80e8407
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Feb 7 22:05:42 2013 +0100

    Merge branch 'master' of ssh://git.sip-router.org/sip-router
    
    Arrrggh. My mistake.
    * 'master' of ssh://git.sip-router.org/sip-router:
      registrar: Fixed typo in event_route name, 'usrloc:expired-contact'

commit e4ffcaf671c93222a5aed846cf89fefaf72b2b4a
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Feb 7 22:05:05 2013 +0100

    outbound - Fix typos in example configuration

commit 80e8407dedb06d386167924a40fbf47119708336
Author: Giacomo Vacca <giacomo.vacca@truphone.com>
Date:   Tue Feb 5 17:16:18 2013 +0000

    registrar: Fixed typo in event_route name, 'usrloc:expired-contact'
    
    - (Instead of changing all the related documentation that refers to usrloc:contact-expired)

commit 1c643eb26a25880669a719a29c1c8e984e32983d
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Feb 7 11:04:00 2013 +0100

    siptrace Fix bug in documentation
    
    The default database URL was mysql, not "", which caused me some strange issues.

commit fcbf4a0329adab01b079d72408582c2b5d4390e6
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Feb 7 10:39:17 2013 +0100

    sipcapture - update example configuration

commit 7f5b6c26d4bf1f50b1890d177121f4c4fd65428c
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Wed Feb 6 23:39:27 2013 -0500

    xhttp_pi: documentation updates

commit 0c970537a2d2aa66d24650e07efb587acd9edfc0
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Wed Feb 6 23:37:53 2013 -0500

    xhttp_rpc: documentation updates

commit ce5aa2416d93d3626db8d69651530edf4575a569
Author: Richard Fuchs <rfuchs@sipwise.com>
Date:   Wed Feb 6 18:05:05 2013 -0500

    Revert "nathelper: add new option sipping_disable_bflag"
    
    This reverts commit dc9a06f7b33a758cb3a44fbc1d018e1a81a794a5.

commit 23b84739a72c5cca1fd397fbe1a7468a621cc2e6
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Feb 6 23:08:02 2013 +0100

    msilo: safety check for freeing tmp_extra_headers
    
    - it can be a static empty buffer
    - reported by Stoyan Mihaylov

commit 1d6b2ce07c6b661ed3e3a1c31b8ec408d68ed4e9
Author: Olle E. Johansson <oej@edvina.net>
Date:   Wed Feb 6 20:42:50 2013 +0100

    xhttp_rpc Fix typo and minor formatting in README

commit dc9a06f7b33a758cb3a44fbc1d018e1a81a794a5
Author: Richard Fuchs <rfuchs@sipwise.com>
Date:   Wed Feb 6 11:38:57 2013 -0500

    nathelper: add new option sipping_disable_bflag
    
    sipping_disable_bflag can be set on a per-registration basis
    to disable NAT pings completely

commit da298e85166b873f4825e4baa96db0d317771e20
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Feb 6 12:55:55 2013 +0000

    modules/msrp: Fixed typos in MSRP README and added extra event_route example

commit f56e82a286e00a17dbf02e9a5056ef73488b89b1
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Feb 6 12:36:52 2013 +0000

    modules/msrp: Fixed error in msrp_cmap_lookup()

commit 1e16eb9c892358a972ae71f05ec138fbe0d23126
Author: Juha Heinanen <jh@tutpro.com>
Date:   Wed Feb 6 11:21:11 2013 +0200

    modules/lcr: treat lcr_gw/ip_addr empty string value same as null value

commit 62cd05a469f657b5371ecd1538f9c9b224f7e589
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Tue Feb 5 10:06:47 2013 -0500

    xhttp_pi: documentation updates

commit af7d4496febf95e56b604849a8f818e688b21f53
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Mon Feb 4 10:59:10 2013 -0500

    lib/srdb1: while converting strings to int/bigint check for invalid characters

commit 47276cf597ab941016fd49dbcfaaab3da8802834
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sun Feb 3 23:36:26 2013 -0500

    ims_icscf: getting rid of "defined but not used" compiler warning

commit d474abbb3d93c992ccff561909402ca1b52297bd
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sun Feb 3 10:50:47 2013 -0500

    ims_usrloc_pcscf: remove unused variables

commit 7d6d016c7556a3241d47801b0480c022ca2dd3c8
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sun Feb 3 10:31:55 2013 -0500

    ims_usrloc_scscf: remove unused variables

commit 622b01719bb8a95c5995c8412cd040787f0cd0a6
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Fri Feb 1 19:45:28 2013 -0500

    xhttp_pi: new commands in the pi_framework_sample:
     - add
     - update
     - delete

commit 60e60e26cebeea2d8e07ec4ffd036ab1f35e2f12
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Feb 1 11:45:32 2013 -0500

    sca: restore correct table version number in db creation files.
    
    - Had been reverted by commit f636e215089a9b14daa113d93025831e827192b5
      because the schema xml file had the wrong version number.

commit 36c7b450889a8005af3f14b0edb55f4ede6f98a1
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Feb 1 10:14:26 2013 +0000

    modules/websocket: moved example WebSocket configuration file to examples directory

commit cdd23170e8fd6da4817619ee82ded0fa27936081
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Wed Jan 30 15:17:28 2013 -0500

    sca: db table version incremented to 1
    
    - should have been part of commit adding record_route to table.

commit 2eeb686ea57ce569d3c5eb05430c78d0fdbdd4eb
Author: Olle E. Johansson <oej@edvina.net>
Date:   Wed Jan 30 13:26:35 2013 +0100

    tls Small modificiation in tls configuration example

commit 147430e2f5849996fcfff4933795ef212fdfb83a
Author: Carsten Bock <carsten@ng-voice.com>
Date:   Wed Jan 30 12:17:50 2013 +0100

    Fix: We trust the IP in the media for calls from the network to the user
    Fix: Rx-Configuration updates

commit 50a041f5c04ef79d8812d5871903931b120c0812
Author: Carsten Bock <carsten@ng-voice.com>
Date:   Wed Jan 30 11:55:42 2013 +0100

    Fix linking for the IMS-QOS module

commit 6729c79d7fe3778a889ef7e6777c0bbe2e011528
Author: Carsten Bock <carsten@ng-voice.com>
Date:   Tue Jan 15 11:17:45 2013 +0100

    Cleanup of example I-CSCF config.

commit ef63f7cd1a6966e3309d8f83e88a7e62b41bd4ed
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Jan 28 16:54:44 2013 +0100

    kamailio.cfg: use route(RELAY) instead of t_relay()
    
    - coherent exit from config when sending out

commit a21750ff6fcf87d8e3f54597bdd3f1171846e6cb
Author: Alex Hermann <alex@speakup.nl>
Date:   Mon Jan 28 13:08:02 2013 +0100

    modules/sqlops: Check if pv_spec is available before trying to use it.
    
    Instead of segfaulting when the script writer has not specified enough PV
    specs to hold all the query's result columns, bail out with an error message.

commit ebe16f75b38c76dab141ca9583b10b67e4f45f57
Author: Alex Hermann <alex@speakup.nl>
Date:   Mon Jan 28 13:06:08 2013 +0100

    lib/srdb1: Fix compilation warning on 32-bit architectures
    
    On "bits-challenged" architectures, long != 64 bits.
    Use long long instead, seems to work on 64-bit archs too.

commit a0968999375227bf187bca374e544e359a9c4c5f
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Jan 27 19:55:49 2013 +0100

    tls README: Change "ser" and "sip-router" to "kamailio"

commit e59acd4d006e5048610e75f2cfc2df30b2f7c968
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Jan 27 14:33:13 2013 +0100

    tls Update README with RPC commands
    
    The selects are still missing.

commit 6b212dc881dae76ab872c79e39f96b21ee4e6687
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sat Jan 26 21:10:03 2013 +0100

    tls Update of README

commit 78f0c33c3793a7c586860c65ed84e8442808d580
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sat Jan 26 17:56:51 2013 +0100

    dispatcher - Fix typo in README and add return value information for ds_select_dst
    
    The return value was used in the example, but not documented.

commit bc507d28e1168313772142925721b32e1a7b634a
Author: Philippe Sultan <philippe.sultan@gmail.com>
Date:   Fri Jan 25 20:59:23 2013 +0100

    kamctl: added command for management of uid_domain records

commit 9cb173699b25bc420ff5938214b3df81ed18a4ba
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Jan 25 17:30:42 2013 +0100

    core: made a wrapper forward_reply_nocb()
    
    - it forwards a reply without calling the callbacks from modules for sip
      response handling
    - fixes the issue of sl_forward_reply() looping when used in TM onreply
      routes

commit 0636b8a70109ee44b46ec0cc76d4513c87c18e3f
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Jan 25 17:29:46 2013 +0100

    sl: use forward_reply_nocb() for sl_forward_reply()
    
    - otherwise it gets to looping if the function is used from TM onreply
      routes

commit d2d6b4b932c7df6e6620a256692be5ef049356a3
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Jan 25 11:38:38 2013 +0100

    core: end simple pv name (e.g., $xy) at end of line
    
    - cfg parser was throwing error if last token in a line was $xy as pv
      with \n was not found

commit c3987b2ef44c26b781d9b026d86370184e2a4ae3
Author: Anca Vamanu <anca.vamanu@1and1.ro>
Date:   Thu Jan 24 13:45:18 2013 +0200

    db_cassandra: Replaced 'openser' with 'kamailio'

commit 139ae7966a0ff8e5e46a902d9e14dc8840934bd0
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Jan 24 11:45:31 2013 +0100

    core: default compatibility set to SR_COMPAT_MAX
    
    - means that $xy is tried first as pv and if not, then is considered avp
      (was default compat mode for default flavour in the past)
    - you can still use:
        - #!KAMAILIO in config to force SR_COMPAT_KAMAILIO (i.e., $xy must
    	  be a pv, otherwise is error)
        - #!SER is config to force SR_COMPAT_SER (i.e., $xy is avp/attr)

commit 216029a609630a7d18ce3b77d3d9ae95f45d662c
Merge: 2d129b5 f1b5145
Author: Matthew Williams <mgwilliams@gmail.com>
Date:   Wed Jan 23 11:27:54 2013 -0800

    Merge branch 'master' of ssh://git.sip-router.org/sip-router

commit 2d129b5538b64acea788b502dcf97c5ffffdf949
Author: Matthew Williams <mgwilliams@gmail.com>
Date:   Wed Jan 23 10:49:52 2013 -0800

    correct url to libjson in json and jsonrpc-c module docs

commit f1b514596856889fa2a8e4b164178998177d7b59
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Jan 23 13:42:52 2013 +0000

    pkg/kamailio/(centos|fedora): Removed old FC16 build
    
    - Fedora 18 is now out and I only plan to keep this .spec correct
      for CentOS and Fedora working for current and previous OS releases.

commit cb56b67788fc61f8de65d0335c6364c7aba15759
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Jan 23 12:55:51 2013 +0100

    lib/srdb1: update custom sql functions for uid tables

commit 9a1d64bddbf3ec931d39a0e47370e8d46ec2aeb9
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Jan 23 12:49:16 2013 +0100

    kamctl: added option to grant sql access from a remote host
    
    - set DBACCESSHOST in kamctlrc

commit 1fd2b4ec865cbe738d92e72259fed27380d252ab
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Jan 23 00:45:17 2013 +0100

    kamctl: added option to creat uid-related tables
    
    - few more options to be able to create database only, grant or revoke
      privileges from command line
    - the extensions were added for mysql

commit 71d1f9b233559e12970019819323cdfb9427b836
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Jan 22 23:09:47 2013 +0100

    kamctl: cleaned db creation

commit 15e1ae6720136a698326a0b53f6db8eef73e3e5a
Author: Richard Brady <rnbrady@gmail.com>
Date:   Tue Jan 22 17:19:31 2013 +0100

    json: proper handling of empty values for json documents

commit 3e580e1ee24f9b9ec4b1fa151b23ebc84f3db1cb
Author: Alexandr Dubovikov <alexandr.dubovikov@gmail.com>
Date:   Tue Jan 22 15:45:38 2013 +0100

    modules:sipcapture  Added PSQL schema, fixed columns length, fixed id column for PostgreSQL
    
    	Thanks Ovind Kolbu for schema and patch

commit f76bd09d4800ea63552c11002d7f6f72569e78ed
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Jan 22 13:40:11 2013 +0100

    pua_reginfo: fix setting lengths of contact attributes
    
    - fix also for warning from FS#255 reported by Ovidiu Sas

commit ff22a1cbc2b817d63611b3da967d8245e11cb84c
Author: Richard Brady <rnbrady@gmail.com>
Date:   Tue Jan 22 12:19:53 2013 +0100

    siputils: fix decode2format fuction to handle ; in userpart

commit 58417e5f23c50a1892584d368e49373c579af31e
Author: Alexandr Dubovikov <alexandr.dubovikov@gmail.com>
Date:   Tue Jan 22 11:41:43 2013 +0100

    modules:sipcapture Changed authorization column to "auth". Now PostgreSQL should be happy.
    
    for old schema please use:
    
    modparam("sipcapture", "authorization_column", "authorization")

commit c579bce3e6fa4efc29cf4fd8681f471a768a8e7c
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Mon Jan 21 15:10:39 2013 -0500

    kamdbctl: fix presence tables provisioning

commit da007aaf6a2296c62189d30c6991e5cdb9f8a4ec
Author: Konstantin Mosesov <ez@voipgroup.org.ua>
Date:   Mon Jan 21 19:40:19 2013 +0200

    app_python: reverted changes (dlflags)

commit 36013e021dde6362bb335bbcadd41b6838151a45
Merge: f50e910 288c597
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Jan 20 20:13:40 2013 +0000

    Merge branch 'master' of ssh://git.sip-router.org/sip-router

commit f50e910b9710fd1055aae7e445a0504b841413a3
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Jan 20 20:04:45 2013 +0000

    pkg/kamailio/fedora: added build files for Fedora 18

commit 288c597bfba2ffba4c49e691488cee574d714a97
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Jan 20 16:58:59 2013 +0100

    README remove "modules_k"

commit 41fab9cb21af174734ef820da4bbf6d19d34d56a
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Jan 20 16:55:23 2013 +0100

    README-MODULES - merge listing of modules into one combined
    
    Thanks to Daniel for merging the directories.

commit 4cc713182c4f5b53a00a8d2d6d3a21afca589b77
Author: Konstantin Mosesov <ez@voipgroup.org.ua>
Date:   Sun Jan 20 17:38:06 2013 +0200

    app_python:
        - fixed runtime warning: exports dlflags interface is deprecated and it will not be supported in newer versions; consider using mod_register() instead
        - python routines can be called in any routes.

commit 1d29c95e982244a5140f93c8ae886c8d457d8e24
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Jan 20 15:07:59 2013 +0000

    pkg/kamailio/(centos|fedora): updated kamailio.spec

commit d934a2acd31408ae6afdf31007f2ebe4527d1f3d
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Jan 20 14:23:17 2013 +0000

    modules/db_postgres: Fixes
    
    - Fixed submit_query() retry mechanism - connection errors now detected and retried.
    - Fixed memory leak when raw queries contain > 1 SQL command.
    - Fixes by Hugh Waite @ Crocodile RCS

commit c059041a71a1b7175243c366316108ce370fffa7
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Jan 20 14:18:55 2013 +0000

    core: fixed bug in PV caching that broke the use of the $$ symbol
    
    - Found and fixed by Hugh Waite @ Crocodile RCS

commit 9a3b3229e0b0f39489feca8da3c0a7aeeaae600e
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Jan 20 14:28:57 2013 +0100

    Makefile.defs: version set to 4.0.0-pre1

commit fedd38e03f6fcc4851d738cf2bd274b5290ae1ae
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Jan 20 14:19:11 2013 +0100

    Makefile: updated the names for perl modules

commit e5e821150f53135e8c288f71ddd95c6c23e8d8d9
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Jan 20 14:18:02 2013 +0100

    perlvdb: module renamed to db_perlvdb
    
    - it is a database driver module

commit 63a09d8562a1ac3679dc34c409a37f1d6617e430
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Jan 20 13:26:01 2013 +0100

    modules/*: updated include paths

commit 1abe29004193a348a1dcca72665fef1d390610b0
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Jan 20 12:57:52 2013 +0100

    modules_k/*: moved k modules in directory modules/

commit dbe58f4cff868f069bc417b3002c7ac75ce484a1
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Jan 20 12:51:29 2013 +0100

    modules_k/: added placeholder for an empty directory

commit ba3fa594f3ade8f8afd69606f92d1e4fa4685ede
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Jan 20 12:47:08 2013 +0100

    app_perl: perl module moved and renamed to modules/app_perl
    
    - same naming pattern as for the other embedded interpreters

commit 0533e3f86bb605d4ce68ae60b80013dcf8540903
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Jan 20 12:14:41 2013 +0100

    perl: samples and documentation updated to use package Kamailio

commit e3f78196b345ab22eaba8f4ade7492e660782485
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Jan 20 11:59:00 2013 +0100

    perl: xs file updated to use Kamailio instead of OpenSER

commit 1be653e243b02094a93ef20509fc98326f160284
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Jan 20 11:53:36 2013 +0100

    perl: Perl packages renamed from OpenSER::* to Kamailio::*
    
    - part of patch from Stoyan Mihaylov

commit f448282ec6775857f4bef733f4785dd571bfe081
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Jan 20 11:47:48 2013 +0100

    perl: renaming openser to kamailio in C source files

commit 9d5cc7085e916bf348ba52828d5c9519652c61ae
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Jan 20 11:34:20 2013 +0100

    perl: renamed files and directory from openser to kamailio
    
    - part of patch from Stoyan Mihaylov

commit 4e939748186c6dcff6744d36439b9620fe41a196
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sat Jan 19 22:33:18 2013 +0100

    iptrtpproxy Documentation cleanup
    
    And a missing file from sanity module

commit 80dc9107c5cd47cab24786a12d2612c25f714ff3
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sat Jan 19 20:07:08 2013 +0100

    sanity Sanitize XML file names and formats

commit 396de50105c29c102da1afb9fabe8ea1324a7282
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sat Jan 19 19:57:50 2013 +0100

    xmlops Updating xml formats

commit 67a0aafe4933d6ccbc04e6a86a21c34f62bae7fb
Author: Richard Fuchs <rfuchs@sipwise.com>
Date:   Fri Jan 18 10:21:50 2013 -0500

    tmrec: fix example given in docs

commit 3cec800fb8e48b6f2dbc880c5a991e9d636c9f5c
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Fri Jan 18 14:33:53 2013 +0200

    modules_k/statistics: fixed bug when using pvar as stat value (fixup function was broken)

commit a865b622be84ddc1dacff35401adbb6937ec86b3
Author: Olle E. Johansson <oej@edvina.net>
Date:   Fri Jan 18 13:32:55 2013 +0100

    README - converted to Kamailio

commit 5b6231d2d85f2a5a07b09e7e534f25e16f5e43b2
Author: Olle E. Johansson <oej@edvina.net>
Date:   Fri Jan 18 09:41:42 2013 +0100

    Update to current module set for 4.0

commit ebde66ba5f97ff5587e36b8e952b19a1becd08ab
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Thu Jan 17 19:19:37 2013 -0500

    carrierroute: fix cross-compilation

commit 83eafc8d8f767f4705d5f76ad0ffd4349a06c927
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Jan 16 22:37:08 2013 +0100

    dialog: fix for is_in_profile()
    
    - function was broken, reported by Klaus Darilion

commit ac2a3acddef3d5dd3a8033859f8a245624944d8e
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Jan 16 22:28:30 2013 +0100

    Revert "First commit (raw code) of new module: app_java (Java Native Interface support for Kamailio)."
    
    This reverts commit 3cc85a3915ed69471966cf741d7cf2adee4f3b0b.
    
    - code in master is frozen for v4.0.0

commit ebaab480a74fdde6036b471ec1175c4ad294c758
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Jan 16 22:27:34 2013 +0100

    Revert "app_java:"
    
    This reverts commit db74e5230a26fdfebbf88f9575ea8a7636719743.
    
    - code is master is fronzen for v4.0.0

commit db74e5230a26fdfebbf88f9575ea8a7636719743
Author: Konstantin Mosesov <ez@voipgroup.org.ua>
Date:   Wed Jan 16 21:08:42 2013 +0200

    app_java:
        - code cleanup
        - changed all *alloc to pkg_*alloc
        - added examples module configuration file

commit 3cc85a3915ed69471966cf741d7cf2adee4f3b0b
Author: Konstantin Mosesov <ez@voipgroup.org.ua>
Date:   Wed Jan 16 20:43:29 2013 +0200

    First commit (raw code) of new module: app_java (Java Native Interface support for Kamailio).

commit 588a1a4280840e40beaae77345533b40ef1c710d
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Wed Jan 16 11:38:18 2013 -0500

    xhttp_pi: adding note about using the provisioning interface with db_text

commit c065b24620a9475a70a19de95231a814076eefae
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Wed Jan 16 10:48:25 2013 -0500

    xhttp_pi: more documentation updates

commit 0f59c52cb1d21d07654f815af3636330dc02e164
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Wed Jan 16 10:37:30 2013 -0500

    xhttp_pi: documentation updates
     - reported by Philippe Sultan <philippe.sultan@gmail.com>

commit 32e73f99a3bab4bc673504d316831f0a8ff1f48c
Author: Olle E. Johansson <oej@edvina.net>
Date:   Tue Jan 15 09:46:22 2013 +0100

    Starting to prepare README/INSTALL files for release

commit 241681f6a2bc9d9647251963eee5f65386717edb
Author: Carsten Bock <carsten@ng-voice.com>
Date:   Tue Jan 15 09:03:25 2013 +0100

    b/f: If no parameter is given, the "fixup_lir" method will never get called...

commit 7f7e0d046cbaf59170605c21070eb476a28fbc18
Author: Carsten Bock <carsten@ng-voice.com>
Date:   Tue Jan 15 08:18:52 2013 +0100

    b/f: Need to link librt (on OS non-Darwin)

commit 04b1b6c94a69da8b4bf5134d890edfaf0c0ad153
Author: Carsten Bock <carsten@ng-voice.com>
Date:   Mon Jan 14 19:28:27 2013 +0100

    b/f: Modify IMS-Group Modulenames to reflect module-name changes.

commit b87c9b03499e58d481cf6fe02302a378051272a0
Author: Carsten Bock <carsten@ng-voice.com>
Date:   Mon Jan 14 17:46:08 2013 +0100

    b/f: Do not remove lib*, only "real" libs

commit b926764c5cfb6737407b2090a6c5659b46373237
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Jan 12 13:10:18 2013 +0100

    registrar: fix event route execution warning

commit a797eab732be6b17e3727ee604d21fcaddd5b35e
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sat Jan 12 08:45:11 2013 +0100

    xmlrpc Modify doc structure to kamailio-like

commit 9bfc37fcc95da2d0b970efb6a3333e6d8e5f5bde
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sat Jan 12 08:33:25 2013 +0100

    usrloc(k) Fix compiler warnings
    
    Thanks to juha for the reminder

commit 4af97738081da634643f0fdfd681e7a94740a6d0
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Fri Jan 11 19:14:15 2013 -0500

    xhttp_pi: make sure that cfg directory exists during install

commit 11cedccfbc11c9efde566ecd2afb883246c64ba7
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Fri Jan 11 15:59:31 2013 -0500

    lib/ims: fix cross compilation

commit 35ba820e82840661d23c93e10bd289b8a6e14f5f
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Fri Jan 11 15:20:11 2013 -0500

    sqlops: remove unused variable `sv'

commit c8878c0c702173d44dd4d9fad263ea8e329e6897
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Fri Jan 11 15:13:16 2013 -0500

    permissions: remove unused variable `count'

commit 35d8fd13382fc5fa6256f17a0f43c396be7c638d
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Fri Jan 11 14:13:53 2013 -0500

    outbound: fix cross-compilation

commit 7bf23bc79b3ace2348c94bf284aac13dd917c3ab
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Fri Jan 11 14:13:36 2013 -0500

    osp: fix cross-compilation

commit d18997cd35d3ac03f446a61a7f198eb1b0704bd0
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Fri Jan 11 14:13:07 2013 -0500

    websocket: fix cross-compilation

commit c16ae05d5b91984a9d17ce6b643f29cf7b92cd75
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Fri Jan 11 14:12:49 2013 -0500

    tls: fix ssl cross-compilation

commit c9d8a66071efb77428ae74572d453c5b4ded4764
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Fri Jan 11 14:12:10 2013 -0500

    auth_identity: fix ssl cross-compilation

commit f350ec8cd45819ed6f60947bca2ac6e747f86541
Author: Klaus Darilion <klaus.mailinglists@pernau.at>
Date:   Fri Jan 11 14:22:57 2013 +0100

    modules_k/uac: document RR append_fromtag requirement in auto mode

commit 37c43f695fae346fde83690596150a84192ad0db
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Jan 11 10:54:00 2013 +0000

    pkg/kamailio/(centos|fedora): updated release tag in .spec

commit 5a78a8b8ec104550a37d8e2ae9005bf87d21e00f
Author: Anca Vamanu <anca.vamanu@1and1.ro>
Date:   Fri Jan 11 11:07:45 2013 +0200

    dialog: fix bug when detect_spirals enabled
    
    If detect_spirals enabled and the caller sent an Invite which received a
    negative response and then immediately sent another Invite with the
    same callid and tag, the module did not create a dialog record for the
    second Invite. It wrongly concluded that the Invite is spiraled. This
    resulted in missing CDR for that call.
    Behavior observed if the first Invite has a small Session-Timer interval
    and receives a 422 reply. When the phone sent the second Invite with a
    larger Session-Timer, which could have been successful, it was not recorded
    by the dialog module.

commit a1a197aa27a62426599d908870c60749e9941a03
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Fri Jan 11 10:47:44 2013 +0200

    modules/ims_qos: update to correct binding name for ims_usrloc_pcscf

commit b414cb1d7dc92e24ea98e5624060f9ba25726602
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Jan 11 09:32:12 2013 +0100

    Makefile.defs: version set to 4.0.0-pre0
    
    - marking pre-release phase

commit 622640b85cbf681055c1a9c28d3f3ab61c13b36e
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Thu Jan 10 16:53:12 2013 -0500

    ims_registrar_scscf: fix cross-compilation

commit 2c70b76e122d061b62058623e85e42872cd003ac
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Thu Jan 10 16:43:29 2013 -0500

    ims_registrar_pcscf: fic cross-compilation

commit 7b483c4cd97d61c8eefc484d31ffb3ba43d03ca5
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Thu Jan 10 16:43:05 2013 -0500

    ims_isc: fix cross-compilation

commit f1e6a00c93f18871c5c069a08aac77fe783fd6cd
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Thu Jan 10 16:42:34 2013 -0500

    ims_icscf: fic cross-compilation

commit 5799a797c7e4d0e84aca20618ef61dbf1a33692c
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Thu Jan 10 16:42:08 2013 -0500

    ims_auth: fix cross-compilation

commit 52a773fb8bcd9a07f12dcb0de9bff8744ab386d3
Author: Klaus Darilion <klaus.mailinglists@pernau.at>
Date:   Thu Jan 10 22:45:09 2013 +0100

    kamailio.cfg: describe log levels

commit 6d34982c99060436bc9a3a07058eb805488fc34d
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Jan 10 21:45:09 2013 +0100

    mtree	Add RPC command mtree.summary

commit 52331c6ba80f2eb862405e7987ab21d6f55549e0
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Jan 10 20:10:49 2013 +0100

    mtree Bug fix - save number of nodes in mtree data structure at load
    
    Otherwise MI function doesn't report anything but zero nodes and memory

commit 222166ef3a20c0c4a98a3c810112901c71ef275d
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Jan 10 19:01:47 2013 +0000

    modules/rtpproxy: allowing rtpproxy_manage to take the flags parameter as a pseudo-variable
    
    - Feature added by Hugh Waite @ Crocodile RCS

commit ef2b3a6ee84f75bd49a06635a486807eeaebc08a
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Thu Jan 10 12:50:06 2013 -0500

    kamdbctl: new command - kamdbctl pframework create
     - creates a provisioning framework for the installed db tables

commit 2793567c9f4f31e2d58e23faa092750f0d71a0c1
Author: Alex Hermann <alex@speakup.nl>
Date:   Thu Sep 29 18:47:46 2011 +0200

    modules_k/cfgutils: add locking around gflags
    
    gflags are stored in shared memory and must thus be protected against
    concurrent access.
    
    Reads from an int are atomic on most (all?) real world hardware, so only
    modification of the flags is placed under the protection of the lock, not
    reads.

commit 6f0f560ec9bf67d93e18f932f572aa8b526ac955
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Jan 10 16:00:46 2013 +0000

    pkg/kamailio/(centos|fedora): updated .spec

commit 3b575a618545dcd65362ea6de972222703d824d9
Author: Richard Good <richard.good@smilecoms.com>
Date:   Thu Jan 10 16:28:07 2013 +0200

    modules/ims_qos: Added documentation
    
    Added admin documentation and README for ims_qos module

commit e7b5f667a4b094c1aa1c426fe33648db782f9190
Author: Richard Good <richard.good@smilecoms.com>
Date:   Thu Jan 10 16:08:54 2013 +0200

    modules/ims_usrloc_pcscf: Updated documentation
    
    Updated documentation and added README for ims_usrloc_pcscf module

commit 743c1f7f9645ce760f5f1892fbee187f96c8513a
Author: Richard Good <richard.good@smilecoms.com>
Date:   Thu Jan 10 15:50:01 2013 +0200

    modules/ims_auth:  Updated documentation
    
    Updated documentation and added README for ims_auth modules

commit 0b476ea4981b750e3f5974f5fd1e3b8fb39ed8fa
Author: Richard Good <richard.good@smilecoms.com>
Date:   Thu Jan 10 15:40:00 2013 +0200

    modules/ims_icscf: documentation updated
    
    Documentation for IMS ICSCF modules updated and README added

commit 06fb17e57e871e99eb251e3243f70652e92a013d
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Thu Jan 10 15:25:56 2013 +0200

    modules/ims_qos: Added IMS QoS module
    	- This module provides Diameter Rx IMS interface between PCSCF and PCRF
    	  functions

commit cbf2cb0c1d0301d63154834fbd9220e334b9c64c
Author: Jason Penton <jaybeepee@jaybeepee-laptop.(none)>
Date:   Thu Jan 10 14:33:54 2013 +0200

    parser/sdp: fast-access pointer for raw SDP stream string
    	- basically a pointer to the raw SDP stream

commit f0cb7735b766e14ba142a45064e254d82d079746
Author: Richard Good <richard.good@smilecoms.com>
Date:   Thu Jan 10 14:29:38 2013 +0200

    modules/ims_isc: documentation added
    
    Added documentation including README for ims_isc module

commit 8fb8b261fa76e5c3497b602f6b850fe02e5db48f
Author: Alex Hermann <alex@speakup.nl>
Date:   Tue Jan 8 19:09:48 2013 +0100

    core: make database version table name configurable from script
    
    When kamailio is part of a bigger project and is sharing its database with
    it, it is nice to have a less generic table name than "version".
    
    Also usefull when upgrading kamailio, where the new version has (backwards
    compatibel) changes in the database definition. If each kamailio version uses
    its own version table, they can all use the same database.

commit 89a9db548f01eea54eb11ae57b76abcfb5e5c5f6
Author: Alex Hermann <alex@speakup.nl>
Date:   Mon Nov 5 13:33:27 2012 +0100

    modules_k/kex: call pkg_proc_stats_destroy in module destroy function to free memory

commit 2628e120432001c118eb89ac1b7023a9f5e795ad
Author: Alex Hermann <alex@speakup.nl>
Date:   Mon Oct 29 15:25:21 2012 +0100

    modules_k/tmx: Add $T_reply_last, returning last reply code
    
    Make the last/previous reply on a branch available to the script via
    $T_reply_last. Only available in TM_ONREPLY_ROUTE.

commit a2d09db983aa0b9a54ee78d5a910ba92140b05f8
Author: Alex Hermann <alex@speakup.nl>
Date:   Thu Oct 11 18:43:07 2012 +0200

    modules/rtpproxy: Add 'b' flag to add a branch specific string tot the call-id
    
    In a forking call, sometimes it is needed that each branch uses different
    options to the rtpproxy. This patch adds a parameter that makes each
    rtpproxy session unique to a branch by appending the value of a PV to the
    call-id rtpproxy parameter.

commit f11f35045f6eaffd153d767946399fbb397bc3eb
Author: Alex Hermann <alex@speakup.nl>
Date:   Mon Jul 4 17:33:50 2011 +0200

    modules/avpops: avp_db_query: treat BIGINT result as INT, disregarding the most significant 32 bits.

commit 457d075d3aabcaff6b6d14b6dfbc01c8a91734ec
Author: Alex Hermann <alex@speakup.nl>
Date:   Thu Oct 11 18:28:34 2012 +0200

    modules/tm: Remember per-branch onreply_route and onfailure_route settings
    
    The onreply and onfailure routes were set only per transaction. This means
    that when the onreply and/or failure route is changed in failure route (serial
    forking), late replies to earlier branches would use the new onreply and
    failure route instead of the routes set for them.
    
    This commit copies the transaction's onreply and failure routes to the branch,
    so the route set when the request is sent out is always chosen, no matter
    how late the reply arrives.
    
    Because the per-branch setting is copied after running onbranch_route, it is
    now also possible to set the routes per-branch instead of per-transaction.

commit 0b9f84519dd018159d67bb827d7e5c7e1e4431e2
Author: Alex Hermann <alex@speakup.nl>
Date:   Mon Aug 29 18:44:20 2011 +0200

    modules/tm: add option to check callid when matching transactions
    
    Use this if you don't want replies/requests from broken clients, which
    send a mangled Call-ID, to match the transaction. For example when
    the UAC won't recognise the response anyway because of changed
    Call-ID, this setting will prevent accounting records to be created
    or failure_route to be skipped.

commit 9ff6a40fce5160f23a385693d79df508759f1a31
Author: Alex Hermann <alex@speakup.nl>
Date:   Thu Aug 25 11:16:18 2011 +0200

    modules_k/trusted: no not open DB connections if db_mode==1.
    
    For cached operation, childs (except MI) do not need DB access

commit d1a85fbb01a9ae5b23c7b4f58de4ec584295d611
Author: Alex Hermann <alex@speakup.nl>
Date:   Fri Aug 26 11:16:45 2011 +0200

    modules_k/nathelper: add return value 2 to fix_nated_sdp() indicating no ip's have been replaced

commit 358f0b859cdb15afa0c1079009a67b7aa9349f2e
Author: Alex Hermann <alex@speakup.nl>
Date:   Fri Aug 26 13:08:39 2011 +0200

    modules_k/pv: make individial flags accessible via $Mf(idx), $Bf(idx) and $Sf(idx)
    
    The parameter is the flag number (or registered name). If present
    allows setting and reading the corresponding flag. As each flag is
    now available as separate PV, it can be used in logging, transformations
    and, last but not least, in loading/storing individual flags
    from/to a database with sql_pvquery().
    
    When setting, any value != =0 will set the flag, 0 will clear it. When reading
    a set flag returns 1, cleared flag 0.
    
    example:
    
    xlog("flags: 0x$mF / $Mf(15) / $Mf(16)");
    setflag(15);
    xlog("flags: 0x$mF / $Mf(15) / $Mf(16)");
    $Mf(16) = 1;
    xlog("flags: 0x$mF / $Mf(15) / $Mf(16)");
    $Mf(15) = 0;
    xlog("flags: 0x$mF / $Mf(15) / $Mf(16)");
    
    output:
    
    flags: 0x00000000 / 0 / 0
    flags: 0x00008000 / 1 / 0
    flags: 0x00018000 / 1 / 1
    flags: 0x00010000 / 0 / 1

commit 847ea5b2bc81749a44de34b35e5ef8516819951a
Author: Alex Hermann <alex@speakup.nl>
Date:   Tue Aug 30 13:35:55 2011 +0200

    modules_k/trusted: Free memory of old trusted list when the list has been reloaded

commit 1411a5789139cc302179b7d9f3a2b678e2caef9c
Author: Alex Hermann <alex@speakup.nl>
Date:   Fri Sep 16 13:48:59 2011 +0200

    modules/mtree: Do not log an error when prefix not found.
    
    A not found prefix is already represented as a negative return code.
    No need to log an error, as it may be perfectly valid that a prefix does not
    exists.

commit 58e81b6c42cc48bd2b4afe84491a1a12d9d4b973
Author: Alex Hermann <alex@speakup.nl>
Date:   Thu Sep 22 15:59:23 2011 +0200

    lib/srdb1: store BIGINT result also as 32-bit integer if it fits
    
    BIGINT is always converted to string. Additionally it is now stored as INT too.
    
    MySQL (at least on 64-bit) is returning BIGINT for all "generated" INT values,
    like COUNT(*). By storing thee results as INT (if possible), the config script
    will be compatible with both 32-bit and 64-bit column values.

commit d5898510adbe9c45d16a770531a3e7c95061956b
Author: Alex Hermann <alex@speakup.nl>
Date:   Mon Oct 3 15:55:42 2011 +0200

    modules_k/tmx: Add active_transactions statistics
    
    An active transaction is a transaction that is still waiting for a reply.
    If it has seen a reply but is existing just to collect retransmissions,
    it is not counted (in contrast to inuse_transactions).

commit 74c1a6224a0d55735f01e0b0800206eec002fab0
Author: Alex Hermann <alex@speakup.nl>
Date:   Tue Mar 27 16:44:23 2012 +0200

    modules_k/dialog: Allow unset_dlg_profile also in REQUEST_ROUTE
    
    even if the function has no use in normal REQUEST_ROUTE, the route block
    may be called from other route blocks like failure_route.

commit 1109a4ff6c68d9b2a619198cf1150b3431565bf0
Author: Alex Hermann <alex@speakup.nl>
Date:   Mon Jan 7 15:35:46 2013 +0100

    modules_k/sqlops: eleminate string copy in sql_exec_xquery()
    
    xavp api will make a copy in shmem, no need to make a private copy first.
    
    Thanks to Juha heinanen and Daniel-Constantin Mierla for finding this
    inefficiency.

commit 9b3d4e192859d83d8ec990751a5ead29ff72dab1
Author: Alex Hermann <alex@speakup.nl>
Date:   Thu Nov 29 11:47:10 2012 +0100

    modules/pv: Fix $snd(ip) for IPv6
    
    Result was always an empty string surrounded by []. Converted to use ip_addr2a().
    This also prevents the surrounding [], which are not part of an IPv6 address.

commit 0ba54b551aa5dd7c13d4c6c4c275fd4cba3b17b0
Author: Alex Hermann <alex@speakup.nl>
Date:   Thu Feb 23 23:48:16 2012 +0100

    modules_k/htable: don't return expired values
    
    If an item has expired, it will be treated as non-existent.

commit 87d10dc1dce72d5c6b3a658f1d1193d16633eb6c
Author: Alex Hermann <alex@speakup.nl>
Date:   Mon Feb 27 14:14:44 2012 +0100

    modules_k/perl: Fix resetting of flags in sv2int_str
    
    According to the functions comments and its usages in the same file, the flags would only be or'red, not reset
    
    This fixes setting an string named avp with an integer value:
    
    OpenSER::AVP::add("string", 12345);

commit dfe3f66fc7969a5c479f78b1ec000914c48bd9ff
Author: Alex Hermann <alex@speakup.nl>
Date:   Tue Feb 28 11:39:10 2012 +0100

    modules/sanity: Fail if request uri can't be parsed

commit 1be860ef1a766bf271e7f7f7efcdc1006fe5bde9
Author: Alex Hermann <alex@speakup.nl>
Date:   Thu Jun 7 14:20:01 2012 +0200

    modules_k/pua_mi: when checking for 0-length string, check s.len, not s.s

commit 1e1202d3a710eeec5f534fc11f0406ba3e449df6
Author: Alex Hermann <alex@speakup.nl>
Date:   Mon Jul 16 15:24:37 2012 +0200

    modules/auth: replace ser_time() wih time()
    
    The values returned by ser_time() deviate so much from time() (and thus
    system time) that the module was creating expired nonces in challenges
    and rejected valid nonces as being "from the future".
    
    See also FS#243

commit bf7c1ee6d77e781e846504970a1c2d3ef9544908
Author: Alex Hermann <alex@speakup.nl>
Date:   Tue May 15 12:29:14 2012 +0200

    modules/rtpproxy: return -3 when no more rtpproxy nodes can be found
    
    Provide a unique error code for the case when no (more) proxy nodes
    are availave in the set. This allows the script recognize it from
    the more general errors (all -1) and do special processing (failover
    to another set)

commit d0d17a8b9c20bfd9e8ce78931dd9f52254242a74
Author: Alex Hermann <alex@speakup.nl>
Date:   Mon Jan 7 15:16:27 2013 +0100

    modules_k/uac: regenerate README

commit f310fd10bda2da682dee9eaa91474c704ffd8c2c
Author: Alex Hermann <alex@speakup.nl>
Date:   Tue Jul 10 12:41:45 2012 +0200

    modules_k/uac: uac_reg: add reg_retry_interval parameter
    
    The new parameter allows to retry failed registration attempts.
    Instead of unconditionally marking the entry as disabled, the
    registration will be retried after the set interval. Setting it
    to 0 (default) retains the old behaviour.

commit 7432aa5ee180851dd5d6d933cbfe7ced93396566
Author: Alex Hermann <alex@speakup.nl>
Date:   Tue Feb 28 15:23:17 2012 +0100

    modules_k/uac: uac_reg: skip realm checking if realm is empty
    
    When realm is the empty string, do not check the realm, but accept anything
    the UAS throws at us.

commit 0507b848d0257b478b422b49eb339ade7b801579
Author: Alex Hermann <alex@speakup.nl>
Date:   Tue Feb 28 13:10:23 2012 +0100

    modules_k/uac: skip realm matching when realm pv for uac_auth is empty or null
    
    This can be used if the realm used by the upsteam UAS isn't known in advance.

commit eb1abe66b9f97a4f98386d294b538a53ec05c9a6
Author: Alex Hermann <alex@speakup.nl>
Date:   Tue Feb 21 12:35:18 2012 +0100

    modules_k/uac: Add reg_db_table parameter to specify table name for registrations

commit d2bdfd325665a0bc2652cdaa237d0afda9e4e8f8
Author: Alex Hermann <alex@speakup.nl>
Date:   Fri Sep 2 09:36:43 2011 +0200

    modules_k/tmx: add t_is_reply_route()
    
    Function to determine if the top executed route block is a reply.
    In line with t_is_failure_route() and t_is_branch_route().

commit 87bce89fe77942146d03ce4a44e6330e4a8149e7
Author: Alex Hermann <alex@speakup.nl>
Date:   Thu Sep 1 17:18:03 2011 +0200

    modules_k/tmx: add $T_reply_reason PV
    
    Especially for internally generated (faked) replies it was hard to
    get the reason phrase. This PV provides just that.

commit 43533b41f2a4fb23b24bcf98b01fca223c605cd9
Author: Alex Hermann <alex@speakup.nl>
Date:   Mon Jan 7 17:10:18 2013 +0100

    Makefile: add corex module to kstandard group

commit 14ef60cf93f2e7d2a458f8a3ce287e52f1b497d6
Author: Alex Hermann <alex@speakup.nl>
Date:   Mon Jan 7 14:04:57 2013 +0100

    modules/tmx: set $T_branch_idx to sane values for more route types
    
    $T_branch_idx will now return a branch number (0-based) in more route types.
    
    BRANCH_ROUTE and TM_ON_REPLY_ROUTE: currently handled branch number
    REQUEST_ROUTE and FAILURE_ROUTE: next branch number, will be increased by
        every append_branch
    
    In FAILURE_ROUTE, the branch number of the winning reply can be retreived
    with $T_rpl($T_branch_idx)
    
    All other route types will result in (the invalid) branch number -1.

commit 397ef369d7092aa670d63f81aa86657daee47071
Author: Alex Hermann <alex@speakup.nl>
Date:   Fri Oct 12 14:06:33 2012 +0200

    modules/tm: Set branch_index to T_BR_UNDEFINED when outside BRANCH_ROUTE or TM_ONREPLY_ROUTE.
    
    The inconsistent value of $T_branch_idx between BRANCH_ROUTE and
    TM_ON_REPLY_ROUTE was fixed in an earlier commit, but now the value 0 has a
    double meaning (branch 0 or invalid branch). This patch makes the invalid
    branch distinguishable by setting it to -1.
    
    Now $T_branch_idx will return the branch number (0-based) in BRANCH_ROUTE
    and TM_ON_REPLY_ROUTE and -1 in other route types or if the message is not
    part of a transaction.

commit e23e51ee2d5390b903b9f3029b01181c0dc5a7ba
Author: Alex Hermann <alex@speakup.nl>
Date:   Thu Oct 11 16:53:55 2012 +0200

    modules/tm: Make branch_index consistent in all route types
    
    The branch index was set one to high in BRANCH_ROUTE, leading to
    inconsistent branch numbers in reply routes.

commit aa454db1818220d6b05699b9ee6e01a8237ffcb1
Author: Olle E. Johansson <oej@edvina.net>
Date:   Wed Jan 9 22:21:45 2013 +0100

    siptrace	Typo after test compilations. Bad luck.

commit a59b5bc19b2cc672794c959ee6eb4e42c461a3e9
Author: Olle E. Johansson <oej@edvina.net>
Date:   Wed Jan 9 21:20:17 2013 +0100

    cdp  Documentation updates
    
    Read my lips: It's configuration, not confiuaragion or confirtuaration... :-)

commit a6b038332e38e6f60fee32896ffd610cf76e11ee
Author: Olle E. Johansson <oej@edvina.net>
Date:   Wed Jan 9 20:43:00 2013 +0100

    avp XML doc updates

commit c79c33f14d9cf15444cdd024551c788679cf71bb
Author: Olle E. Johansson <oej@edvina.net>
Date:   Wed Jan 9 20:42:12 2013 +0100

    avp 	Documentation typo fix and update (SER => Kamailio)

commit 66560d5ad5c136aa833db57ed32283d788f56611
Author: Olle E. Johansson <oej@edvina.net>
Date:   Wed Jan 9 20:18:42 2013 +0100

    outbound(k) Minor edit of documentation.
    
    Please ignore, keep calm and carry on.

commit 226c92425b266f1c1a5efb2286cf067ce0b7df22
Author: Olle E. Johansson <oej@edvina.net>
Date:   Wed Jan 9 20:13:26 2013 +0100

    siptrace(k) Fixing a bad change in docs...

commit 9b1c23481551ef74b6efeb0118c1119470a08826
Author: Olle E. Johansson <oej@edvina.net>
Date:   Wed Jan 9 20:09:39 2013 +0100

    siptrace(k)	Add RPC command for turning on/off
    
    Copying the functionality of the existing MI command.
    
    Also, setting the value of the trace_flag to 0 by default, as
    documented in the documentation.

commit fd77c500050073e019b0366fdcd3a6c125a20cb9
Author: Olle E. Johansson <oej@edvina.net>
Date:   Wed Jan 9 20:04:29 2013 +0100

    sipcapture: Fix typo in XML markup

commit 9af31f9c44cc35a4cbe74accf79513c7272ec93c
Author: Olle E. Johansson <oej@edvina.net>
Date:   Wed Jan 9 19:50:12 2013 +0100

    sipcapture Small cleanup in docs

commit ba12e3893787a8340d21aa18ab6faa81e825713f
Author: Olle E. Johansson <oej@edvina.net>
Date:   Wed Jan 9 18:38:54 2013 +0100

    sipcapture  Small typo

commit 8ebf2dbe6cc0e51b47c423227f5dcff14c7af4c3
Author: Olle E. Johansson <oej@edvina.net>
Date:   Wed Jan 9 18:37:43 2013 +0100

    sipcapture	Add RPC command to turn on/off or check status
    
    Kamailio RPC rocks - much more than IMS ;-)

commit 70ca23583a136f2a401ce57d4b9f110e2f4db1fe
Author: Richard Fuchs <rfuchs@sipwise.com>
Date:   Wed Jan 9 12:34:27 2013 -0500

    pv(k): Remove read-only empty strings that might be attempted to be written to

commit 2207618978f5d61c3afe65007c3460a2e1ef0d37
Author: Olle E. Johansson <oej@edvina.net>
Date:   Wed Jan 9 16:53:07 2013 +0100

    usrloc(k)	Add RPC for AOR lookup
    
    Copied from mi interface. RPC rocks!

commit 875c5e71cf1ac077f17eb15030ce8cfb0d299e89
Author: Olle E. Johansson <oej@edvina.net>
Date:   Wed Jan 9 15:29:48 2013 +0100

    usrloc(k) Reveal existing rpc command in README

commit e1306157b324d2ad21d97af0edf14072769787d7
Author: Olle E. Johansson <oej@edvina.net>
Date:   Wed Jan 9 14:00:32 2013 +0100

    db_cassandra Minor edits and typo fixes to README

commit 8341030426fbe1f48e527b52d694b188ecdd48dc
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Jan 9 14:55:46 2013 +0100

    registrar: execute event route when a contact expires
    
    - the name of the routing block is event_route[usrloc:contact-expired]

commit ff18475e9fd3c6d4da4ca2e85c045fc761eb48e5
Author: Anca Vamanu <anca.vamanu@1and1.ro>
Date:   Wed Jan 9 15:44:38 2013 +0200

    db_cassandra: updated documentation
    
    - added URLs for Thrift library and Cassandra

commit b7fde2349a28e22cd9e02412d914d07ee8654f79
Author: Anca Vamanu <anca.vamanu@1and1.ro>
Date:   Wed Jan 9 14:19:06 2013 +0200

    db_cassandra: Improved documentation and config file example

commit b2e1fdd5df2e52d1393ebe592869e54fb6ee734f
Author: Anca Vamanu <anca.vamanu@1and1.ro>
Date:   Wed Jan 9 12:52:13 2013 +0200

    dbcassandra Added schema files for domain module

commit 3b9de69fcc60bf918413a8b79fb475067c1852b3
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Jan 8 22:38:35 2013 +0100

    dialog(k): bridge contact address can be set via parameter

commit 644902198d7727d8c283109d84de36babf5544ad
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Jan 8 22:34:00 2013 +0100

    dialog: add contact header in REFER for dlg_bridge()
    
    - some UAs reject the REFER if there is no contact header

commit 0574a4833122a6f4c0b70e84dfbe7bb2f0f821ce
Merge: fca96b0 d923afb
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Wed Jan 9 11:18:48 2013 +0200

    Merge branch 'master' of ssh://git.sip-router.org/sip-router

commit fca96b0b6383198bbd95f0421e66bfb9cb1956f3
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Wed Jan 9 11:17:03 2013 +0200

    modules_k/rr: updated README

commit d923afb1737651cbb7e4aac2517445afd4625c6c
Merge: d645d52 ead5275
Author: Richard Good <richard.good@smilecoms.com>
Date:   Wed Jan 9 10:35:22 2013 +0200

    Merge branch 'master' of ssh://git.sip-router.org/sip-router

commit d645d525cc6e67ef17af31cbe7a54099134794e7
Author: Richard Good <richard.good@smilecoms.com>
Date:   Wed Jan 9 10:34:05 2013 +0200

    examples/scscf/kamailio.cfg - fixed IMS modules names
    
    Updated SCSCF example cfg to use new IMS module naming convention

commit ead52752c9b61c0fcadd95d3d39042498068c73c
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Wed Jan 9 10:31:51 2013 +0200

    modules_k/rr: added feature to set custom username for Record-Route URI
        - this is an AVP param that can be used to customise the default
          username (Request-URI) added to the Record-Route URI before
          calling record_route.

commit 9d394f9844b6043372b72539c69e9d56b0861d6d
Author: Richard Good <richard.good@smilecoms.com>
Date:   Wed Jan 9 10:29:25 2013 +0200

    examples/pcscf/kamailio.cfg - fixed IMS modules names
    
    Updated PCSCF example cfg to use new IMS module naming convention

commit d3dee2b4579310fde42cfc727ebd5dc7537d8446
Author: Richard Good <richard.good@smilecoms.com>
Date:   Wed Jan 9 10:19:47 2013 +0200

    examples/icscf/kamailio.cfg - fixed IMS modules names
    
    Updated ICSCF example cfg to use new IMS module naming convention

commit 68d7468cf77e1831186ea0017ead15adb73c1328
Author: Olle E. Johansson <oej@edvina.net>
Date:   Wed Jan 9 08:37:41 2013 +0100

    snmpstats(k) Change from OpenSER to Kamailio
    
    Note: Apart from code name changes, the MIB files and the objects
    has changed names. This will affect all systems monitoring your
    SIP server as you upgrade to 4.0.0

commit 2b09c72457a1c84508d74feb9dbc2d86f682508c
Author: Olle E. Johansson <oej@edvina.net>
Date:   Wed Jan 9 07:56:14 2013 +0100

    htable(k) Add new RPC htable.listTables
    
    This RPC list all defined tables and their settings

commit 85ee107929a80b54d47eaabef6f25d7b2f0659e7
Author: Carsten Bock <carsten@ng-voice.com>
Date:   Tue Jan 8 20:58:03 2013 +0100

    Added sample configuration files for Kamailio IMS Setup. IMS Rocks!
    
    Greetings from the Dolomites, Italy, Carsten

commit d21c7e32ceb52a90a9106fb3bba66cdd357a1fa6
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Tue Jan 8 14:30:17 2013 -0500

    pipelimit: fix documentation typo

commit 3f8d1e2bdba6650d2541261a2184a0bef5b88b07
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Tue Jan 8 14:21:46 2013 -0500

    pipelimit: enhance return codes for pl_check() function

commit 16784302104e5fc40b3873019938d140c402eff6
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Tue Jan 8 13:08:44 2013 -0500

    module*/*/Makefile: libcurl dependencies build fixes

commit 66cc4397e04591fd5b2af9798a1ab22d3dbaf7b6
Author: Arnout Vandecappelle (Essensium/Mind) <arnout@mind.be>
Date:   Tue Jan 8 12:42:40 2013 -0500

    module*/*/Makefile: libpcre dependencies build fixes

commit 79295e7a5820921646846eec062e1ff7c27fec9d
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Jan 8 18:41:35 2013 +0100

    kamailio.cfg: mention v4.0 in the header of config file

commit ea4daadd16ff3d45c0c35d90df38bfcc33e8bfbe
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Jan 8 16:21:19 2013 +0000

    pkg/kamailio/(centos|fedora): Updated .spec file

commit 60f177ba77647fb7203f5c3b92d34a196f237a09
Author: richard <richard@richard-laptop.(none)>
Date:   Tue Jan 8 17:32:11 2013 +0200

    modules/usrloc_pcscf and modules/usrloc_scscf - removed unnecessary junk files

commit 36a0cb38bcafcb4d4e2bfbc0977e0c1f25e74d14
Author: richard <richard@richard-laptop.(none)>
Date:   Tue Jan 8 17:23:29 2013 +0200

    modules/ims* and modules/dialog2 - changed modules name to prepend ims_ to all IMS modules
    
    As per mailing list and offline discussions have prepended _ims to all IMS modules and renamed dialog2 dialog_ng
    New modules name:
    dialog_ng
    ims_auth
    ims_icscf
    ims_isc
    ims_registrar_pcscf
    ims_registrar_scscf
    ims_usrloc_pcscf
    ims_usrloc_scscf

commit 4c7ba37b7d8bf55d1983950812a3ae060e5ee3e4
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Tue Jan 8 16:47:13 2013 +0200

    modules/cdp: Added kcore link for statistics

commit 1ee54a1e511b98848fd2a6a5075009e2e0b4df06
Author: Olle E. Johansson <oej@edvina.net>
Date:   Tue Jan 8 12:52:44 2013 +0100

    permissions(k) Add RPC function calls that match functionality in old modules_s module

commit 82303dfad79c601767bb8e1a115fd30d1fb3a282
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Jan 8 11:27:11 2013 +0000

    modules_k/outbound: updated documentation
    
    - Fixed some mistakes in the Edge Proxy example
    - Filled in more detail in the Registrar example

commit f57ac2ddaf1a4bbb8178f9fdc2fc408819d41228
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Jan 8 11:02:09 2013 +0000

    modules_k/rr: fixed typo in a diagnostic
    
    - Thanks to oej for pointing this out

commit a20893dd6cbf1a5fc7f48d9e8fd1823bbb1ba07f
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Jan 8 11:01:31 2013 +0000

    modules_k/outbound: downgraded and ERR diagnostic to INFO
    
    - Thanks to oej for pointing this out

commit 5fc244a81ff4749bd8cb0196a1baecd8a721191a
Merge: ecba6cf 9a10ed3
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Tue Jan 8 11:01:37 2013 +0200

    Merge branch 'master' of ssh://git.sip-router.org/sip-router

commit ecba6cf229f849dd6390bbb2b9e9e70628fd0bd7
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Tue Jan 8 11:00:16 2013 +0200

    modules/cdp: added omitted statistics files

commit 9a10ed3334804f520ecdab03f1019a19e13e0494
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Jan 8 00:24:47 2013 +0000

    modules_k/registrar: documented new "flow_timer" modparam

commit e18905ea53c2c5d4a565de596e2c2913ede6466f
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Jan 8 00:24:13 2013 +0000

    modules_k/registrar: Added modparam to allow Flow-Timer: to be set in 200 OK response to REGISTER requests

commit 2aa85480330e368154e2d1c407380ba06f66d3f5
Author: Juha Heinanen <jh@tutpro.com>
Date:   Mon Jan 7 21:59:18 2013 +0200

    modules/rtpproxy: removed LM_DBG that caused compiler warnings

commit 329db6c3ace5e93a3b7ab7155481f2e9705119b3
Merge: e7bb3af c9de09b
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Mon Jan 7 16:11:05 2013 +0000

    Merge branch 'master' of ssh://git.sip-router.org/sip-router
    
    * 'master' of ssh://git.sip-router.org/sip-router:
      core: when printing the listening sockets on startup print also the advertise-port

commit e7bb3af61bea673af801a5b9280f50ec13958a3b
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Mon Jan 7 16:10:46 2013 +0000

    modules_k/outbound: Updated the module documentation

commit 4cb23b43c246cb227282474d2b7bd6d6ff9c2033
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Mon Jan 7 16:10:17 2013 +0000

    modules_k/registrar: Updated registrar module documentation to describe the outbound_mode parameter

commit c486a9358f146ac2b3e5047021c197c3eb6b41d8
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Mon Jan 7 16:08:13 2013 +0000

    modules_k/registrar: New outbound_mode parameter
    
    - Controls whether outbound options-tag is required in REGISTER
      requests and whether they are added to responses to REGISTER requests.
    - Needed so that an Outbound Edge Proxy can add a Flow-Timer: header
      to 200 OK responses (to REGISTERs) that contain a Requires: header with
      the outbound options-tag.

commit c9de09b99b417aebb8fe84d44dec6c1bff1d8849
Author: Klaus Darilion <klaus.mailinglists@pernau.at>
Date:   Mon Jan 7 16:22:38 2013 +0100

    core: when printing the listening sockets on startup print also the advertise-port

commit da1d8d1a9315d187b050468aa33772253f10e47b
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Mon Jan 7 12:47:11 2013 +0200

    modules/sipcapture: fixed defines for Solaris

commit ff1c7f3756bf7c2175b7209ccc13ab0cbf6cb4f8
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Mon Jan 7 11:02:06 2013 +0200

    md5.h: fixed types for Sun Solaris

commit 3dd44561692657027289ff320709ce5d4bff210e
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Mon Jan 7 09:56:24 2013 +0200

    modules/cdp: housekeeping
        - corrected copyright
        - fixed timer code (latency thresholds)
        - changed to KAMAILIO module interface

commit 0b108c83ba7138c760fa86c9274633c92b7193a1
Merge: 9f63684 94e9bd8
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Jan 6 19:37:22 2013 +0000

    Merge branch 'master' into outbound
    
    * master:
      pkg/kamailio/(centos|fedora): Updated ver and rel in .spec
      sl: fix compilation warnings in sl_forward_reply()
      dialog: fixed ka_timer linking
      core: command line option -v replaced with -K
      msrp: new parameter use_path_addr
      msrp: added rpc command to list active connections
      msrp: added internal map table to track msrp connections
      pipelimit: implemented support for RPC commands
      Makefile.defs: major version base updated to 4.0.0
      sl: new function sl_forward_reply(...)
      core: added function to remove an exiting lump structure from internal list
      dialog2: generate and add missing README for dialog2 module
      Do not bind with libser_cmd, this is not required.
      Added Debian-Packaging for IMS modules
      - Add group for IMS modules - Added convenience rule to build packages for current debian-stable
      ims modules: don't link with -lrt on macosx
      auth_ims: don't link with -lrt on darwin os
      kamailio.cfg: xhttp left only in kamailio-oob.cfg
      modules/rtpproxy: rtpproxy_manage can now add ice relay candidates
      parser/sdp: fixed freeing of ice attributes

commit 94e9bd8f15e192ee8b1c14d759129992b35435bf
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Jan 6 19:36:39 2013 +0000

    pkg/kamailio/(centos|fedora): Updated ver and rel in .spec

commit 9f636841675f9cdd5a4baf768784564be71660b0
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Jan 6 19:32:45 2013 +0000

    modules_k/outbound: Updates to outbound module documentation

commit 539e606d4ab88b837207fbe5a921f05756eba8a5
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Jan 6 19:32:29 2013 +0000

    modules_k/outbound: Fixes to outbound code arising from testing

commit b0ee720bec6d188615b98e8b107100fc5158e839
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Jan 6 19:32:04 2013 +0000

    modules_k/rr: Updates to rr module documentation for outbound

commit a9d425f4aa8fe0fdc4aac3e158b6c98fd59a5776
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Jan 6 19:31:41 2013 +0000

    modules_k/rr: Fixes to loose.c from outbound testing

commit 3f0f60d22d5577965b50821b1c7d0835c898c3f9
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Jan 6 15:28:28 2013 +0100

    sl: fix compilation warnings in sl_forward_reply()
    
    - reported by Juha Heinanen

commit ddcef074088df261ce3fb98adfbb1b76b73c30a6
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Jan 6 15:24:39 2013 +0100

    dialog: fixed ka_timer linking
    
    - patch by Rinor Hoxha

commit 70d6cae27153d6641b2a781634aeb585b741d3a0
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Jan 6 00:00:40 2013 +0100

    core: command line option -v replaced with -K
    
    - -v was exposing to misusage for -V (version), now is aliased to it

commit 830af85c45933b3cdc3c48152667162fcf969a55
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Jan 5 23:51:07 2013 +0100

    msrp: new parameter use_path_addr
    
    - specify host and port for usage in Use-Path header

commit bc8b005ba4d4c89afa6152dd212eda9b6689bb86
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Jan 5 23:36:43 2013 +0100

    msrp: added rpc command to list active connections

commit ea3cacb10d2cc15f23c3a0c7fead151939873951
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Jan 5 22:00:55 2013 +0100

    msrp: added internal map table to track msrp connections
    
    - initial version
    - the table can be enabled via config parameters

commit f432022f943ad4f72d3643974f065c6007af6589
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Fri Jan 4 21:34:50 2013 -0500

    pipelimit: implemented support for RPC commands

commit e03be11d30abd9f6a5a756ae142444395f09df93
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Jan 4 19:29:30 2013 +0100

    Makefile.defs: major version base updated to 4.0.0
    
    - development version is now 4.0.0-dev8

commit d01b11b0cbbbfb84ae3d10fb90c05aedf07c9ccc
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Jan 4 19:26:21 2013 +0100

    sl: new function sl_forward_reply(...)
    
    - forward the received reply fron configuration, before it would be done
      by the core. It has the option to change the status code and reason
      phrase
    - the forwarding is statelessy, not affecting the tm states

commit 7fd561975706676e61bb3d90968652edcb96f35c
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Jan 4 19:25:05 2013 +0100

    core: added function to remove an exiting lump structure from internal list

commit d2b805c8b13943f82240276f98f78145ac7572f9
Author: Henning Westerholt <hw@kamailio.org>
Date:   Thu Jan 3 16:44:03 2013 +0100

    dialog2: generate and add missing README for dialog2 module

commit 2ce18eee8cfb85d7c88187a419c8d3f81228a1f8
Author: Carsten Bock <carsten@ng-voice.com>
Date:   Thu Jan 3 16:24:59 2013 +0100

    Do not bind with libser_cmd, this is not required.

commit 9cb6a84106aca0c998084c25b8b05d9d34a35ff2
Author: Carsten Bock <carsten@ng-voice.com>
Date:   Thu Jan 3 15:03:46 2013 +0100

    Added Debian-Packaging for IMS modules

commit fc1706e0c3b53500a321c13bc3450a4ccbe6dd6c
Author: Carsten Bock <carsten@ng-voice.com>
Date:   Thu Jan 3 15:02:40 2013 +0100

    - Add group for IMS modules
    - Added convenience rule to build packages for current debian-stable

commit 539f97bdaa4b6c12fec3a943b6adb7902b748827
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Jan 2 14:38:22 2013 +0100

    ims modules: don't link with -lrt on macosx
    
    - define MAXINT on mac os x

commit cf93bf2097660c093645550f1d3b54fdc1154288
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Jan 2 14:22:39 2013 +0100

    auth_ims: don't link with -lrt on darwin os

commit 8660e2f031a159d0ac1edb87e20738f50a87d5c6
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Jan 2 14:09:53 2013 +0100

    kamailio.cfg: xhttp left only in kamailio-oob.cfg

commit 75fde552f1c4cdea736baa72ff1aa36e527e0215
Author: Juha Heinanen <jh@tutpro.com>
Date:   Wed Jan 2 13:00:31 2013 +0200

    modules/rtpproxy: rtpproxy_manage can now add ice relay candidates
    
    - The feature is activated by defining ice_candidate_priority_avp module
      parameter.

commit 35bc07e6a13e12aba519be8bde1a1e1dc06a1d94
Author: Juha Heinanen <jh@tutpro.com>
Date:   Wed Jan 2 09:13:00 2013 +0200

    parser/sdp: fixed freeing of ice attributes

commit a117147b4c6563be21c0403eeeacf5ff0f3ba709
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Jan 1 20:46:18 2013 +0000

    modules_k/outbound: updated example

commit 0a528b23bc39eabfaaf2874a74ce529955c21ff5
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Jan 1 20:45:49 2013 +0000

    modules_k/rr: outbound fixes
    
    - Use the OUTBOUND address in RR when using outbound

commit 9b5c3a991942da005b8c56b049a1ebde5596042b
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Jan 1 20:45:24 2013 +0000

    modules_k/outbound: fixes to use_outbound()

commit e2d144bd76f327ce7c52914ed0462f415e7d06a7
Merge: 4a41827 ddfbbd7
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Mon Dec 31 17:12:01 2012 +0000

    Merge branch 'master' into outbound
    
    * master:
      parser/sdp: added check on body length when looking for 'a=candidate:'
      parser/sdp: added 'a:remote-candidates' media stream attribute

commit 4a418276b50212feb3ef4d659c42e6772fc9fcd7
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Mon Dec 31 17:11:30 2012 +0000

    modules_k/outbound: first draft of outbound module documentation

commit 72d8e454f29174673cc80f9795ac8d564c2ca1bb
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Mon Dec 31 17:11:14 2012 +0000

    modules_k/outbound: Corrected check on flow_token_key length

commit ddfbbd7c0eb7fc1c7ffbb07d6260271ded8b42b3
Author: Juha Heinanen <jh@tutpro.com>
Date:   Mon Dec 31 18:18:05 2012 +0200

    parser/sdp: added check on body length when looking for 'a=candidate:'

commit 88a8eb348359f05a1ff14371f8e323cf086d6497
Author: Juha Heinanen <jh@tutpro.com>
Date:   Mon Dec 31 18:16:23 2012 +0200

    parser/sdp: added 'a:remote-candidates' media stream attribute

commit 5214a6e617bfc8f2471fcf0d02d8fa5cf0a9ce3b
Merge: e00d77f 945b1fd
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Mon Dec 31 16:08:59 2012 +0000

    Merge branch 'master' into outbound
    
    * master:
      pkg/kamailio/(centos|fedora): Added IMS modules to RPM builds
      parser/sdp: added partial parsing of a=candidate attributes
      modules/sipcapture  README: added HEPv2/v3 to supported protocols
      modules:siptrace changed include to hep.h
      Added HEPv3 (UDP) support for sipcapture.
      modules/registrar_pcscf: firs commit of registrar_pcscf module 	- registrar for P-CSCF functionality
      modules/registrar_scscf: first commit of registrar_scscf 	- Registrar functionality for S-CSCF servers
      modules/isc: first commit of ISC module (IMS Service Control)
      modules/usrloc_scscf: first commit of usrloc_scscf modules 	- usrloc functionality for S-CSCF servers
      modules/usrloc_pcscf: first commit of usrloc_pcscf module
      modules/auth_ims: first commit of auth_ims module 	- This module provides IMS specific authentication/authorisation functionality.
      modules/icscf: added I-CSCF module.
      modules/dialog2: first version of dialog2
      lib/ims: added some info to README on IMS library
      IMS Internal Lib: added internal kamailio library for IMS extensions

commit 945b1fd62e1bb5c9d4aa066666d64ae63731c94a
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Mon Dec 31 16:08:20 2012 +0000

    pkg/kamailio/(centos|fedora): Added IMS modules to RPM builds

commit e00d77f710fe36dca08f099306c837ef7e53309f
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Mon Dec 31 15:36:00 2012 +0000

    modules_k/outbound: filled in use_outbound() function

commit 488bf3c94b2498e7539638202ee878c237fde567
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Mon Dec 31 15:35:32 2012 +0000

    core: added parsing of ;ob for URIs and Contact: headers

commit b7a1ea4c8a88eea873bf6b4bfac5e1f477a19073
Author: Juha Heinanen <jh@tutpro.com>
Date:   Mon Dec 31 15:51:53 2012 +0200

    parser/sdp: added partial parsing of a=candidate attributes

commit 9d9394d63c3ccdfa3ce7ba067ef29c4657f0eb37
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Mon Dec 31 13:44:19 2012 +0000

    modules_k/rr: handle outbound failing and outbound just not being used as separate cases

commit dccab57430d0014b386a8f97ca6c8506a81402e7
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Mon Dec 31 13:43:15 2012 +0000

    modules_k/outbound: decode_flow_token() returns different values when an error occurs and when the string obviously isn't a flow-token

commit a0a23aacc9a2d19b30f62702811c1eadc5671d98
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Mon Dec 31 13:28:06 2012 +0000

    modules_k/rr: updated documentation for outbound support

commit 7d6d7f177f465e184e1ef612a82a7406ccadd45a
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Mon Dec 31 13:25:36 2012 +0000

    modules_k/rr: fixed typos in diagnostics and comments

commit a0dd2a75dc763ebb5907573aac3b8653c5faf93a
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Mon Dec 31 13:25:01 2012 +0000

    modules_k/path: fixed a typo in a diagnostic message

commit 6141b16fc5f619938472f6f56d0fb2e0e5456aee
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Mon Dec 31 12:55:06 2012 +0000

    modules_k/rr: tidied up error handling and comments relating to outbound

commit 5ceef3cb48fc4b1e9c75abf91ba45f59f5125751
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Mon Dec 31 12:54:37 2012 +0000

    modules_k/outbound: tightened up error handling in decode_flow_token()

commit 680173cfc89bc051ce026ddf4a62dab494aa20a0
Author: Alexandr Dubovikov <alexandr.dubovikov@gmail.com>
Date:   Mon Dec 31 00:33:16 2012 +0100

    modules/sipcapture  README: added HEPv2/v3 to supported protocols

commit 13889dfc3274f86352c719276b52fd8a458c243f
Author: Alexandr Dubovikov <alexandr.dubovikov@gmail.com>
Date:   Mon Dec 31 00:27:22 2012 +0100

    modules:siptrace changed include to hep.h

commit 6eda5e28355df2f1085f0ab9d303309965c4cd4f
Author: Alexandr Dubovikov <alexandr.dubovikov@gmail.com>
Date:   Mon Dec 31 00:21:02 2012 +0100

    Added HEPv3 (UDP) support for sipcapture.
    
    Many many thanks Dragos Dinu for your help!
    
    Happy New Year! Glückliches neues Jahr! С Новым Годом! La Mulți Ani!

commit bd26883f8cf782a09dd115389b1a5cc60fdd2f83
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Sun Dec 30 22:40:27 2012 +0200

    modules/registrar_pcscf: firs commit of registrar_pcscf module
    	- registrar for P-CSCF functionality

commit d274ee387a3aa27be808b11b879311793f840a40
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Dec 30 19:31:24 2012 +0000

    modules_k/rr: Fixed return from process_outbound()

commit 4bbd8718667d5fed76b7b97b3e915647cf80e611
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Dec 30 19:27:24 2012 +0000

    modules_k/rr: added decoding and using of flow token to loose_route()

commit 200082fd140bcebc7cdbf1d5511f51aa6e6f304e
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Sun Dec 30 20:39:58 2012 +0200

    modules/registrar_scscf: first commit of registrar_scscf
    	- Registrar functionality for S-CSCF servers

commit 49ef3f0279491020a334d93aeb7c76e723305564
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Sun Dec 30 20:36:41 2012 +0200

    modules/isc: first commit of ISC module (IMS Service Control)

commit f08bc36d878529410dcfafa69753f80ade261f6f
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Sun Dec 30 20:34:44 2012 +0200

    modules/usrloc_scscf: first commit of usrloc_scscf modules
    	- usrloc functionality for S-CSCF servers

commit eda0f25661a153dde09c91a371cd7e02e18d7b26
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Sun Dec 30 20:33:00 2012 +0200

    modules/usrloc_pcscf: first commit of usrloc_pcscf module

commit 5e844cf90c0d288a4038f5b2ff7cbebeab856488
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Dec 30 18:31:07 2012 +0000

    modules_k/outbound: changed some errors to info

commit 1ecbbbbe2c2ee63553b47316f454ede3633a2189
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Sun Dec 30 20:29:22 2012 +0200

    modules/auth_ims: first commit of auth_ims module
    	- This module provides IMS specific authentication/authorisation functionality.

commit 29e841d41f57fa24d79fef10ff1e20943fa068ec
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Sun Dec 30 20:26:09 2012 +0200

    modules/icscf: added I-CSCF module.

commit 651dafa718cb96c15781134ed280812c664bd9dc
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Sun Dec 30 20:19:10 2012 +0200

    modules/dialog2: first version of dialog2

commit b4189892a8fb61670da8d8c6a4fb91110e889799
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Sun Dec 30 20:10:53 2012 +0200

    lib/ims: added some info to README on IMS library

commit acc9e5a3dde72aedbb1eeba561987c5faf80800f
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Dec 30 17:56:55 2012 +0000

    modules_k/rr: add flow token to Record-Route: headers when needed

commit d55cce8e5f2558560bf38a8ff25ddbb80f697284
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Dec 30 17:40:08 2012 +0000

    modules_k/rr: do not double RR when outbound is in use for a request

commit b4f41ed842766e047d286da1ceefb783f6791a5b
Author: root <root@jaybeepee-HP-EliteBook-8560w.(none)>
Date:   Sun Dec 30 19:38:57 2012 +0200

    IMS Internal Lib: added internal kamailio library for IMS extensions

commit 7c79ef5875787a1c05d263a83c803299489308fd
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Dec 30 17:20:52 2012 +0000

    modules_k/rr: bind rr to outbound module

commit 724847a226cd3a5e8c2aa766a17890f06d30d6ce
Merge: 3efe73d 3d2c78d
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Dec 30 17:08:43 2012 +0000

    Merge branch 'master' into outbound
    
    * master:
      uid_gflags: default table for global attrs prefixed with uid_
      libsrdb1/kamctl: added uid_global_attrs table
      libsrdb1/kamctl: added uid_domain and uid_domain_attrs tables
      srdb1/kamctl: added uid_uri and uid_uri_attrs tables
      uid_avp_db: default table name prefixed with uid_
      srdb1/kamctl: added definition of table uid_user_attrs
      libsrdb1/kamctl: added definition of uid_credentials table

commit 3d2c78df699a047d97f016a14c275c5559553fe5
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Dec 29 16:42:09 2012 +0100

    uid_gflags: default table for global attrs prefixed with uid_

commit e5831f5896e79ad5b878208a408d61fb374f2715
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Dec 29 16:39:29 2012 +0100

    libsrdb1/kamctl: added uid_global_attrs table

commit 5eaaaf9827bb951add1f45bc5d635a4889954f73
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Dec 29 16:29:17 2012 +0100

    libsrdb1/kamctl: added uid_domain and uid_domain_attrs tables

commit 907e13b7080c3ecbbbf8fa35c1adb4b3d9137ff5
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Dec 29 16:15:07 2012 +0100

    srdb1/kamctl: added uid_uri and uid_uri_attrs tables

commit c8b3aa436455314cc5b5591224cc2336c3060d9c
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Dec 29 16:00:27 2012 +0100

    uid_avp_db: default table name prefixed with uid_

commit 4d060c204cb5d526b3e05d50131a725d2f931b39
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Dec 29 15:58:06 2012 +0100

    srdb1/kamctl: added definition of table uid_user_attrs

commit 008f9242fd996d3c853b6844fa724473c4ffd4d9
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Dec 29 15:36:51 2012 +0100

    libsrdb1/kamctl: added definition of uid_credentials table

commit 3efe73dc002b4e02147a2f950c3058998f658a23
Merge: 8f0ab91 8c512a5
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Dec 29 01:22:27 2012 +0000

    Merge branch 'master' into outbound
    
    * master:
      modules_s/usrloc: moved to obsolete folder
      modules_s/registrar: moved to obsolete folder
      modules_s/.gitkeep: added a placeholder to keep empty modules_s folder for a while
      Makefile: make TAGS skips the obsolete folder
      usrloc(k): fixed position of xavp_contact parameter in docs
      usrloc: store per-contact attributes in database
      core: fixed xavp level cloning function
      core: added a fuction that adds an xavp with an xavp value
      kamctl: regenerated database creation scripts
      lib/srdb1: added location_attrs table

commit 8c512a504402594c3d78da8e3ebdbe05e7561a2f
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Dec 29 00:19:53 2012 +0100

    modules_s/usrloc: moved to obsolete folder
    
    - use instead the other module with same name

commit f39b8bd436571b7f3ac40740a4a938739f9c6ad9
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Dec 29 00:18:25 2012 +0100

    modules_s/registrar: moved to obsolete folder
    
    - use instead the other module with same name

commit 96efc37844a8c128d520b9873aacb3633231e33f
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Dec 29 00:17:10 2012 +0100

    modules_s/.gitkeep: added a placeholder to keep empty modules_s folder for a while
    
    - it may be useful if some modules from obsolete folder are wanted back
      (in the repo, or just locally)

commit 8d5f8bbc2edaee9ccbe935d5f44fe4601281f060
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Dec 29 00:09:47 2012 +0100

    Makefile: make TAGS skips the obsolete folder
    
    - use make TAGS-ALL to include all the folders

commit 27570b56727e788da939fedc84304cf87fc1e179
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 28 22:25:29 2012 +0100

    usrloc(k): fixed position of xavp_contact parameter in docs

commit 5463e46f9c3fa2e3aa8345eceb79936de63b7222
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 28 22:20:15 2012 +0100

    usrloc: store per-contact attributes in database
    
    - attributes table is the name of table used for save/lookup plus suffix
      '_attrs' (e.g., location_attrs)
    - feature enable only if xavp_contact parameter is set

commit 88dd1f30481d088b56a97a6fbb84a88f94261eb9
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 28 22:17:03 2012 +0100

    core: fixed xavp level cloning function
    
    - new function introduced recently for usrloc usage

commit aea4043106b7b3e44529385293616b7af640c892
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 28 19:21:28 2012 +0100

    core: added a fuction that adds an xavp with an xavp value

commit f636e215089a9b14daa113d93025831e827192b5
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 28 19:18:09 2012 +0100

    kamctl: regenerated database creation scripts
    
    - target on location_attrs table
    - affected xhttp_pi and sca

commit 060734a2acf96333ffaef8207812cc27bc127c76
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 28 14:55:35 2012 +0100

    lib/srdb1: added location_attrs table
    
    - store per contact attributes

commit 8f0ab9130af20ed1709b03fff8e831695cbdc64f
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Dec 28 08:03:50 2012 +0000

    modules_k/path: only add ";ob" parameter when it is the the first hop

commit 7fce787c316de12fd3294ca2a70d79d71ff2ad1b
Merge: 11b7630 b2e5040
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Dec 26 14:25:44 2012 +0000

    Merge branch 'master' into outbound
    
    * master:
      core: check for IP in no_naptr_srv_sip_resolvehost()
      core: try all srv protocols when not already set
      registrar(k): restore the location contact xavp upon lookup
      usrloc(k): option to store xavp per contact
      core: extended xavp api
      registrar(k): use only pre-existing branches in lookup_branches()
      p_usrloc: clean memory in case of malloc error
      Revert "Changing to kamcmd"
      kamcmd changes
      Changing to kamcmd
      kamcmd Updating docs
      Change "sercmd" to "kamcmd" in module documentation files - README
      kamctl Fix typo that causes the "trusted" help to be printed twice and "address" zero times
      kamctl Change "sercmd" to "kamcmd" in help texts
      Fixing compiler warnings

commit 11b7630b3f3423dd5697b9c1938f34ee851d325e
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Dec 26 14:24:58 2012 +0000

    modules_k/path: Updated module documentation for outbound

commit b27311b5ecc189b8324075a3387382c144ad438b
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Dec 26 14:15:48 2012 +0000

    modules_k/path: Added outbound support to add_path()

commit a1501f0b44975057e752d0337fb074ed53fd6a54
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Dec 26 14:15:18 2012 +0000

    modules_k/outbound: Added some includes to api.h

commit b2e5040fa324fa8c95c5b44a5fcab58ed84a4c55
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Dec 26 12:32:00 2012 +0100

    core: check for IP in no_naptr_srv_sip_resolvehost()
    
    - catch IP addresses before attempting to do SRV query

commit 17b3c70ea9cd21b71b44062dfff20cea7e67b349
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Dec 26 11:20:46 2012 +0100

    core: try all srv protocols when not already set
    
    - patch to commit by Mihály Mészáros

commit b21b5125c7c60775226a7a86dc411863477ed799
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Dec 24 10:04:15 2012 +0100

    registrar(k): restore the location contact xavp upon lookup

commit e6ad428f6699621b7ee622984eeea3e3e2f6cb80
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Dec 24 10:03:10 2012 +0100

    usrloc(k): option to store xavp per contact
    
    - stored only in memory for the moment
    - the xavp can contain a list of xavps
    - new config parameter to specify the name of xavp

commit 6f31c603d1e540b1cd7ca7e81648e024acbd1388
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Dec 24 10:02:01 2012 +0100

    core: extended xavp api
    
    - functions to add an avp last in a list or inserted at a specific
      position, to extract an avp from top of the list

commit be0f77ec7fa86f9387393609fbdffafd65a1afe3
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Dec 23 19:32:03 2012 +0100

    registrar(k): use only pre-existing branches in lookup_branches()

commit c50a8ba36aee8ae53d66a8128300085934d1a3f0
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Dec 23 17:19:21 2012 +0100

    p_usrloc: clean memory in case of malloc error

commit 7f7605bd38f76ab9adf1335b4a1de6fa40708486
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Dec 23 16:26:16 2012 +0100

    Revert "Changing to kamcmd"
    
    This reverts commit 90432f0e672c5fb11b1e47b9655768bf20e45b89.

commit 5c4bb10fc7a534b92b0dcd9c229ea1392da34cee
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Dec 23 10:22:56 2012 +0100

    kamcmd changes

commit 90432f0e672c5fb11b1e47b9655768bf20e45b89
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Dec 23 10:22:19 2012 +0100

    Changing to kamcmd

commit 9b745fbb0a065cf30b8069e950b4e6e9f2d8b20c
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Dec 23 10:17:36 2012 +0100

    kamcmd Updating docs

commit 922e7f4a9a56b4c02b5fedb93bd3684b2c410881
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Dec 23 09:31:28 2012 +0100

    Change "sercmd" to "kamcmd" in module documentation files - README

commit 334b6e7a2c0804a7ee4ce30761fc911a31682876
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Dec 23 09:05:50 2012 +0100

    kamctl Fix typo that causes the "trusted" help to be printed twice and "address" zero times

commit 3eeaa5af9107f3795aee714ac47380cfb2ef45c3
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Dec 23 09:01:01 2012 +0100

    kamctl Change "sercmd" to "kamcmd" in help texts

commit 95805adb74fbc17fe38f89bf9ec8dd57f31e9d91
Merge: 35683cf 9b2cb40
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Dec 23 08:49:50 2012 +0100

    Merge branch 'master' of ssh://git.sip-router.org/sip-router
    
    Do not read this message. It's not needed. Just a stupid swede making mistakes.
    Do not read this message. It's not needed. Just a stupid swede making mistakes.
    Do not read this message. It's not needed. Just a stupid swede making mistakes.
    Do not read this message. It's not needed. Just a stupid swede making mistakes.
    
    * 'master' of ssh://git.sip-router.org/sip-router:
      modules_s/permissions: moved to obsolete folder
      modules_s/textops: moved to obsolete folder
      textopsx: added functions that operate on header value
      modules_k/domain: bind_domain api function takes one param
      modules_k/htable: removed unused variable
      nathelper(k): new test 128 to check port in contact against source port
      modules_s/nathelper: moved to obsolete folder
      nathelper(k): added the select for rewriting the contact
      core: proper pv buffer reinitialization
      dialog(k): Reworked dlg_set_timeout_by_profile() code to change dialog timeouts outside of a profile lock.
      modules/app_lua: Updated app_lua to support URI lookup in registrar
      modules_k/registrar: Extended C-API to include a URI lookup
      pkg/kamailio/(centos|fedora): Added more modules moved from modules_s to modules to the build

commit 35683cfb90e68719205bef377a8bedad3e633f9d
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Dec 23 08:49:23 2012 +0100

    Fixing compiler warnings

commit b6b3acf9e2cf3283684773df325eb8ac6d2226c3
Merge: 0c3d25f 9b2cb40
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Dec 22 17:03:25 2012 +0000

    Merge branch 'master' into outbound
    
    * master:
      modules_s/permissions: moved to obsolete folder
      modules_s/textops: moved to obsolete folder
      textopsx: added functions that operate on header value

commit 0c3d25f4fba43ee66a6f1edf88b1abfde97668c8
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Dec 22 17:02:01 2012 +0000

    modules_k/outbound: Improved flow token encode/decode.  Now should work properly with IPv4 and IPv6

commit 9b2cb40fdb0660b61e9d9bb2086100c54ac7066e
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Dec 22 14:29:55 2012 +0100

    modules_s/permissions: moved to obsolete folder
    
    - use the other module with same name

commit 29b41dfd405f5e7de607b97d14f9481d4d91babb
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Dec 22 14:28:23 2012 +0100

    modules_s/textops: moved to obsolete folder
    
    - use the other textops module or textopsx
    - use config variable format ($varname(x)), instead of former xlog style
      with %

commit ba6119e3b4d84d8ba656c2a44fdafe3a2c31595f
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Dec 22 14:26:18 2012 +0100

    textopsx: added functions that operate on header value
    
    - imported from modules_s/texops and replaced the xlog-% style with
      pvar-$ style

commit 1db38af24d8808a9a2045c7bac25581199717a2b
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Dec 22 13:07:58 2012 +0000

    modules_k/outbound: Filled in functions to encode and decode flow tokens

commit 83d07c9a0f883ba08f863103127b96893d1bc92b
Merge: 68e07fa 1a09692
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Dec 22 11:04:04 2012 +0000

    Merge branch 'master' into outbound
    
    * master:
      modules_k/domain: bind_domain api function takes one param
      modules_k/htable: removed unused variable
      nathelper(k): new test 128 to check port in contact against source port
      modules_s/nathelper: moved to obsolete folder
      nathelper(k): added the select for rewriting the contact
      core: proper pv buffer reinitialization
      dialog(k): Reworked dlg_set_timeout_by_profile() code to change dialog timeouts outside of a profile lock.

commit 1a09692be74ef8c4f0dc56801bce6a2fb351536d
Author: Juha Heinanen <jh@tutpro.com>
Date:   Sat Dec 22 12:26:29 2012 +0200

    modules_k/domain: bind_domain api function takes one param

commit a60a7ca8010a66703a90768b42ae16342c50107d
Author: Juha Heinanen <jh@tutpro.com>
Date:   Sat Dec 22 11:33:13 2012 +0200

    modules_k/htable: removed unused variable

commit bf3acaf0895d900c15e3455cba225226f3debf62
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Dec 22 09:42:35 2012 +0100

    nathelper(k): new test 128 to check port in contact against source port
    
    - used for nat_uac_test()
    - imported from ser flavour

commit f7ef4b3d54dd462648330dfa4522d067376178ce
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Dec 22 09:28:18 2012 +0100

    modules_s/nathelper: moved to obsolete folder
    
    - use the other module with same name
    - pings from config can be done with uac module, uac_req_send()

commit b2ef844bfdcce46d6a1b88f60ff2fe4d1de30855
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Dec 22 09:24:11 2012 +0100

    nathelper(k): added the select for rewriting the contact
    
    - exsting in the ser flavour version

commit d52371ec0a6ce6f1fff4f4fc91df3a89e5983228
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Dec 22 08:32:31 2012 +0100

    core: proper pv buffer reinitialization
    
    - reported by Olle Johansson, FS#259

commit c9957ad5bf1b672a2661f4faeb9b781820a1f636
Author: Alex Balashov <abalashov@evaristesys.com>
Date:   Fri Dec 21 21:08:39 2012 -0500

    dialog(k): Reworked dlg_set_timeout_by_profile() code to change dialog
    timeouts outside of a profile lock.
    
    This is in order to avoid deadlock complications arising from lock/ref
    count operations upstream.  It appears that when update_dlg_timer()
    fails, it does not relinquish control back to the calling function, which
    created problems with unreleased profile locks.

commit 68e07faf94e6aa8664f3d7116026d136062136b1
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Dec 21 23:38:28 2012 +0000

    modules_k/outbound: Removed nat_test from here
    
    - Will just use the one from nathelper when required.

commit 064120b137e05e3799399664dbc48d0d1d5ba01b
Merge: 7b31e98 72bee68
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Dec 21 23:34:35 2012 +0000

    Merge branch 'master' into outbound
    
    * master: (592 commits)
      modules/app_lua: Updated app_lua to support URI lookup in registrar
      modules_k/registrar: Extended C-API to include a URI lookup
      pkg/kamailio/(centos|fedora): Added more modules moved from modules_s to modules to the build
      db_text More instructive error message
      modules_s/maxfwd: moved to obsolete folder
      maxfwd(k): max_limit module param can be changed at runtime
      uid_avp_db: fixed include from uid_domain module
      app_python: fixed complilation warnings [-Wformat]
      modules_s/uid_uri_db: moved to modules folder
      modules_s/uid_domain: moved to modules folder
      modules_s/uid_gflags: moved to modules folder
      modules_s/uid_avp_db: moved to modules folder
      modules_s/uid_auth_db: moved to modules folder
      modules_s/pike: moved to obsolete folder
      modules_s/uri_db: renamed to uid_uri_db
      modules_s/gflags: renamed to uid_gflags
      modules_s/domain: renamed to uid_domain
      uid_auth_db: updated doc file to the new name
      modules_s/avp_db: renamed to uid_avp_db
      modues_s/auth_db: renamed to uid_auth_db
      ...
    
    Conflicts:
    	modules_k/nathelper/nathelper.c
    	pkg/kamailio/centos/6/kamailio-build.appl
    	pkg/kamailio/centos/6/kamailio.appl
    	pkg/kamailio/fedora/16/kamailio-build.appl
    	pkg/kamailio/fedora/16/kamailio.appl
    	pkg/kamailio/fedora/16/kamailio.spec
    	pkg/kamailio/fedora/17/kamailio-build.appl
    	pkg/kamailio/fedora/17/kamailio.appl

commit 72bee685f57ccd0637e1bc97093c9e5731c2d40f
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Dec 21 23:10:05 2012 +0000

    modules/app_lua: Updated app_lua to support URI lookup in registrar
    
    - Enhancement added by Hugh Waite @ Crocodile RCS

commit 18a4a8a33939edc6e5d74fdc21c33d9835a62f61
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Dec 21 23:09:23 2012 +0000

    modules_k/registrar: Extended C-API to include a URI lookup
    
    - Enhancement added by Hugh Waite @ Crocodile RCS

commit 8030130f6b5819804dbe4d563abe197e13d1a54f
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Dec 21 22:52:55 2012 +0000

    pkg/kamailio/(centos|fedora): Added more modules moved from modules_s to modules to the build

commit 242527fe5b94902ed4e20adad054c16f1732d9fd
Author: Olle E. Johansson <oej@edvina.net>
Date:   Fri Dec 21 23:11:40 2012 +0100

    db_text More instructive error message

commit 3852f46576eab51198ebd089e555bf67d3b46eb0
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 21 22:49:08 2012 +0100

    modules_s/maxfwd: moved to obsolete folder

commit 9a9cbdc8257e1782f74aa393d7c0b2f4d7888f98
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 21 22:43:54 2012 +0100

    maxfwd(k): max_limit module param can be changed at runtime
    
    - changed to use cfg param reload framework
    - added aliases to existing functions to make them compatible with ser
      flavour
    - config functions can take variables as parameters

commit 5374337d3b3504247b5846a37c998a4f1c61d4d8
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 21 22:43:14 2012 +0100

    uid_avp_db: fixed include from uid_domain module

commit 221da0463d31534c0103dc87931324ae0b3acc72
Author: Konstantin Mosesov <ez@voipgroup.org.ua>
Date:   Fri Dec 21 22:21:42 2012 +0200

    app_python: fixed complilation warnings [-Wformat]

commit 9b5c2fec96a37069af9ede4ddc30e6303c1113a2
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 21 20:52:03 2012 +0100

    modules_s/uid_uri_db: moved to modules folder

commit 3f535ff25cb67ef4f0f12ca1d8230fadaa3a832e
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 21 20:51:33 2012 +0100

    modules_s/uid_domain: moved to modules folder

commit 9f6d4d0797074ec37a629af974df97bfdafda68a
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 21 20:50:15 2012 +0100

    modules_s/uid_gflags: moved to modules folder

commit 1316bb1cd42cf34f03f9072037d6a138e2e10db4
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 21 20:49:36 2012 +0100

    modules_s/uid_avp_db: moved to modules folder

commit b092e88730367444559408100a2c8d159259d6ed
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 21 20:49:02 2012 +0100

    modules_s/uid_auth_db: moved to modules folder

commit 1183a546bd287c90cc485573df585fe9f624a7ab
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 21 20:47:53 2012 +0100

    modules_s/pike: moved to obsolete folder
    
    - use the other module with same name

commit b79303dbfd781de9218f73b98ca72f25cf1d1054
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 21 19:51:19 2012 +0100

    modules_s/uri_db: renamed to uid_uri_db

commit bc780f6769581fd6260ba8d3f207ca2dd305970d
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 21 19:43:53 2012 +0100

    modules_s/gflags: renamed to uid_gflags
    
    - script flag functions got an 'u' in name to allow usage together with
      cfgutils module

commit e4eb153efa0e2d0c6e1478fbe664df87aa93c7ec
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 21 19:38:51 2012 +0100

    modules_s/domain: renamed to uid_domain

commit 6e8d115d48193c07977bf07638f237ff8518cf0e
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 21 18:45:25 2012 +0100

    uid_auth_db: updated doc file to the new name

commit a5daf1797ff4edbb456d0d0b70138ce422d65d86
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 21 18:42:26 2012 +0100

    modules_s/avp_db: renamed to uid_avp_db

commit 0440bae1fd24700d83bd4728f662deea250ed716
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 21 18:35:19 2012 +0100

    modues_s/auth_db: renamed to uid_auth_db
    
    - the module is using uid based database schema

commit 2eb7894a6d2b9ca0e62eb83865d5cf955366ce9c
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 21 18:02:21 2012 +0100

    modules_s/print_lib: moved to modules folder

commit bd263eea88e942a077dd0ef70138d1bbc704219f
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 21 18:01:51 2012 +0100

    modules_s/print: moved to modules folder

commit 8e806d4cb02049ffb447e3781d0ce864bb2bffb7
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 21 17:57:12 2012 +0100

    modules_s/print_lib: added readme and xml docbook files

commit 306459af5d4698e598a6842668faf701fe9b85f3
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 21 17:42:46 2012 +0100

    modules_s/rr: moved to obsolete folder
    
    - k version offers the ability to work behind nat and preset route set
    - adding params to record-route headers can be done with add_rr_params()
      which has dynamic parameter
    - accessing the route parameters can be done via script variables

commit b3773e4ae594fcff9de95a869695d2441d9628b8
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 21 13:28:44 2012 +0100

    modules_s/cpl-c: moved to obsolete list
    
    - use the other cpl-c module

commit 69a7abb8703fab795071130b5f4cd7412124aab2
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 21 12:39:00 2012 +0100

    cpl-c: added an optional parameter to cpl_run_scritp() to provide the URI
    
    - the parameter will be used instead of taking the URI from headers or
      R-URI

commit a403bd541bbca60fff6ab24a62c7bd2b31c6707e
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Dec 21 10:29:54 2012 +0000

    pkg/kamailio/(centos|fedora): Added moved modules from modules_s to the build
    
    - db2_ldap, db2_ops, and timer

commit c2e4b20ecc2598bf5a440a50762e9dbd6a2ed61c
Merge: 2930038 35a427c
Author: Olle E. Johansson <oej@edvina.net>
Date:   Fri Dec 21 11:19:33 2012 +0100

    Stupid Merge branch 'master' of ssh://git.sip-router.org/sip-router
    
    * 'master' of ssh://git.sip-router.org/sip-router:
      Makefile: db2_ldap added to excluded modules list

commit 2930038a7e4ccf9abb1fe2465d1e59f3dfe9012f
Author: Olle E. Johansson <oej@edvina.net>
Date:   Fri Dec 21 11:18:55 2012 +0100

    db_text: Minor correction in error message.
    
    Tell the user what's wrong, not just that it's wrong.

commit 35a427c6d452477478228885e1b2a2104633ce5d
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 21 11:10:20 2012 +0100

    Makefile: db2_ldap added to excluded modules list

commit 9b9562a2bdc71e350702e21e25129444e6b805aa
Author: Olle E. Johansson <oej@edvina.net>
Date:   Fri Dec 21 10:07:52 2012 +0100

    htable Minor correction to RPC docs

commit 6ff072a307ddf0735ca9c38c1bc0c3ebdbc57a2b
Author: Olle E. Johansson <oej@edvina.net>
Date:   Fri Dec 21 09:40:06 2012 +0100

    htable Add RPC command for listing one item
    
    Also, add documentation for existing RPC commands.

commit b6e2034d84dcb77bfda256af0de0c434cc83dbb7
Author: Olle E. Johansson <oej@edvina.net>
Date:   Fri Dec 21 09:05:15 2012 +0100

    pike: Add error on bad argument
    
    Reported by Ovidiu Sas on the sr-dev list. Bug ported from modules_s/pike :-)

commit 7f532c2994a824c33c2e9e2348a10df734c1d3a7
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Dec 20 20:59:59 2012 +0100

    sl Minor README updates (file name changes)

commit 6c8c42c92de26912c3c15007114967deca6bdc89
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Dec 20 20:57:07 2012 +0100

    mangler: Minor doc update

commit d36d4de28ad52763ef4e637393997bca44dc6fea
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Dec 20 20:56:17 2012 +0100

    sanity  Minor README updates

commit cbdadf3bff04e7837698ad84466fea2aed39b9c9
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Dec 20 20:48:19 2012 +0100

    prefix_route doc file name changes

commit 75e18bc92fedc4d5a4ab0599ad16526928523b41
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Dec 20 20:45:40 2012 +0100

    mangler Minor README edits

commit 0156d9e3e46e592c951acbbe8924840b3ca7860f
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Dec 20 20:40:19 2012 +0100

    malloc_test Minor README edits

commit 326772a1524e3ad6e7c5927cf6edee1f85bc5a5b
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Dec 20 20:37:09 2012 +0100

    db_flatstore Minor README edits

commit c060369e85e279c3eba8fe5caddc3be7a860d512
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Dec 20 20:31:50 2012 +0100

    blst Minor README updates

commit 98b4fd46fa5fb42422346793cad5406220f3992e
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Dec 20 20:28:34 2012 +0100

    avp Minor README xml file changes

commit c9497bf0653ffca09bd180ea01d7089a14f8f0e2
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Dec 20 20:26:12 2012 +0100

    auth_identity README updates

commit bcb10c2952cbcd5e3aa500815b11d7cf45de47a2
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Dec 20 20:20:58 2012 +0100

    auth Documentation filename changes

commit 78e1f3667d8fa553abde60d9078f395b9c4dcb9a
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Dec 20 20:18:34 2012 +0100

    cfg_db README edits

commit 88e55397a3036880d2af43aa44fda473c9284011
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Dec 20 20:13:37 2012 +0100

    pike: README edits

commit e0ef312d376d7b7d3d7e8b8c522544e0fae865bd
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Dec 20 20:12:42 2012 +0100

    iptrtpproxy Minor README edits

commit e175629e7522350991bc4325f5141ecb68b05c3f
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Dec 20 20:11:59 2012 +0100

    xmlrpc Documentation minor edits.

commit bf42fb7b6deef7926816c5ec8f9a4d0bf7393aed
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Dec 20 20:07:58 2012 +0100

    xmlops: Move to "book" and rename files to avoid collissions

commit bb5527557c9d54f4ba63ddd491e4487b3fa0b063
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Dec 20 19:25:10 2012 +0100

    db2_ldap: defined -DLDAP_DEPRECATED to enable the old ldap api
    
    - reported by Ovidiu Sas

commit 2eee368b72c48e36af8af0f17fb29dc5d6310b08
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Dec 20 19:13:13 2012 +0100

    core: added prototype of no_naptr_srv_sip_resolvehost() to resolv.h
    
    - fix compile warning, reported by Ovidiu Sas

commit e964ce8f377cd368b1326ef42bc9bef36d192179
Merge: 3ad60fe 80697ca
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Dec 20 18:52:33 2012 +0100

    Merge branch 'master' of ssh://git.sip-router.org/sip-router
    
    Arrggh. Need to clean up my working directory before xmas.
    * 'master' of ssh://git.sip-router.org/sip-router:
      modules_s/timer: moved to modules folder

commit 3ad60fe1e229b3c1fc3a854d57eac223094294ad
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Dec 20 18:51:52 2012 +0100

    pike: Import pike.top rpc call from modules_s/pike
    
    Thanks to Ovidiu for pointers in the right direction.

commit 80697ca8ab8fd06bb348fd9d9b17d8db39f9e274
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Dec 20 15:18:23 2012 +0100

    modules_s/timer: moved to modules folder

commit 1c35849b76ea9257162d5977e839399027c9659b
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Dec 20 13:44:59 2012 +0100

    uac: Add note about only using uac_replace once in the same request

commit b56e823ed8e7ac2f88d1020677f5e94546a91516
Author: Mihály Mészáros <misi@niif.hu>
Date:   Sun Dec 16 13:03:18 2012 +0100

    core/dns: fix an issue when using it without dns cache
    
     - fixing an issue what caused that without dns cache we have to use a different function for srv resolution.

commit 61cae424125c4af11a69092cbf7b6870dbf26af0
Author: Mihály Mészáros <misi@niif.hu>
Date:   Wed Dec 5 12:55:24 2012 +0100

    core: dns resolver patch bugfix
    
    - a small bug fixed.
      Many thanks to Daniel (miconda@gmail.com) for reporting it.

commit 63ef5f0edcfebe86cffe7489f3524186ed3400d4
Author: Mihály Mészáros <misi@niif.hu>
Date:   Mon Nov 12 16:02:48 2012 +0100

    core/dns: dns SRV lookup, if no NAPTR available
    
    - Resolving the first most preferred and available SRV record if no NAPTR found.
      It reuse the dns protocol preference scores. Sort protocols based on this preference.

commit 7702ef8c2ec0fca97e11c621532bb9af3160dba7
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Dec 20 12:25:15 2012 +0100

    modules_s/db2_ldap: moved to modules folder

commit bebb0665ac795ea234e329a8a5b785ce5678da62
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Dec 20 12:21:39 2012 +0100

    modules_s/db2_ops: moved to modules directory

commit bdb2368e5abd6dad0b203b67676701e515d59ae8
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Dec 19 21:23:50 2012 +0100

    modules_s/uri: moved to obsolete list
    
    - use siputils module instead

commit e6a8bc85079389314f86cc4141cf827ecabeaf4a
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Dec 20 08:56:56 2012 +0100

    iptrtpproxy Documentation updates (SER => kamailio)

commit 5919b3b6c4078db7675c71d98f671feb58c68a2a
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Dec 20 08:46:24 2012 +0100

    ctl Updating documentation

commit 8b967b4b96765057bb0b8f62ee1dd5b04442b52d
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Dec 20 08:41:00 2012 +0100

    counters Updating documentation to "book" from "section"
    
    Renaming files to avoid collission when aggregating documentation.

commit 6fd7eb7440e864df872a56ad9b2076614c08222e
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Dec 19 21:11:56 2012 +0100

    modules_s/acc_syslog: moved to obsolete list
    
    - use acc module instead

commit 12e1b5eab148559d00ce4461a7126e227ab7ae33
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Dec 19 21:10:41 2012 +0100

    modules_s/acc: moved to obsolete list
    
    - use acc module instead

commit 7487c62ea79cdddb468f2090aeba39b1df0747cc
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Dec 19 21:06:53 2012 +0100

    modules_s/uri_radius: moved to obsolete list
    
    - use misc_radius module instead

commit 685f526aa6d5b171a6731cec5aa67a97e12da1fc
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Dec 19 21:04:38 2012 +0100

    modules_s/auth_radius: moved to obsolete list
    
    - use the other module with the same name

commit 38d126621a09b3a149bcc10e3d07a176ba84068b
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Dec 19 21:02:49 2012 +0100

    modules_s/avp_radius: moved to obsolete list
    
    - use misc_radius to fetch attributes per user from radous server

commit d7e1ff882bcca3369edd74a7540cf252ef08760c
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Dec 19 21:01:11 2012 +0100

    modules_s/acc_radius: moved to obsolete list

commit 51cba8039863a92a5050b6932bb8a9155edcf39b
Author: Alex Balashov <abalashov@evaristesys.com>
Date:   Wed Dec 19 13:23:09 2012 -0500

    dialog(k): Fixed typo in loop in set_dlg_timeout_by_profile() so that
    _all_ the dialogs actually get killed, not just the first one.

commit 27e5fdc60110c4c89cee642317f5d92b7f0b734d
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Dec 19 12:52:13 2012 +0100

    kamailio-oob.cfg: new config file to collect more out-of-the-box use cases
    
    - the file can be used to add more complex routing logic and show how to
      use various features of kamailio
    - it should offload kamailio.cfg from getting too complex as a starting
      point

commit f1449adfb91727112e2a44f406e7de63965595d6
Author: Juha Heinanen <jh@tutpro.com>
Date:   Wed Dec 19 12:17:19 2012 +0200

    modules/mediaproxy:  README fix and edits
    
    - AVPs are available in Kamailio reply routes without setting any tm param.

commit 70b3ea024d9eb42f974b4de37a555bcb384405e9
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Dec 19 01:48:17 2012 +0000

    pkg/kamailio/fedora/17: Updated boxgrinder appliance

commit c5b67ce5965d37c4851b6c33b9020cf88a4b85f3
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Dec 18 23:29:21 2012 +0100

    modules_s/ldap: renamed to db2_ldap
    
    - it is a SRDBv2 API database driver

commit 3e3b0350cd5408822cb7c35aa83d1c3e305a98c1
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Dec 18 23:23:38 2012 +0100

    modules_s/db_ops: renamed to db2_ops
    
    - it implements only SRDBv2 API

commit c38b4361c35ce4bf2abcc6b2480d76ca3029abfd
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Dec 18 23:11:26 2012 +0100

    modules_s/oracle: moved to obsolete folder

commit d1bf22612ce24f20ba360a5f1077fa5ce3c1e27e
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Dec 18 23:05:10 2012 +0100

    modules_s/bdb: moved to obsolete folder

commit 7f5d581b42139a16f6c3730ed9c54b1d36f6b58a
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Mon Dec 17 15:17:28 2012 -0500

    modules/db_cassandra: no need to link against kmi library
     - no MI commands exported

commit 928dab69601e1bb56e3abbc81a1ed55d77e8b298
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Mon Dec 17 15:06:49 2012 -0500

    modules/db_flatstore: replace mi command flat_rotate with rpc command flatstore.k_rotate

commit 53b6903007caf13ea9543be6c545a4d9cd6d437f
Author: Olle E. Johansson <oej@edvina.net>
Date:   Mon Dec 17 21:10:48 2012 +0100

    blst Update docbook XML to "book" from "section"
    
    Trying to standardize the documentation into one format

commit 1f28ea63990f016a5828321f3514a029c5a2a18a
Author: Olle E. Johansson <oej@edvina.net>
Date:   Mon Dec 17 20:58:57 2012 +0100

    avp Modifying docbook to "book"

commit 1e0ee74dae6da3a962f46f8d3305368c0754d56d
Author: Olle E. Johansson <oej@edvina.net>
Date:   Mon Dec 17 20:56:25 2012 +0100

    auth_identity Moving to "book"

commit f3f279234622c18ab847fc5ff0e8473f3cd23fd4
Merge: 52a9f00 5519cae
Author: Olle E. Johansson <oej@edvina.net>
Date:   Mon Dec 17 20:52:34 2012 +0100

    Merge branch 'master' of ssh://git.sip-router.org/sip-router
    
    Sorry. Sorry.
    
    * 'master' of ssh://git.sip-router.org/sip-router:
      modules_k/drouting: documentation updates for mi -> rpc command migration

commit 52a9f00806de700f1b0288ea22b388a27ab707c0
Author: Olle E. Johansson <oej@edvina.net>
Date:   Mon Dec 17 20:52:03 2012 +0100

    auth: Converting to book docbook format

commit 0d41e1ba82c22a6e62f997add0a266ef4b2ed0ed
Author: Olle E. Johansson <oej@edvina.net>
Date:   Mon Dec 17 20:42:47 2012 +0100

    xprint: Change to docbook book, instead of section

commit 502675ecb60f6943ca4fa8480b057a4bfef9dc2b
Author: Olle E. Johansson <oej@edvina.net>
Date:   Mon Dec 17 20:40:33 2012 +0100

    xmlrpc: Modify docbook format to book and add title

commit 5519caedc2ebcfb44a660bcd13e4033116e24f50
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Mon Dec 17 13:37:16 2012 -0500

    modules_k/drouting: documentation updates for mi -> rpc command migration

commit d4733ab7e27be0cf472db7157dcdbe6390e269b6
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Mon Dec 17 13:04:42 2012 -0500

    drouting: mi commands migrated to rpc

commit 745e44e7555d0df789ecfae3b460650a43ecbf8c
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Mon Dec 17 12:04:49 2012 -0500

    module_k/db_text: making some error probes visible

commit b7f51d5d2b24063037ae18e82fb046b066cc52a0
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Mon Dec 17 12:03:11 2012 -0500

    modules_k/db_text: documentation updates for db_text.dump rpc command

commit 82a03cb5af01c1275bc9a1664643cf3645c4b87a
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Mon Dec 17 12:01:49 2012 -0500

    modules_k/db_text: new rpc command 'db_text.dump'
     - allows forcing a write back to disk for modified tables

commit 5ece7e315ee8d3c3529eed94179fcb4e08d41c66
Author: Richard Fuchs <rfuchs@sipwise.com>
Date:   Mon Dec 17 11:56:24 2012 -0500

    parser/digest: use next_sibling_hdr() instead of hand-rolling it

commit 624a9bbf777a1c1d44400eec78911a9714872977
Author: Richard Fuchs <rfuchs@sipwise.com>
Date:   Sun Dec 16 15:06:32 2012 -0500

    parser/digest: Fix hunting for Auth header in rare cases
    
    Fix a bug where find_credentials() would fail to find the correct
    Auth header when multiple headers are present, the one being looked
    for isn't the first and the full message had been parsed already.

commit 3cfaf089c1472f1397580a365360579c671c7796
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Fri Dec 14 13:55:39 2012 -0500

    xhttp_pi: properly handle NULL values

commit ec617a27352ba719184cf617bb564631d5152df5
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Fri Dec 14 13:47:08 2012 -0500

    xhttp_pi: fix query operation for db w/o fetch support (like db_text)

commit 7fc74e46a5d5b4e2b0cbbe5bdc1627e672867164
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 14 00:43:04 2012 +0100

    dialog(k): reset default value for optional parameter
    
    - some rpc transports set a static string for missing optional
      parameters, causing invalid value
    - dlg.bridge_dlg proper handling of optional parameters return code

commit 840d23197e91c70f7b02072e144ec396f5f8f386
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 14 00:20:08 2012 +0100

    dialog(k): fixed dlg.end_dlg rpc command
    
    - missing of the optional paramter causes negative return code

commit c1fa174ddc4d499548bdc3d5f75e36125541ade9
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Dec 13 22:52:39 2012 +0100

    modules_s/exec: moved to obsolete directory

commit dab6e5b5af4d7b98553ee620d2f9114d17592c9a
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Dec 13 16:10:31 2012 -0500

    sca: fix regression omitting call-info NOTIFYs on INVITE 200 reply.
    
    - Restore call-info NOTIFY with appearance-state=active when callee answers.
    - Reported by Robert Boisvert.

commit 7e8913d0a8a8f1865777615cdf53f71adfd94baa
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Dec 13 17:48:16 2012 +0000

    pkg/kamailio/(centos|fedora): Added xhttp_pi README to installation

commit 63b5065ccf776ce3bbc5b51f19f72041442467cb
Author: Henning Westerholt <hw@kamailio.org>
Date:   Thu Dec 13 17:47:57 2012 +0100

    xhttp_pi: add missing README

commit 4509d6ce4160083959cd152887c47290a6753889
Merge: 8997007 3198bec
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Dec 13 16:43:15 2012 +0000

    Merge branch 'master' of ssh://git.sip-router.org/sip-router
    
    * 'master' of ssh://git.sip-router.org/sip-router:
      modules/mediaproxy: restrict opening of dispatcher connection

commit 8997007145ad777d9967589cefb1477843541efb
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Dec 13 16:42:29 2012 +0000

    pkg/kamailio/(centos|fedora): Updated kamailio.spec to install xhttp_pi framework examples

commit 3198beccbc2ce350bb0af2a1cedec72ccb7c9277
Author: Juha Heinanen <jh@tutpro.com>
Date:   Thu Dec 13 13:57:46 2012 +0200

    modules/mediaproxy: restrict opening of dispatcher connection
    
    - restrict opening of dispatcher connection to sub-processes (patch
      provided by Emil Kroymann)

commit c837bba9f6808141e6d23daaecdea06fee39fa8a
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Dec 13 11:58:34 2012 +0000

    modules/websocket: Fixed resource leak and infinite loop in websocket module
    
    - Can occur when TCP connections go away without the WebSocket being
      closed properly.

commit 4daf033f3a8e98834cef39d9a339a007f1e1f217
Author: Juha Heinanen <jh@tutpro.com>
Date:   Thu Dec 13 07:56:51 2012 +0200

    modules/tm: updated README on serial forking related vars and functions

commit ca450b4be77150ce23ce825d795d697b4dea808f
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Wed Dec 12 17:33:56 2012 -0500

    xhttp_pi: install framework samples

commit c3c84162a96f6ff110c575d151543ec28b827752
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Wed Dec 12 17:10:01 2012 -0500

    xhttp_pi: new target for makefile to generate framework templates

commit c976e9e0f360da6696eefdc5b39bf019b004d3f4
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Wed Dec 12 17:07:34 2012 -0500

    xhttp_pi: generate templates for all kamailio tables

commit aa8e96f45c875b714336d121a3f89ba8e381030d
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Dec 12 16:09:20 2012 +0000

    pkg/kamailio/(centos|fedora): Updated .spec file
    
    - Added mangler module to build
    - Tidied up make commands used to build and install

commit 1c36a534096e6ba37395e2ce1676526a02d1dac3
Merge: 8ec3068 2d53d99
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Dec 12 15:25:53 2012 +0000

    Merge branch 'master' of ssh://git.sip-router.org/sip-router
    
    * 'master' of ssh://git.sip-router.org/sip-router:
      modules/tm: forgot to commit new version of t_funcs.c

commit 8ec30688617a260d478402e59ef465c69e8247d9
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Dec 12 15:24:38 2012 +0000

    parser/sdp: Fixed double free
    
    - Found and fixed by Hugh Waite @ Crocodile RCS

commit 2d53d99abcf9ae218fa547d572aee3f55dbba79b
Author: Juha Heinanen <jh@tutpro.com>
Date:   Wed Dec 12 17:03:42 2012 +0200

    modules/tm: forgot to commit new version of t_funcs.c
    
    - reported by Peter Dunkley.

commit 9c7edfe9edc02ea8b62c40349262b035f0b21510
Author: Juha Heinanen <jh@tutpro.com>
Date:   Wed Dec 12 16:59:12 2012 +0200

    modules/tm: forgot to commit new version of t_funcs.h
    
    - reported by Peter Dunkley.

commit 74a9baf6fd2903efc874edc48dd99d6a11afc83b
Author: Juha Heinanen <jh@tutpro.com>
Date:   Wed Dec 12 16:11:50 2012 +0200

    modules/tm: added outbound support to t_load_contact()/t_next_contacts()
    
    - added new function t_next_contact_flows()
    - readme not updated yet

commit 89ac4ae40234e02d71f619c2f750ed34333c9d5d
Author: Juha Heinanen <jh@tutpro.com>
Date:   Wed Dec 12 16:10:34 2012 +0200

    modules_k/registrar: lookup now handles also instance and reg_id

commit 55e7820686cbfb6392e707e0ee4fae96b22670bb
Author: Juha Heinanen <jh@tutpro.com>
Date:   Wed Dec 12 16:06:52 2012 +0200

    parser: added instance and reg_id fields to sip_msg_t
    
    - also added set_instance and reset_instance functions

commit dccf5ede42eaf2b2f030d8c5a730418ce0517ec2
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Dec 12 11:08:45 2012 +0100

    core: added comments to xavps structures

commit bb1894ed7b868862402a63b858f52165d5deb463
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Dec 11 22:39:01 2012 +0100

    modules_s/mangler: moved to common modules directory

commit a4b0267cd57255a2f5c24bf466181e592841b6f7
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Dec 11 22:36:14 2012 +0100

    modules_s/eval: unused module moved to obsolete directory
    
    - use core config expressions

commit 5028c86d306a3f9ccec6e46d1fcf5f6a03f1d6ee
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Tue Dec 11 22:17:14 2012 +0100

    modules_s/options: moved to obsolete/ folder

commit 47a9b7cf8b0d9f178f8905afc9434f0cd2d8f2f1
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Tue Dec 11 21:44:45 2012 +0100

    modules_s/speeddial: moved to obsolete/ folder

commit fc486d312ea11b6ff26c091e8649d9fe2228f931
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Tue Dec 11 21:30:41 2012 +0100

    modules_s/uac: moved to obsolete/ folder

commit cc9b6cad1130891c54b94b44bebb2b6cdf397b1a
Author: Konstantin Mosesov <ez@voipgroup.org.ua>
Date:   Tue Dec 11 16:29:30 2012 +0200

    mod_python: Changed Loggers.py to use recent changes (python abstraction layers).

commit 63f0618dd47975afafb7757fe9e156534f05d468
Merge: 230919a 669dc7b
Author: Konstantin Mosesov <ez@voipgroup.org.ua>
Date:   Tue Dec 11 16:08:25 2012 +0200

    Merge branch 'master' of ssh://git.sip-router.org/sip-router

commit 669dc7b72f76af715b2f34a0fbe64350202f8aff
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Dec 11 14:57:24 2012 +0100

    modules_s/msilo: moved to obsolete folder

commit 230919ad2e414f0c070a710cb85b3b2b3dfea741
Author: Konstantin Mosesov <ez@voipgroup.org.ua>
Date:   Tue Dec 11 14:24:08 2012 +0200

    app_python: Moved all python scripts to 'python_examples' folder.
    app_python: Applied a few recent patches for better stack trace.
    app_python: Fixed a possible segfault on double free.
    app_python: Added python abstraction layers Router.Core, Router.Ranks, Router.Logger.
    app_python: Moved all logging stuff to layer Router.Logger, e.g., Router.Logger.LM_ERR(...).
    app_python: Added 'ranks' constants and moved to Router.Ranks, e.g., Router.Ranks.PROC_MAIN.

commit 5a3bc7a8f37a16f8194d117b7642ee532ee9e177
Author: Olle E. Johansson <oej@edvina.net>
Date:   Tue Dec 11 09:04:29 2012 +0100

    debugger: Minor README edits

commit 27d02adf7bd3405cd67d2331ab7aa05b53d97c50
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Dec 10 17:08:51 2012 -0500

    sca: ignore transport parameter in RURI when processing SUBSCRIBEs.
    
    - Fix AoR hash lookups when client subscribes over TCP, TLS or SCTP.
    - Report from Robert Boisvert.

commit 7a86ec5e7f9d4ef6a72da741b336c909109f3c88
Author: Olle E. Johansson <oej@edvina.net>
Date:   Mon Dec 10 13:55:13 2012 +0100

    ratelimit: Adding a reference to the pipelimit module in README

commit 4ff67e61e5b94fd5c842cf94b71dd723d41e7bf1
Author: Juha Heinanen <jh@tutpro.com>
Date:   Mon Dec 10 11:26:25 2012 +0200

    modules_k/usrloc: added +sip.instance and reg-id to mi_usrloc_show_contact

commit 4f8d9b589df0c40f88fb34658f3735a222b0f545
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Dec 9 20:01:55 2012 +0000

    pkg/kamailio/(centos|fedora): Updated .spec
    
    - Changed rel to dev7
    - Moved xlog from modules_k to modules
    - Added avp, sca, and xprint modules

commit a3ad00fea92f54aacf2425a0c2aaa9f78046d38e
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Sat Dec 8 18:22:15 2012 +0100

    modules_s/pdt: moved the module to obsolete folder
    
    - pdt(k) has support for multidomain

commit bfa4d86a7a18b321a14b65c90d32c5aed32c10d3
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Sat Dec 8 14:20:43 2012 +0100

    pdt(k): added pdt.list command to dump memory structure via rpc

commit 6904d8c80b2089d01a69c3c0217c76c8e0132bac
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Sat Dec 8 14:19:30 2012 +0100

    dispatcher(k): use the right pointer to rpc context

commit ad5cbdc7aa6156e072f0dd859421fc36b66227c0
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sat Dec 8 18:19:43 2012 +0100

    ratelimit: Typo fixes, minor edits

commit 181561c7dc50c0c4e6ac84b53b33d8a5bc6dd053
Author: Juha Heinanen <jh@tutpro.com>
Date:   Sat Dec 8 16:09:40 2012 +0200

    modules_s: migrated append_branch in cpl-c, exec, and registrar modules

commit e8210c30ef79a5a6f6fa88a2cb47bf29ca50bfe0
Author: Juha Heinanen <jh@tutpro.com>
Date:   Sat Dec 8 16:00:34 2012 +0200

    modules_k/pv: fixed compilation error in define
    
    - removed extra ';' from km_append_branch define
    - thanks to Daniel-Constantin Mierla for reporting

commit 440bcec4b5694ac79cd8dfb134defd472e96c60e
Merge: 1cfa90d ca7b188
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sat Dec 8 14:12:15 2012 +0100

    Merge branch 'master' of ssh://git.sip-router.org/sip-router
    
    Sorry, still can't fix this. Working on it. :-)
    * 'master' of ssh://git.sip-router.org/sip-router:
      core: restored USER_AGENT and SERVER_HDR defines

commit 1cfa90d171a72ad5e2b224ae0d6f2eb92d3eeb55
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sat Dec 8 14:10:48 2012 +0100

    nathelper: add force_socket documentation (moved from rtpproxy module)
    
    The rtpproxy module did not have a force_socket parameter, but  nathelper did.

commit ca7b18825ed478b2d23a092f681939a233183003
Author: Juha Heinanen <jh@tutpro.com>
Date:   Sat Dec 8 14:44:38 2012 +0200

    core: restored USER_AGENT and SERVER_HDR defines
    
    - they were changed by accident by previous commit

commit 571e4e3fceeff5b4d32d1ac34649e9c4031d6543
Author: Juha Heinanen <jh@tutpro.com>
Date:   Sat Dec 8 14:17:46 2012 +0200

    core and several modules: instance and reg_id in branch_t
    
    - added instance and reg_id fields to branch_t
    - added instance and reg_id arguments to append_branch function
    - modified append_branch calls in core and several modules
    - did not touch obsolete or modules_s modules (which are to be
      removed from next release)

commit 21b42fc14562758ac1dec5946a7b07a127054f47
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 7 23:28:40 2012 +0100

    modules_s/dialog: moved to obsolete folder

commit d560a18e44a9822fb1afa7f2047c82338838962e
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 7 23:26:33 2012 +0100

    modules_s/fifo: moved to obsolete

commit 46f2a4300c1d9d96057d239dda1dc24c7caaf4d8
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 7 23:25:49 2012 +0100

    modules_s/unixsock: moved to obsolete folder

commit 04d77c20b80337019f71228dd0d9efe30d62db60
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 7 23:17:11 2012 +0100

    modules_s/dispatcher: moved to obsolete folder

commit f817987eb7f50de7f6d0666620c6bb7fb50462fd
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 7 23:14:53 2012 +0100

    modules_s/osp: moved to obsolete folder

commit a40cea9f419b25aaeaabcd550ccf9106e9a029d7
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 7 23:13:25 2012 +0100

    modules_s/xcap: moved to obsolete directory

commit 8d70ccaf18683c0d594a00e804f5f43df2f50b7d
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 7 23:08:11 2012 +0100

    presence_b2b: moved to obsolete directory

commit 860c45f34190b57adfade0539f807fb1134662f9
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 7 22:56:24 2012 +0100

    modules_s/diversion: moved to obsolete
    
    - modules_k/diversion is including its features and some extra ones

commit a1c1fb0ab72a51fcfa9907e53e2b14cb79fdddc0
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Dec 7 22:53:21 2012 +0100

    modules_s/dbtext: moved to obsolete directory
    
    - not maintained, it does not compile

commit 08c872ed6935396cd6ea87af52af6393987d6d7d
Author: Juha Heinanen <jh@tutpro.com>
Date:   Fri Dec 7 02:05:49 2012 +0200

    modules_k/registrar_k: added check that reg-id is not zero

commit d684d1ac49f740d32df5f82add584aeb396e26a4
Author: Juha Heinanen <jh@tutpro.com>
Date:   Fri Dec 7 01:33:52 2012 +0200

    modules_k/registrar: ignore reg-id if instance-id is not included

commit 5d3e8b9ff526246a8abe768a1d970dce70658dbe
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Wed Dec 5 16:59:50 2012 -0500

    sca: update sample kamailio.cfg in README with small CANCEL fix.
    
    - Reported by Robert Boisvert

commit 86c499e249bf43571d1cebca08821d30bff12dad
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Wed Dec 5 16:22:47 2012 -0500

    sca: add missing braces for CANCEL handling in sample config.
    
    - t_check_trans() if-block for CANCEL had no braces, but needs them
      after addition of route(SCA) before t_relay of CANCEL.
    - Reported by Robert Boisvert

commit 69dec26c718928f2cfc08bbae98658e145f8b04b
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Dec 5 21:00:45 2012 +0100

    modules_s/textops: updated path to xprint module

commit e722ab91eb90003741d236a9fecc6bbe954e21d3
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Dec 5 20:59:27 2012 +0100

    modules_s/eval: updated path to xprint module

commit ff7bd782a6e5f4c18f15ac429af313b54be38936
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Dec 5 20:55:17 2012 +0100

    modules_s/db_ops: path to xprint module updated

commit 556c1e19ae5fd6139c6b0d7d3a5055d949583438
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Dec 5 20:47:25 2012 +0100

    modules/avp_db: moved back to modules_s/ because it depends on local domain module

commit b17e84ad3e5f781b83b1a8a80572ea4d24835b56
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Dec 5 20:37:39 2012 +0100

    modules_s/avp_db: moved to modules/avp_db

commit 171f3dcf4287b7104a47b75e125174c374a457d5
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Dec 5 20:34:25 2012 +0100

    modules_s/avp: moved to modules/avp

commit 66840add8c37c110a8d08674f6a5f42d75a40287
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Dec 5 20:33:40 2012 +0100

    modules_s/xprint: moved to modules/xprint

commit 3d9ee6962f1ceeacbffd903064aa0779199f7ee6
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Dec 5 20:32:29 2012 +0100

    modules_k/xlog: moved to modules/xlog

commit d91d49a026aba9092e9feda1d561d03c32f37e6d
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Dec 5 20:25:16 2012 +0100

    modules_s/osp: internal occurences of xlog changed to xprint

commit 1d76de2a046e0d978e0b0155008dbed75dfc1067
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Dec 5 20:24:54 2012 +0100

    modules_s/ldap: internal occurences of xlog changed to xprint

commit c560c7a6d0eeba3231e9f7caa0b5135160f75efe
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Dec 5 20:24:36 2012 +0100

    modules_s/timer: internal occurences of xlog changed to xprint

commit 7cf360fd63904e70441470f50164352b8867c9bd
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Dec 5 20:24:21 2012 +0100

    textops: internal occurences of xlog changed to xprint

commit 4c5c75ee46c38d47e01839eb6f1a8bc73441a507
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Dec 5 20:24:02 2012 +0100

    modules_s/permissions: internal occurences of xlog changed to xprint

commit f74575e551672d4defd2d7d34ef29cf285bcf9ec
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Dec 5 20:23:26 2012 +0100

    modules_s/eval: internal occurences of xlog changed to xprint

commit 307a97dbd735e0a337b1019a6309c14e260f25c9
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Dec 5 20:23:00 2012 +0100

    modules_s/avp_db: internal occurences of xlog changed to xprint

commit cf49d5daf9a29c44224472ae52bd7a6017cfbeee
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Dec 5 20:22:25 2012 +0100

    modules_s/db_ops: internal occurences of xlog changed to xprint

commit 6909bcae92e5f50fc247fd46eaf4b2b71d295c6b
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Dec 5 20:21:39 2012 +0100

    modules_s/avp: internal occurences of xlog changed to xprint

commit 5144b151340da72272c0272bd0f45d0d4864173c
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Dec 5 19:58:34 2012 +0100

    modules_s/xprint: more of xlog rename to xprint

commit 948558abe33913fefd44d7601a14bac3d8594871
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Dec 5 19:13:39 2012 +0100

    modules_s/xprint: internal log messages updated to reflect module name

commit 5e2290c6625049ea42eaccc21c8686756f3a4156
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Dec 5 19:11:31 2012 +0100

    modules_s/textops: bind to xprint API

commit 1a1337be4b9f2612375488d072301f43ce71e91c
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Dec 5 19:11:05 2012 +0100

    modules_s/eval: updated for xlog(s) to xprint rename

commit 88b7ea9f926605c98676dd6b039965dff295d9c7
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Dec 5 19:09:37 2012 +0100

    modules_s/db_ops: use xprint module instead of xlog

commit ceb2d50ff29d8b9f95660e4b520f458bb74853e2
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Dec 5 19:09:04 2012 +0100

    modules_s/avp: switched to usage of xprint module

commit c26533bb2b7f06e72366f2d920dc1e63d3eb159f
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Dec 5 19:03:25 2012 +0100

    modules_s/xprint: update defined value in header file

commit 3a1625d021d9ee46ad7beeb49c9d5ae2c933f970
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Dec 5 19:00:10 2012 +0100

    modules_s/xlog: renamed to xprint
    
    - the modules is used by other ser modules for evaluation of strings
      with %spec specifiers
    - for printing log messages, better use the xlog module from now on
    - xlog/xdbg functions are now xplog/xpdbg

commit 6d0f635b0bbf338fca0ddc2c7d8e79bc686e5040
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Wed Dec 5 14:00:12 2012 -0500

    sca: modify SCA_STR_EMPTY macro to fix -Waddress compiler warnings.
    
    - Reported by Ovidiu Sas

commit c8772fc3eea75f5caad64770c6bbe6823ad7f1ef
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Wed Dec 5 13:24:20 2012 -0500

    modules_s/domain: remove unused variable

commit 753d1d885d7c2f0e1a30df939455fcb4349a7506
Author: Ovidiu Sas <osas@dbn>
Date:   Wed Dec 5 13:17:23 2012 -0500

    modules_s/registrar: remove unused variable

commit 96c39e3c31f416bbe42b434a8bbf3ece88a8ab52
Author: Ovidiu Sas <osas@dbn>
Date:   Wed Dec 5 13:12:02 2012 -0500

    qos: remove unused variable

commit 263aae0a48f3a92a0e8c0ce43a7d6f610ea8a239
Merge: 8b73129 e819eaa
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Dec 5 15:13:48 2012 +0000

    Merge branch 'master' of ssh://git.sip-router.org/sip-router
    
    * 'master' of ssh://git.sip-router.org/sip-router: (268 commits)
      xcap_client: fix cross-compilation
      utils: fix libcurl dependency
      core: print debug message instead of info message when trying to resolve    something that is not domain name.
      Makefile: adding xhttp_pi to the list of excluded modules (depends on libxml2)
      xhttp_pi: fix installation of the pi_framework.xml file
      sca: fix DB updates
      sca: sca_subscription_print now logs at debug level
      tls: fix cross-compilation
      Makefile: fixed the option of setting some variables from command line
      Makefile.defs: version set to 3.4.0-dev7
      Makefile: default FLAVOUR set to kamailio
      sca: more cleanup of SCA example kamailio.cfg
      sca: include sample kamailio.cfg in docs, update function examples
      sca: move working example SCA kamailio.cfg to doc subdirectory
      app_python: better printing stacktrace
      app_lua: fix cross-compilation
      app_python: expand log facilities
      sca: remove public IP from example cfg
      sca: add working example kamailio.cfg
      carrierroute: fix cross-compilation
      ...

commit e819eaa0b0be61b3a818422c0ced244b5250295c
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Wed Dec 5 09:23:45 2012 -0500

    xcap_client: fix cross-compilation

commit a1e462c1695013d3c74e1c1ec443df7697bb6607
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Wed Dec 5 09:16:15 2012 -0500

    utils: fix libcurl dependency

commit 87456bae50b55501c25f33a6728f4469639e0599
Author: Juha Heinanen <jh@tutpro.com>
Date:   Wed Dec 5 10:26:29 2012 +0200

    core: print debug message instead of info message when trying to resolve
       something that is not domain name.

commit 205e8545dca12bebf742b23eba592d2713623a66
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Tue Dec 4 17:03:15 2012 -0500

    Makefile: adding xhttp_pi to the list of excluded modules (depends on libxml2)

commit 7a63bbed0ccc1a2a85b26d127e775f832efaa2a7
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Tue Dec 4 16:18:12 2012 -0500

    xhttp_pi: fix installation of the pi_framework.xml file

commit 5871982d3c76a4b42cd05e4b8dfb0e6128acb799
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Dec 4 17:04:11 2012 -0500

    sca: fix DB updates
    
    - if a subscription were updated before being inserted into the DB, the
      next DB sync call would incorrectly try to UPDATE instead of INSERT.
    - no effect on SCA functionality, but subscriptions are no longer lost
      across restarts.

commit a289c6167f39f14af85d78392a8bef91da81d858
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Dec 4 16:47:39 2012 -0500

    sca: sca_subscription_print now logs at debug level
    
    - previously logged at info level for every incoming SUBSCRIBE.

commit 389bbe3410018e6d58befb486f0db2ec4ff7ece6
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Tue Dec 4 15:58:03 2012 -0500

    tls: fix cross-compilation

commit e5dbe686bcbf15ac59ebbcb84f3bb9b17568c030
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Dec 4 21:59:16 2012 +0100

    Makefile: fixed the option of setting some variables from command line
    
    - resulted in mixing names for config files
    - issue added in previous commit
    - reported by Ovidiu Sas

commit 94dde4a5b0f146914d124367ef73c5940cbb7d97
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Dec 4 10:48:23 2012 +0100

    Makefile.defs: version set to 3.4.0-dev7

commit 4af2262b88918c316ee3bb9b45a716504f2f8db4
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Dec 4 10:28:03 2012 +0100

    Makefile: default FLAVOUR set to kamailio
    
    - switching to the flavour with packages and docs

commit b8007d985660b4df5ea9d5ea4347adf65b7f90fa
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Dec 3 23:59:50 2012 -0500

    sca: more cleanup of SCA example kamailio.cfg
    
    - remove unused xhttp event route

commit a635a80df762e13373ad59a6d746530c2163c2a6
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Dec 3 23:59:51 2012 -0500

    sca: include sample kamailio.cfg in docs, update function examples

commit 0a2fc3f7490088b02861d9dace0f039ceab54af7
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Dec 3 23:59:49 2012 -0500

    sca: move working example SCA kamailio.cfg to doc subdirectory
    
    - will also be included in README and xml docs for convenience.

commit 97fe5fec90999491d455b10b1fea7529e786719b
Author: Konstantin M <evilzluk@gmail.com>
Date:   Mon Dec 3 22:35:21 2012 -0500

    app_python: better printing stacktrace

commit d41c9a91afdd7a5a2c5e689f3302211c6bbeffb6
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Mon Dec 3 18:39:19 2012 -0500

    app_lua: fix cross-compilation

commit acbeda46ac94e6c5c215a03bd803e10b2c7540db
Author: Konstantin M <evilzluk@gmail.com>
Date:   Mon Dec 3 18:26:36 2012 -0500

    app_python: expand log facilities

commit 5b63e94e49feb0a35b093a5eb3a86c9e5c1a0ba7
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Dec 3 17:15:47 2012 -0500

    sca: remove public IP from example cfg

commit c40883a7aa96a1a7fab1060bf9dfab2987971c89
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Dec 3 17:14:14 2012 -0500

    sca: add working example kamailio.cfg

commit f9c0980c4f85d8b728eb36e6b5768173750c6964
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Mon Dec 3 12:55:25 2012 -0500

    carrierroute: fix cross-compilation

commit 175934a802cf863f26f84f9e11a2eec4606ecfd1
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Mon Dec 3 08:43:01 2012 -0500

    db_postgres: fix cross-compilation

commit e09b92893fd35baf672541143951337b103bb65b
Author: Olle E. Johansson <oej@edvina.net>
Date:   Mon Dec 3 08:10:34 2012 +0100

    mqueue: README update

commit c29773967e83c4b3977b76a43805dd622bc018a9
Author: Olle E. Johansson <oej@edvina.net>
Date:   Mon Dec 3 08:06:27 2012 +0100

    mqueue: minor edits to README

commit 287c02de1491019fbf085742b82fc7040ea72886
Author: Olle E. Johansson <oej@edvina.net>
Date:   Mon Dec 3 08:01:06 2012 +0100

    corex: minor documentation edits

commit 6a45c8eba310afa9b8173c0522d77e7a574ddc52
Author: Konstantin M <evilzluk@gmail.com>
Date:   Sun Dec 2 22:21:05 2012 -0500

    app_python: fix compiler warnings
     - patch provided by "Konstantin M <evilzluk@gmail.com>"

commit 10fc575cc383093953d71c69e8d9a0065f33bdfe
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sun Dec 2 16:00:17 2012 -0500

    lcr: fix cross-compilation

commit 291df73af6f35526e4c43c1c7d8b8ea15e93aa64
Merge: 9b67242 e1faa05
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Dec 2 21:27:22 2012 +0100

    Merge branch 'master' of ssh://git.sip-router.org/sip-router
    
    * 'master' of ssh://git.sip-router.org/sip-router:
      xcap_server: fix cross-compilation
      regex: fix cross-compilation
      pua_xmpp: fix cross-compilation
      pua_usrloc: fix cross-compilation
      pua_reginfo: fix cross-compilation
      pua_dialoginfo: fix cross-compilation
      pua_bla: fix cross-compilation
      pua: fix cross-compilation
      presence_xml: fix cross-compilation
      presence_reginfo: no need to link against libxml2

commit 9b67242978cb6aab702ccf4715e9152ac8f719c8
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Dec 2 21:26:54 2012 +0100

    auth: README update

commit 25600feab7d5d3b30420a05fd4c899f0bbbff667
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Dec 2 21:24:13 2012 +0100

    auth: Documentation corrections

commit e1faa0591c05482be95eb81016c37b9a5be57d14
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sun Dec 2 15:09:24 2012 -0500

    xcap_server: fix cross-compilation

commit 50f4cd86ccebab713c2b9895cdffbd619e84955e
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sun Dec 2 15:07:28 2012 -0500

    regex: fix cross-compilation

commit beb3425e309b0f7d1b2bccee942c35f541a2dd7d
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sun Dec 2 14:53:44 2012 -0500

    pua_xmpp: fix cross-compilation

commit c9d7fc58a19afdeb77fb3b496068d3f79ef95c67
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sun Dec 2 14:52:16 2012 -0500

    pua_usrloc: fix cross-compilation

commit e5a49d909d582fe601cabbccf4f9ce2efa814414
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sun Dec 2 14:47:33 2012 -0500

    pua_reginfo: fix cross-compilation

commit 417c7d9f4ba5e709e8bf65aa413584ad2bcae277
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sun Dec 2 14:44:52 2012 -0500

    pua_dialoginfo: fix cross-compilation

commit d4f5465efae12c0ef66cb519ece3b3558b10ea5f
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sun Dec 2 14:42:19 2012 -0500

    pua_bla: fix cross-compilation

commit 528d518494c73883fd77acd8e438bb16d2de5d3e
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sun Dec 2 14:38:42 2012 -0500

    pua: fix cross-compilation

commit d749894cae84112b4ffcc47d385d877961787a46
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sun Dec 2 14:35:15 2012 -0500

    presence_xml: fix cross-compilation

commit 8a5164c47ac85e87dd092eb2ac56c0161759861c
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sun Dec 2 13:56:36 2012 -0500

    presence_reginfo: no need to link against libxml2

commit 3aa1929ac18d747b24a14b6e9f6decbf7ed1a137
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sat Dec 1 23:27:44 2012 -0500

    presence_conference: fix cross-compilation

commit b19700f17de38e1bffd93bbbd897044e0c696d40
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sat Dec 1 23:25:50 2012 -0500

    presence_dialoginfo: fix cross-compilation

commit 46ce25ceda08916a355328682768699b6cff4d36
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sat Dec 1 23:24:06 2012 -0500

    presence: fix cross-compilation

commit 5ffd8eda41567f12c7224d68e32a1a20779d22a6
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sat Dec 1 23:21:44 2012 -0500

    rls: fix cross-compilation

commit 58bfbd3259587b29b7b509a360aa889924dec8de
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sat Dec 1 23:18:47 2012 -0500

    cpl-c: fix cross-compilation

commit bc9dca0a9d05915a0f4634b7014b26958e81e21b
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sat Dec 1 16:59:56 2012 -0500

    db_mysql: fix cross-compilation

commit c31fd10ee20ff09115ae745792db4a0e03eb9e07
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sat Dec 1 16:54:38 2012 -0500

    cdp: un-used variable commented out

commit 8321d1fadb50017b52bcfebd1857982a60915dfe
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sat Dec 1 16:52:19 2012 -0500

    cdp: fix cross-compilation

commit e45d706ba82ff9a36602cc7c2a28a55502abf99f
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sat Dec 1 16:46:10 2012 -0500

    xhttp_pi: fix cross-compilation

commit 7abf33373b0bfa0bc709286b01e9a7da2200659b
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sat Dec 1 16:42:15 2012 -0500

    dialplan: fix cross-compilation

commit 8b6f3c51d7636905ea8a6f4754673ba569404cd7
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sat Dec 1 16:38:16 2012 -0500

    cdp_avp: there's no xml dependecy for cdp_avp

commit 10de949af0f9f01b0585db0fd53d53452f97e067
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sat Dec 1 11:18:08 2012 +0100

    sqlops: Fixing typo in documentation, minor edits

commit 99521dafd452e56d7974fcbf8c32bd3679ccc4c9
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sat Dec 1 11:05:57 2012 +0100

    pua_usrloc: Minor edits, typo fix

commit fe6508d6d56a7f739c7fc0ae2220e509abb337e1
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sat Dec 1 10:49:11 2012 +0100

    sdpops: Typo fix, minor edits

commit a7522f0d648470e36a82357660fc169628b2f506
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sat Dec 1 09:50:31 2012 +0100

    utils: Minor update to README
    
    XML changes already committed.

commit 4fda56162c3b174033ea81ffd7c2af4a6e7f10f2
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sat Dec 1 01:30:24 2012 -0500

    xmlrpc: fix cross-compilation

commit c4b91489ac3f2e2fcbe16413f56ef8cb8e7e2dde
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sat Dec 1 01:28:03 2012 -0500

    utils: fix cross-compilation

commit a419c74d065156a2c9626b2475beaf08e130137e
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sat Dec 1 01:24:24 2012 -0500

    xmlops: fix cross compilation

commit 983dd207a51be5ea2bd2a71d546280f8e4389408
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Sat Dec 1 00:12:34 2012 -0500

    kamailio.cfg: adding xhttp modules to the default config
                  three new defines: WITH_XHTTP, WITH_XHTTP_RPC, WITH_XHTTP_PI

commit 209317a81d845ba781964205242849ab12bbc0c2
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Nov 30 21:38:48 2012 -0500

    sca: fix snprintf buffer size for Expires header in replies to SUBSCRIBE.
    
    - reported by Robert Boisvert.

commit 8632a265c3703e19cad9253f84527a913ee9cdd5
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Nov 30 14:42:19 2012 -0500

    sca: support Record-Route
    
    - Save Record-Route values from SUBSCRIBEs to ensure NOTIFYs traverse
      correct path to subscriber.
    - Update SCA DB schema & creation scripts: add record_route column,
      increment sca_subscriptsion table version.

commit 1da2a76be4e374ddb4296a1d54963fe344dc0970
Author: Richard Fuchs <rfuchs@sipwise.com>
Date:   Fri Nov 30 14:00:09 2012 -0500

    core/corex: move send()/send_tcp() to corex module
    
    As suggested by miconda on sr-dev, move send() and send_tcp() out of core
    and into the new corex module in order to make them support pseudo variables.
    This changes:
    
    - drops SEND and SEND_TCP tokens from config parser
    - remove related config parser code relying on SEND_T and SEND_TCP_T
    - augment corex module to provide the functions removed from core
    - update corex docs

commit 3376e3b8c54a7c9bc13f87368baeaaa145a9ced5
Author: Olle E. Johansson <oej@edvina.net>
Date:   Fri Nov 30 09:31:47 2012 +0100

    htable: Update documentation on mod-init
    
    Based on Daniel's answer in sr-dev on a question about lua. The Lua environment
    is initialized in child processes, so it's not reachable in mod-init.

commit cf97967489f1b61c5bf0a841f9f650e40fc9911e
Merge: d02070d 514875d
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Nov 29 22:01:05 2012 +0100

    Merge branch 'master' of ssh://git.sip-router.org/sip-router
    
    * 'master' of ssh://git.sip-router.org/sip-router:
      kamctlrc: adding sca to the list of extra modules

commit d02070dbef121525b320487d4ad2fbfda55aa62d
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Nov 29 22:00:19 2012 +0100

    ipops: Minor documentation changes
    
    Use the IPv6 documentation address in examples if possible - 2001:DB8::/32

commit 514875de53e19cfd4a208da3d778e454ce12a6f4
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Thu Nov 29 15:42:26 2012 -0500

    kamctlrc: adding sca to the list of extra modules

commit 14333d9360273c073473c144c198496a314e2e73
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Nov 29 21:18:14 2012 +0100

    utils: Fixing typos
    
    Typos that I missed in the first check...

commit 1ab39cf866600ce155db3d5454981167d001d285
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Nov 29 21:15:53 2012 +0100

    utils: Minor documentation changes

commit 010ea5d4b71308cb18cd759db70ac48f081a672e
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Nov 29 20:52:27 2012 +0100

    LDAP minor documentation changes

commit aca01e149445a0c6f87a9ed97974bcba612e426f
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Thu Nov 29 09:57:48 2012 -0500

    sca: adding missing sca db utils files

commit cc3bc9669a2c528db9a8ada5e13cd553be9d2f1e
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Wed Nov 28 23:23:48 2012 -0500

    sca: remove old SQL table creation file
    
    - use make dbschema to generate sql from xml table schema instead.

commit 7575c853b1786fc09965238ea68bca4400bd7c5f
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Wed Nov 28 22:50:30 2012 -0500

    sca: add db schema files and kamctl table create SQL file.

commit eddd6b80432a3feda925ccb629bf55892d4b175f
Author: Olle E. Johansson <oej@edvina.net>
Date:   Wed Nov 28 12:02:53 2012 +0100

    group: Minor changes to documentation

commit 7b5f56e05482ea060dc1c093db599fd8cda22f9e
Merge: 2536a10 358cfb7
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Nov 27 15:13:21 2012 -0500

    Merge branch 'master' of git+ssh://git.sip-router.org/sip-router

commit 2536a10c516b7c569d04e431b74bbd88964603a7
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Nov 27 14:06:23 2012 -0500

    sca: fix potential leak of parsed To body
    
    - if msg->to wasn't parsed, sca_subscription_from_request called parse_to,
      but never called free_to_params.
    - make the subscription to-tag independent of the parsed to_body with a
      pkg_malloc'd copy, freed in the caller.

commit 358cfb781a4854a3943b96ede552e46ccb1ccc77
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Tue Nov 27 13:28:03 2012 -0500

    modules_k/dmq: add newline at end of file (peer.c)

commit 9ef5345481a526e2417ce59ebc13f19132e02934
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Tue Nov 27 13:25:12 2012 -0500

    modules/tm: add newline at end of file (test.c)

commit 777c3e3e388f4267744cd5368956900cea296b07
Merge: 141fc56 5908a9e
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Nov 27 00:32:43 2012 -0500

    Merge branch 'admorten/sca'

commit 5908a9e88242a166c71b03bce77b326c2f27f5a6
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Nov 27 00:28:28 2012 -0500

    sca: move to modules directory
    
    - moved after removal of usrloc dependency per miconda's request on sr-dev

commit 95cf6e358b2be210b61e6d060df0604e3e36a043
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Nov 27 00:24:11 2012 -0500

    sca: update docs
    
    - "domain" modparam no longer required.
    - usrloc no longer a dependency.

commit 959b2c423a70395c97437d0bcef7950762c4a9b5
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Nov 27 00:09:06 2012 -0500

    sca: remove dependency on usrloc.
    
    - usrloc callbacks in practice were only useful for expired
      registrations, and even in that case our expired subscription
      timer is likely to have purged the stale subscription.

commit 141fc56f5a46f26e40e8e19e4f5eb02844d192d7
Author: Ovidiu Sas <osas@voipembedded.com>
Date:   Mon Nov 26 23:18:02 2012 -0500

    socket_info: add #include "linux/types.h"

commit 0af64c92263b82dc4b487c4da5199c8b150b0517
Author: Andrew Mortensen <admorten@umich.edu>
Date:   Mon Nov 26 16:50:43 2012 -0500

    sca: eliminate need for "domain" modparam
    
    - Extract domain to be used in idle appearance from subscription AoR instead.

commit 76885b5c67ca7467d6681b81841f0323dca6ab35
Merge: 17d1934 cceb39f
Author: Alex Balashov <abalashov@evaristesys.com>
Date:   Mon Nov 26 08:18:48 2012 -0500

    Merge branch 'master' of ssh://git.sip-router.org/sip-router

commit 17d1934cebd1c96c7f3689be33ccae2a981f6b2c
Author: Alex Balashov <abalashov@evaristesys.com>
Date:   Mon Nov 26 08:17:18 2012 -0500

    dialog(k): Added dlg_set_timeout_by_profile() route script function.
    
    This function allows the same dialog timeout to be set across all
    the dialogs in a profile (with or without values).
    
    The intended use-case is to allow the user to conditionally end or
    expire from tracking a user's/caller's/account's calls.

commit cceb39f9fb8a55ab7e43f4a546d3d524f5acccd4
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Nov 26 14:14:37 2012 +0100

    mem: check debug info only when joining the next packet
    
    - it was checked even it was not freeand not the case for a join

commit 45d8d3ccd943caad37570ae013118536d38a8457
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Nov 26 13:53:22 2012 +0100

    Makefile.defs: version set to 3.4.0-dev6

commit d96401668cefade5e251b101eb93f07faae091ad
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Nov 26 13:51:53 2012 +0100

    Mkefile.defs: default memory manager set to q_malloc
    
    - debug option is left unset (no DBG_QM_MALLOC)
    - lower memory chunk overhead with faster join

commit 15a0b9c23e4b4f829bbb88f73e8042371f3f38a2
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Nov 26 13:42:07 2012 +0100

    Makefile.defs: added MEMMNG to allow selection of memory manager
    
    - MEMMNG=0 => fast malloc is used (f_malloc)
    - MEMMNG=1 => quick malloc is used (q_malloc)
    - MEMDBG is used now to set the debug mode for each of the managers
    	- 0 - no debug info
    	- 1 - debug info enabled

commit 8acb59ee4de31ab76763a021acaf7b5a13e02f23
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Nov 25 21:54:32 2012 +0100

    dialog(k): safety check for callid parameter in mi commands
    
    - if not provided properly, it may result in crash
    - reported by Ricardo Martinez

commit d43fbf2a5a5464a4a499282b88d58a1fc97b9c7e
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Nov 25 16:38:27 2012 +0100

    sanity Sanity-checked spelling. Minor corrections.

commit b8e877889a99b03f190a82acf101681a23ca11d6
Author: Andrew Mortensen <admorten@umich.edu>
Date:   Sun Nov 25 09:09:59 2012 -0500

    Use project-wide gitignore instead.

commit 1dad8ba9cceb4de3131fe358c643833fa20b484f
Author: Andrew Mortensen <admorten@umich.edu>
Date:   Sun Nov 25 09:08:42 2012 -0500

    Remove leftovers from standalone repo.

commit 9e4b7e56f471c7923100905d0221b0d7b19f4949
Merge: a708dcb 579299c
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Sat Nov 24 22:06:22 2012 -0500

    Merge remote-tracking branch 'sca/master' into admorten/sca

commit a708dcb5ad90ec517db481fea0570ec53863b471
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Nov 21 17:22:31 2012 +0100

    lib/kcore: reset time value for faked msg
    
    - reported by Uri Shacked

commit 579299cb8f95512dda6663e963769231887c43de
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Nov 20 23:13:35 2012 -0500

    Regenerated README after fixing typos and documenting more RPC commands.

commit b6cebc5147bf44d85d9c312fb170bb6d6c748c07
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Nov 20 23:10:59 2012 -0500

    Document sca.seize_appearance and sca.release_appearance RPC commands.

commit 38d134a0d34b5335fb7a826585ce08d72d462bcc
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Nov 20 23:08:38 2012 -0500

    Update sca_call_info_update ex. to make clear it should be call for To URIs.

commit 7e29507f68d4fda9b785c35651f1195991fda99b
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Nov 20 23:08:05 2012 -0500

    Fix typo: "line_seize" -> "line-seize"

commit c5fac4809aac489163bcd9c4fbf6636092000f85
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Nov 20 23:41:04 2012 +0100

    kamctl: new command 'db showg'
    
    - uses \G at end of sql query, resulting in line-formated output (at
      least for mysql)

commit 61472e04704e99836743c833eb66c33ea0d81724
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Nov 20 23:10:28 2012 +0100

    sdpops: added sdp_content()
    
    - return true of there is a sdp part in the body of sip message

commit 6df74c2fb208c364b5d50e9d87f80120de93c945
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Nov 20 21:55:51 2012 +0100

    sdpops: internal function w_get_sdp renamed to w_get_sdp
    
    - match the exported name pattern

commit 5d2cba306439adfa36c1e01ccd6473f372ac7e5e
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Nov 19 22:29:24 2012 -0500

    Remove redundant message logged when removing subscriber after failed NOTIFY.
    
    Subscriber removal on failed NOTIFY is currently disabled.

commit 742bc69927eee2df330a85d248144b308aa3a08e
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Nov 19 22:28:17 2012 -0500

    Remove debug log message from usrloc callback.

commit ba394704868ad9e788ca1fb6a3a8e769f91c628a
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Nov 19 22:27:03 2012 -0500

    Make purge expired log message more readable.

commit 6c0f220013450894a2b2076b3414857a8fa0b592
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Nov 19 22:25:55 2012 -0500

    Remove leftover debugging in show_subscription routine.

commit f9b4ef27e5336e235f6f79506ca115f188e6101d
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Nov 19 22:24:57 2012 -0500

    Remove debug log message enumerating subscribers in hash slots on NOTIFY.

commit f76d90abae5fe6a3df4225d54d38170c854f3771
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Nov 19 22:24:02 2012 -0500

    Remove debug log message leftover from early testing.

commit 4ad1c196b5a92ded7aa625db4bf583a2563cf900
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Nov 19 22:22:32 2012 -0500

    Log error when building Replaces header and dialog to replace is not confirmed.

commit 0870c8b926b3ef63d1fb8e20aaf625de375fde7d
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Nov 19 22:18:00 2012 -0500

    Updated with typo fixes from docbook xml.

commit 88c4680aed5a13a33a3c2c3cd6a21d2b2eaf6c9e
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Nov 19 22:12:37 2012 -0500

    Forgot to add doc Makefile to repo.

commit 277dc5ef0233fa95746b7e9556e6e11ee3aa4da4
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Nov 19 22:11:05 2012 -0500

    Fix typos and formatting.

commit 78ba61f271998ca2b6e54cbdd2be5caf47838493
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Nov 19 17:17:44 2012 -0500

    Add simple installation instructions.

commit ce6a9ca274c7d38faba2f1ff49e2f09896a9e6a4
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Nov 19 16:47:06 2012 -0500

    Add copyright comments to all source files.

commit a6b36b03f107be84e8c7bfd9f30f782c51e4f600
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Nov 19 16:40:44 2012 -0500

    Add GPLv2 license

commit b1465456aae950c1a70928a2e596cbc6b34c2ccf
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Nov 19 16:10:36 2012 -0500

    Regenerated to include mention of usrloc dependency.

commit 0bef7be9bf745e73230f14637e54defae3e5afe5
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Nov 19 16:10:03 2012 -0500

    Include usrloc dependency.

commit 2708f57b8a464905e909409e475dd731b413a5b9
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Nov 19 16:08:15 2012 -0500

    Add docbook-generated README for sca module.

commit 3a7771c9c6c4225cbb380a20a28b6ce5b9ffda2e
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Nov 19 16:07:32 2012 -0500

    Add failure_route example.

commit 23a02a761da2e408a5bea914a66842a85e2260f0
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Nov 19 15:58:31 2012 -0500

    Remove quotes from integer values.

commit 6e35d942926837176f74cee843d989753897f8be
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Nov 19 15:50:28 2012 -0500

    Fix typo leaving XML comment unterminated.

commit 4b0e0e4b81becde2769f69539fa23a15f69099f2
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Nov 19 15:47:01 2012 -0500

    Add Exported RPC commands section.

commit fb03bbe9469aeec92bf729abe5b8a8b181d99766
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Nov 19 15:27:01 2012 -0500

    sca module doesn't export any functions.

commit 296bb6d07b9f6a62848ae14f02382ffd95516a15
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Nov 19 15:26:41 2012 -0500

    Add functions section.

commit 6d66ec1cd80eb0cd7878c37d6f0c216d1439c3b5
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Nov 19 14:40:51 2012 -0500

    Add sca module parameter documentation.

commit d4f35ceae85f2ae72f0e384188c677f272c4a544
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Nov 19 13:06:15 2012 -0500

    Add module Dependencies section.

commit 006f822bf9921bf3ae84e14cd62d413057fd2d56
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Nov 19 12:59:55 2012 -0500

    Correct typo.

commit 60e1602829b1926576998f36d06a487304d4c964
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Nov 19 12:58:54 2012 -0500

    docbook Overview documentation for sca module.

commit 835fcebe45854daac2ccbc942732cba8f5231fa5
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Nov 19 12:56:27 2012 -0500

    Add docbook stub for sca module.

commit 15fdde4fa1d662228568cc92e375d94dd86f2578
Author: Olle E. Johansson <oej@edvina.net>
Date:   Mon Nov 19 15:53:17 2012 +0100

    AUTH minor documentation updates

commit 139acd4a3ba4117d218c8ef4d95710dc15fb8bc7
Merge: eace40e dc0bc9d
Author: Olle E. Johansson <oej@edvina.net>
Date:   Mon Nov 19 15:45:38 2012 +0100

    Merge branch 'master' of ssh://git.sip-router.org/sip-router
    
    * 'master' of ssh://git.sip-router.org/sip-router:
      core: handle '\r' as end of included file name
      pkg/kamailio/(centos|fedora): turned on MEMDBG for development builds

commit eace40eb04ff038fce0f81dc1c08864e1e966e98
Author: Olle E. Johansson <oej@edvina.net>
Date:   Mon Nov 19 15:44:54 2012 +0100

    auth	Update documentation for the "secret" parameter
    
    Thanks to Carsten Bock for finding this in the 1.5 documentation.

commit dc0bc9de9528e80cd8bc61201ce82db1a785baf4
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Nov 19 10:45:41 2012 +0100

    core: handle '\r' as end of included file name
    
    - reported by Pirjo Ahvenainen

commit ddfeee6a0c0145d52f42e79cffe71b7cee1750e6
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Nov 17 00:12:04 2012 +0000

    pkg/kamailio/(centos|fedora): turned on MEMDBG for development builds

commit 4451d7af26b4f663fba408714296e79e05e312dd
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Nov 16 17:25:52 2012 -0500

    Remove logging or change to debug level as required.

commit 043fc21accd62e5b8fb84d505ae0b32a3ea02fc2
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Nov 16 17:05:39 2012 -0500

    Remove ADMORTEN debugging line.

commit d5ac2a71160b4d9b724cd1d8bd61600b1c2f3faf
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Nov 16 17:01:53 2012 -0500

    Remove unused function.

commit 21c02b5ca43340adb4ba1282ec2bfbbacee4e9b3
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Nov 16 16:45:06 2012 -0500

    Remove 3xx handler, since 3xx responses are pass-through.
    
    At least with Polycoms, caller does not release appearance prior to
    INVITE for redirection target.

commit ed9f09efc26c671832629d8eae2089336fd2cfd9
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Nov 16 16:09:51 2012 -0500

    Fix formatting from copy/paste.

commit 96a5ba1f819cb136a7de69502c4aa4c28540af34
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Nov 16 16:06:09 2012 -0500

    Connect to DB on demand only once per-process.
    
    Practically, this means only in the DB writeback process and on
    sip-router shutdown.

commit 9e2a6583d2fb9d5ab83c44e3dced2c78e68dd6a6
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Nov 16 14:49:44 2012 -0500

    Parenthesize all values in bind macros. Define subscriptions table version.

commit 5dfde0036ec5d954b451a811654617a82e10e82d
Author: Olle E. Johansson <oej@edvina.net>
Date:   Fri Nov 16 16:21:02 2012 +0100

    Fixing typo

commit 0f94abc79a47a4068e9e943f39c9c3b1ef6f035b
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Nov 15 14:42:27 2012 -0500

    Add sca_subscriptions table version check.
    
    Permit future sca_subscriptions table schema changes.

commit 09205865f98136e0354539f09f4961ca016a915b
Author: Timo Teräs <timo.teras@iki.fi>
Date:   Thu Nov 15 16:11:41 2012 +0200

    modules_k/db_sqlite: fix crash with computed fields in custom queries
    
    Computed fields do not have decltype available, so guess the proper
    field type based on the result type of the first row. This does not
    work if the first row has null type as result, but is the best we can
    do easily and fixes gives right result in most cases.
    
    Reported-by: Pedro Antonio Vico Solano <pvsolano@amper.es>

commit 22b6ead91e37b17163d0f95bd58efe76f7b4c3e4
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Wed Nov 14 11:56:06 2012 -0500

    Properly bind expires value for DB deletion of expired subscriptions.

commit 1ec90cc4364fe6b972d21f6ae0e24ca914296eb6
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Wed Nov 14 00:43:04 2012 -0500

    Delete expired subscriptions from DB. Only update DB when subscribers change.

commit dc5e0d0905ec438c17e92a864e17340c03311ca3
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Nov 13 17:08:53 2012 -0500

    Subscription state is now stored in DB and restored on restart.

commit a30d64af62684c8bba61bbb842209046daab97d5
Author: Olle E. Johansson <oej@edvina.net>
Date:   Tue Nov 13 15:45:18 2012 +0100

    Exec module: Documentation update, typo fix

commit 114d674da5383edf3970093618d2fb98768e2aff
Author: Olle E. Johansson <oej@edvina.net>
Date:   Tue Nov 13 15:37:18 2012 +0100

    registrar Documentation update

commit d888e7d83559b1b97cf55d47329a932497ff02f3
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Sun Nov 11 23:21:58 2012 -0500

    Restore subscriptions from DB on startup.

commit 3eecc9197dd13a23cec1dd76ba6fa8f578bb482e
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Sun Nov 11 23:18:37 2012 -0500

    sca_db type not used.
    
    yet.

commit 04773cd4b74bd1a18bd50ff681d7244999baca6e
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Nov 11 09:13:59 2012 +0100

    dialplan Documentation updates, typo fixes

commit c414cc4df415be391a5dcaaa5be9e309dfa3cd85
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Nov 11 08:51:29 2012 +0100

    diaplan - Fixing typo in name of rpc command
    
    Sercmd lists the dialplan.dump command, that doesn't exist. Changing
    name to dialplan.translate so that the module and the documentation
    agrees on the name.

commit 79e03e5622ec28a5577bed700ee416b9630c7d58
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Sat Nov 10 20:36:54 2012 -0500

    event should be INT. subscriber, not aor, should be UNIQUE.

commit e19c603417411c29dfe038a8339883d29fe65afe
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Nov 9 22:02:55 2012 -0500

    Add sca_subscriptions mysql table creation script.

commit 0b02fefeff53dc7fd3d66f2bd12b85a6ad883f51
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Nov 9 16:08:46 2012 -0500

    DB backing initialization and setup.

commit 8b731296ce80a8fcee582066ce3aad4a2bf95ed3
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Nov 9 20:54:14 2012 +0000

    modules/msrp: Updated MSRP example

commit 6d2015a050f9d0bee80058e46732dd8da577c4d8
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Nov 9 10:43:33 2012 +0000

    pkg/kamailio/(centos|fedora): Updated rel in .spec file

commit f25202a6d1a8713524985f83304230556c036da7
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Fri Nov 9 12:28:19 2012 +0200

    modules_k/xcap_server: fixed length of pres-content AUID

commit b255c406ba09ff229361a3bc14cc1c9fd076b52e
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Nov 9 11:03:46 2012 +0100

    core: tcp - proper handling of '\n-' sequence for detecting end of MSRP frame
    
    - in some cases it could go in wrong reading MSRP state
    - reported by Gavin Llewellyn

commit d5120187eb41e709c840b3cfbb0dc1803f61b036
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Nov 9 08:41:55 2012 +0100

    dialog(k): use proper scan string for optional headers parameter in rpc commands
    
    - credits to Kristofer Signer for report and troubleshooting

commit ddac5a16da60b0bbb6f58aa9e4fd26db3015c10d
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Nov 9 08:18:06 2012 +0100

    Makefile.defs: version set to 3.4.0-dev5

commit e916a4680d37f481167770fff27a710088cb5d3d
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Nov 9 08:07:42 2012 +0100

    Makefile.defs: arm compiler flags update
    
    - patch by Matthias Klose <doko@debian.org>,
      http://bugs.debian.org/cgi-bin/bugreport.cgi?msg=5;bug=690388

commit ac97e3a86d8e4f4c7d0abdffd84bb2ec4ff31ad4
Author: Carsten Bock <carsten@ng-voice.com>
Date:   Thu Nov 8 17:56:41 2012 +0100

    b/f: When the shortcut "x" is used, only add IE/EI once

commit 97b829acd0954f7356db2d7c9e59435c539e91d5
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Nov 8 00:03:03 2012 -0500

    Add srdb1 lib to Makefile for db API.

commit 22eb98280f82fc10202862097d954d099b605700
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Nov 7 23:56:49 2012 +0100

    msrp: fix compile warnings for 32b

commit 738ce9354b61590f6a54b389d2b11348840c846c
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Wed Nov 7 14:34:10 2012 -0500

    Tentative fix for [SIPR-793]: Music-on-hold breaks SCA hold/pickup.
    
    MoH changes hold semantics. Detect on-hold SDP in holding party's ACK,
    and update state & send NOTIFYs as needed.

commit 5154c90b60d54ad6c993eacaadea29740c12e82b
Author: Richard Fuchs <rfuchs@sipwise.com>
Date:   Wed Nov 7 09:12:33 2012 -0500

    modules_k/siputils: Fix memory leak in uri_param() function

commit 7c37f8d4dc311c64c12e0b03b5e312892f9d886c
Author: Klaus Darilion <klaus.mailinglists@pernau.at>
Date:   Wed Nov 7 13:55:55 2012 +0000

    allow freeing of NULL pointer to behave like standard free() function
    
    The memory functions provided to openssl needs to behave like standard
    memory functions, i.e. free(). Therefore, ser_free must accept NULL
    pointers, see: http://openssl.6102.n7.nabble.com/Custom-free-routine-is-invoked-with-NULL-argument-in-openssl-1-0-1-td25937.html
    As shm_free() aborts on null pointers, we have to check for null pointer
    here in the wrapper function.

commit 5e77d14b9f0304942517e031406a147a668adec3
Author: Olle E. Johansson <oej@edvina.net>
Date:   Wed Nov 7 00:13:20 2012 +0100

    usrloc - Documentation updates (mostly typos and smaller fixes)
    
    Based on feedback during SIP Masterclass - Jared and Anthony. Thanks!

commit 897dfc4c0a7bad253cfe672e58d665e9b3deb34e
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Nov 6 23:28:55 2012 +0100

    (core|modules/tm): corrected ambiguous error messages.
    
    - As per Henning's suggestions.

commit 5b6f68ae0dc50c05902ace37f1081b19bda0320e
Author: Carsten Bock <carsten@ng-voice.com>
Date:   Tue Nov 6 16:32:50 2012 +0100

    RTPProxy: Documentation improvements
    - added a note about compatibility with different implementations for the "x"-flag (namely RFC 4091 and RFC 6157)
    - made more clear, that "x" is only a shortcut for the "IE" and "EI" flags of RTPProxy

commit b6bb5d0f67881bafd8ac0e4a189bd7e5ae228e5a
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Mon Nov 5 08:44:17 2012 +0200

    modules_k: added support for PV as possible value for update_stat.
        - this will allow things like: update_stat("my_stat", "$BM_time_diff")

commit 6805fcb2f60180dd11bd14fb611ad44ebb068de9
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Nov 1 16:48:26 2012 -0400

    Fix [SIPR-783]: respect answerer's app-index instead of using next available.

commit 53135e42d0048670a25908532bdb26706db48b7a
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Nov 1 15:54:51 2012 +0000

    core: Fixed typo that broke the build

commit 4ef839851ef518815df38a9ae73e948719784e89
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Oct 31 20:21:07 2012 +0100

    kamailio.cfg: add option to set pstn gw port

commit 7b3f234106adebd0a3ab069add170f0d23f1f592
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Oct 31 17:48:37 2012 +0000

    modules/tm: corrected a mis-leading error message

commit 014d1000055d8ee93ef35336b1701674fe23a675
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Oct 31 17:48:17 2012 +0000

    core: corrected some mis-leading error messages

commit 03c080376e26aeae8261d2ff12fc290a3925ef91
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Oct 31 14:40:25 2012 +0100

    kamailio.cfg: updated wiki link to match the version

commit 3ce2efce27983e0fe818ff4e139c9589dbbfeb4a
Author: Marius Zbihlei <marius.zbihlei@1and1.ro>
Date:   Wed Oct 31 15:36:05 2012 +0200

    modules/msrp : small documentation fix

commit 8a00d03a9328fd5ab4740f52ac47070e64f05236
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Oct 30 22:35:45 2012 +0000

    modules_k/xcap_server: Enhanced org.oma.xcap-directory implementation
    
    - Can now use a modparam to force the scheme in the listing URLs to a specific
      value (default is to work out based on whether the connection is TCP or TLS).
    - Can now use a modparam to force the hostname in the listing URLs to a
      specific value (default is to work out based on the (mandatory) Host: header
      or destination IP address and port).
    - Updated README

commit 953a1d12685a917de68aff31c7172792dd816302
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Oct 30 17:21:27 2012 +0000

    pkg/kamailio/(centos|fedora): Updated .spec and BoxGrinder appliances
    
    - Added xhttp_pi module

commit 18220b91255f9a563ce56f1d05fe97905e7fe2d9
Author: Olle E. Johansson <oej@edvina.net>
Date:   Mon Oct 29 21:57:32 2012 +0100

    UAC: Documentation updates and typo fixes

commit c244c7aeac06e4707ae76571dc73b804af31640f
Author: Olle E. Johansson <oej@edvina.net>
Date:   Mon Oct 29 19:50:48 2012 +0100

    uac Fixing formatting

commit 7bd4eda6d169c89e8a42cbd94e8d008700109ceb
Merge: 212cf0d c70f884
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Oct 28 21:12:03 2012 +0100

    Merge branch 'master' of ssh://git.sip-router.org/sip-router
    
    * 'master' of ssh://git.sip-router.org/sip-router:
      modules_k/nathelper: add_contact_alias ipv6 fix
      lib/srdb1/schema: use &ip_addr_len; entity in address and lcr_gw schema

commit 212cf0d3c0d220affbafa545795ff5d0bf03b97d
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Oct 28 21:09:51 2012 +0100

    permissions - change openser => kamailio

commit c70f884988c3f9298fa4d40ef12c69eea9da26a5
Author: Juha Heinanen <jh@tutpro.com>
Date:   Sun Oct 28 16:07:25 2012 +0200

    modules_k/nathelper: add_contact_alias ipv6 fix
    
    - When add_contact_alias() is called without arguments, it now adds brackets
      around received ipv6 address in order to make $du syntactically valid.

commit dba0691a98a329be489d83dfc1cd9560419bc35e
Author: Juha Heinanen <jh@tutpro.com>
Date:   Sun Oct 28 14:32:36 2012 +0200

    lib/srdb1/schema: use &ip_addr_len; entity in address and lcr_gw schema

commit 0c130b85e8081af15188ec87d5e55d70c96de46f
Author: osas <osas@centos.(none)>
Date:   Sat Oct 27 12:08:49 2012 -0400

    fix default db in docbook

commit e4453d91f612a8d651176d62529bc24edb54bf59
Author: osas <osas@centos.(none)>
Date:   Sat Oct 27 12:05:18 2012 -0400

    fix test directory after openser to kamailio migration

commit 923b738f8f021c349b0d0ba4faaac1b0c6bcf246
Author: osas <osas@centos.(none)>
Date:   Sat Oct 27 12:00:28 2012 -0400

    more openser to kamailio migration

commit e7a75db1982a48efb83bd9ba96036dbb6da541e1
Author: osas <osas@centos.(none)>
Date:   Sat Oct 27 11:39:29 2012 -0400

    xhttp_pi: new web provisioning interface module

commit 70f5cefa6dcc8562d58e58e7531d6021dbd88912
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Oct 27 00:08:54 2012 +0100

    modules/websocket: Updated example kamailio.cfg
    
    - More tweaks to MSRP over WebSocket

commit 5a8b8da4abda5b20599add078efe4681aeb8dfa7
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Oct 26 16:09:09 2012 +0100

    modules/websocket: Updated example kamailio.cfg
    
    - Better MSRP over WebSocket support

commit e804a70e47f938338e6d93930c297ff958f16e22
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Oct 25 21:36:28 2012 +0100

    modules_k/xcap_server: Tidied up example

commit c062817d0833a0d24a6afacc928f980298be1d60
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Oct 25 21:35:57 2012 +0100

    modules/websocket: Updated example kamailio.cfg
    
    - Reflects latest MSRP related updates

commit 682f002698c761c5570e587db5c48653668a1bb8
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Oct 25 21:34:23 2012 +0100

    modules/msrp: Updated example in README
    
    - Use new pv_www_authenticate() variant to pass in $msrp(method)
    - Send responses to SEND that we are relaying to clients
    - Handle REPORTS as end-to-end requests (that are not responded to)
    - Send 501 for requests that are not AUTH, SEND, or REPORT

commit 6b9e4fcc176e3141f25c74f17f599b88d30f8ff9
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Oct 25 21:09:40 2012 +0100

    modules/msrp: Better fix for the relay problem

commit f61a61e44168a213a065e4a7dc1c751a874fbce3
Merge: a4f28b9 a0b36a9
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Oct 25 20:35:13 2012 +0100

    Merge branch 'master' of ssh://git.sip-router.org/sip-router
    
    * 'master' of ssh://git.sip-router.org/sip-router:
      Makefile.utils: add rule to create man page dir

commit a4f28b9707b2c55af87138cca531fdb1badd7023
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Oct 25 20:17:48 2012 +0100

    modules_k/xcap_server: Added explicit parsing of headers before looking for HTTP ETag and Host headers

commit a0b36a905afda1476085a645faf29bd534ed4949
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Oct 25 21:16:26 2012 +0200

    Makefile.utils: add rule to create man page dir
    
    - reported by Peter Dunkley

commit 067051b8c9da440566cbd09d80bb1abd424f68de
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Oct 25 20:17:05 2012 +0100

    modules/websocket: Added explicit parsing of all headers before searching for WebSocket specific headers

commit 6273279621dd4a8e6f6fe6a2faa548755a3eacd6
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Oct 25 19:59:31 2012 +0100

    modules_k/xcap_server: Removed some test debug that was left in by mistake

commit 53175995fb7fe7d760c063c4d542e991c1513344
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Oct 25 19:45:04 2012 +0100

    modules/app_lua: Updated because of recent changes to auth and auth_db

commit 5c71412cf3530f19edc4bee38cc9c3857ddc1eb0
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Oct 25 19:44:32 2012 +0100

    modules_k/auth_db: Added an optional parameter for method to www_authenticate

commit 3f35106f791cf0f6638128539fd147ad2f44da27
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Oct 25 19:43:55 2012 +0100

    modules/auth: Added an optional parameter for method to pv_www_authenticate()

commit 558e5294f697519917b58ddc451408b3d71aff4f
Merge: 0ed33c0 019ab5e
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Oct 25 18:22:21 2012 +0100

    Merge branch 'master' of ssh://git.sip-router.org/sip-router
    
    * 'master' of ssh://git.sip-router.org/sip-router:
      resolve.c: make dns query only on name that has valid syntax

commit 0ed33c0c3332ed3868509d8ae0b035d9420a7df4
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Oct 25 18:21:41 2012 +0100

    modules/msrp: Fixed a problem with relaying that I added when I put in WebSocket support

commit 019ab5e2d6730b764b20a890f9a3b5f9237b6338
Author: Juha Heinanen <jh@tutpro.com>
Date:   Thu Oct 25 19:50:17 2012 +0300

    resolve.c: make dns query only on name that has valid syntax

commit aebeeee1993e4cce0d3288f1ccd8d17f3efee925
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Oct 25 17:34:39 2012 +0100

    modules_k/xcap_server: Updated example event_route[] in README
    
    - Now includes:
      - updating of RLS subscriptions when RLS documents change
      - pidf-manipulation
      - clean handling of org.openmobilealliance.search
      - org.openmobilealliance.xcap-directory support

commit 4d48c5d485c9c1155b8b7471fbda56a80a218d48
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Oct 25 17:33:46 2012 +0100

    modules_k/xcap_server: Added support for the org.openmobilealliance.xcap-directory auid
    
    - Directory listing worked out on-the-fly based on DB contents

commit f6a38aa7f80cdc02431bdd3d314c82663a3d33a4
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Oct 25 17:32:43 2012 +0100

    modules_k/xcap_client: Added new #define for xcap-directory auid

commit 5f813fdab34cb7507bc4dcc1b66ff87f90f69c9a
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Oct 25 10:56:41 2012 +0200

    xcap_server: use a static table to keep the list of supported auids
    
    - adding new auid requires an entry in this table and define of the
      internal type

commit 3bd01c035d5f4c6be55a9995103c0da689d5df18
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Oct 25 10:01:08 2012 +0200

    acc(k): fixed typo in acc_db_request() example
    
    - reported by Bernie Höneisen, FS#251

commit 22f9a675863f85d934afa5e7c09061c66497042b
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Oct 25 09:25:17 2012 +0200

    core: use cloned value to parse pv name for caching
    
    - patch by Hugh Waite

commit 9bacc95d2a0c949e81032dd0cc392dfaa7c0a2c1
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Oct 24 12:17:30 2012 +0200

    kamctl: use kamcmd instead of sercmd

commit c93d2d1b290c030f969ce1f62f106059226457ea
Merge: c4b3b04 7e67e6b
Author: Olle E. Johansson <oej@edvina.net>
Date:   Wed Oct 24 11:47:41 2012 +0200

    Merge branch 'master' of ssh://git.sip-router.org/sip-router
    I don't really know what this means and why this commit happens...
    
    * 'master' of ssh://git.sip-router.org/sip-router:
      .gitignore: added few more patterns to ignore
      pkg/kamailio/rpm: specs updated for rename of sercmd to kamcmd
      sercmd: added basic man page
      sercmd: builds and installs as kamcmd when FLAVOUR=kamailio
      Makefile.utils: new target to install manpage for util tools
      kamctl: replaced openser with kamailio in variable and function names
      core: print modparam type id in log when parameter not found
      modules/rtpproxy:  added 't' flag to rtpproxy_destroy and force_rtp_proxy - Added new flag 't' to rtpproxy_destroy function that makes it possible   do delete whole call even when To tag is present in request/reply.  In   force_rtp_proxy the flag is ignored.

commit 7e67e6bad8f56e8ed25673b24f132e0f5d9d17fc
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Oct 24 08:39:59 2012 +0200

    .gitignore: added few more patterns to ignore
    
    - kamcmd binary and second vi swap file

commit 02b389ec2bca98dc158cd6ce255ad8c4aa1f570e
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Oct 24 00:16:58 2012 +0200

    pkg/kamailio/rpm: specs updated for rename of sercmd to kamcmd

commit e6bdf8a0317c1a62931c07a8bd40fbc65fa1398e
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Oct 24 00:06:48 2012 +0200

    sercmd: added basic man page

commit e7e131d5b5abec9440f0963375abd1940d65e3f4
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Oct 24 00:05:13 2012 +0200

    sercmd: builds and installs as kamcmd when FLAVOUR=kamailio
    
    - avoid packaging conflicts with ser (both packages attempt to install
      same file)

commit e378b3c1038eab768a0d1304166a7aa2ef6e361a
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Oct 24 00:04:11 2012 +0200

    Makefile.utils: new target to install manpage for util tools

commit e102ae728214192184397b8e802228f9695f45f2
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Oct 23 16:49:29 2012 +0200

    kamctl: replaced openser with kamailio in variable and function names

commit 22dd8d6524a95b8bf0246adca99f0049c16fb76f
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Oct 23 16:17:24 2012 +0200

    core: print modparam type id in log when parameter not found

commit d8d80082aad32fd28484d30b2c4e0c98853cda31
Author: Juha Heinanen <jh@tutpro.com>
Date:   Mon Oct 22 12:15:54 2012 +0300

    modules/rtpproxy:  added 't' flag to rtpproxy_destroy and force_rtp_proxy
    - Added new flag 't' to rtpproxy_destroy function that makes it possible
      do delete whole call even when To tag is present in request/reply.  In
      force_rtp_proxy the flag is ignored.

commit c4b3b04eb59de8b1b72675decfa06ff3cb779934
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Oct 21 20:09:07 2012 +0200

    mtree Documentation fixes

commit 8818925e7974cd5d826ad105b77a59f17636badf
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Oct 21 19:13:50 2012 +0200

    pua: Fixing documentation typos, adding reginfo

commit 9683068672ffb4679b6caa3d1a3a8b51aeedffd9
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Oct 21 19:02:56 2012 +0200

    sipcapture Fixing typos in documentation

commit 4ba7d41bc078e554d48316b2c3e0b6435b55f60a
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Oct 21 18:54:33 2012 +0200

    SDPops Typo fixes in documentation

commit 2aa02e80cd76f38e812bfddf32326248e9b74cf8
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Oct 21 18:49:43 2012 +0200

    Ratelimit: Fixing typos

commit ca3f80f76ca5be83407f8d8b542c8390982459d4
Merge: 84f6596 a041479
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Oct 21 18:32:33 2012 +0200

    Merge branch 'master' of ssh://git.sip-router.org/sip-router
    
    * 'master' of ssh://git.sip-router.org/sip-router:
      modules/rtpproxy: some README improvements
      pkg/kamailio/fedora/16: More tweaks to .spec
      pkg/kamailio/(centos|fedora): Updated boxgrinder appliance definitions
      pkg/kamailio/fedora/16: added SCTP dependencies to .spec
      pkg/kamailio/fedora/16: Updated .spec file
      Makefiles: Updated Makefiles to use db2x_docbook2man when docbook2x-man is not installed
      pkg/kamailio/fedora/16: Updated .spec to set ownership of /etc/kamailio to kamailio.kamailio
      modules/websocket: Updated example configuration file
      modules/msrp: Updated MSRP configuration example
      rtpproxy: allow flags parameter to rtpproxy_destroy()

commit 84f6596ccbb107563386acb52a2c60fd3cc0df22
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Oct 21 18:30:32 2012 +0200

    TLS Documentation updates

commit a041479bd7153b3a3b665a3ed27a4da12cb9b1d1
Author: Juha Heinanen <jh@tutpro.com>
Date:   Sun Oct 21 17:29:44 2012 +0300

    modules/rtpproxy: some README improvements

commit 6135c98b472a755015aacc640b65e9a5c202c122
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sat Oct 20 17:47:32 2012 +0200

    Documentation updates

commit e39b774a4f0aec0bc6a6fe07b0eace7378b0bcbb
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Oct 20 03:55:01 2012 +0100

    pkg/kamailio/fedora/16: More tweaks to .spec
    
    - The auth_diameter and malloc_test modules were being built during install
      instead of in the build section

commit 4b7d47321fa4648452040e27ba619dee72e0b6b5
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Oct 20 03:12:05 2012 +0100

    pkg/kamailio/(centos|fedora): Updated boxgrinder appliance definitions

commit b4e7d304ad7149d10d69c85454141e393c6d0fb7
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Oct 20 03:06:30 2012 +0100

    pkg/kamailio/fedora/16: added SCTP dependencies to .spec

commit 113c0e63686e8d3cdca21e9a6399dce727ee866f
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Oct 20 02:38:18 2012 +0100

    pkg/kamailio/fedora/16: Updated .spec file
    
    - Added installation of auth.7.gz for Fedoa now that manpages are built for
      Fedora
    - Added "make utils" to build section
    - SCTP and STUN now included in build
    - Removed kamailio-tls package - tls module now in main Kamailio RPM as that has
      openssl as a dependency for STUN

commit c9088190cf29b7d561ca2bded6266b3e21d51d8b
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Oct 20 01:23:51 2012 +0100

    Makefiles: Updated Makefiles to use db2x_docbook2man when docbook2x-man is not installed
    
    - db2x_docbook2man is what Fedora contains

commit eb45b8ccb4d859e7726889a4fae50941bd6c8e43
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Oct 20 00:29:07 2012 +0100

    pkg/kamailio/fedora/16: Updated .spec to set ownership of /etc/kamailio to kamailio.kamailio
    
    - Means that file-based DB (e.g. sqlite) files kept in /etc/kamailio can be
      written to by processes (including kamailio itself) run by the kamailio user.

commit ae485d398f17ae7040ac1a0799842e6bb0e42bd8
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Oct 19 17:24:44 2012 -0400

    Remove unused variables and debugging.
    
    Quiet compiler warnings.

commit cbc6e06cb95b69502095971c55b7a83a683c0537
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Oct 19 17:16:59 2012 -0400

    Fix [SIPR-723]: must release appearance when script sends error w/ t_reply
    
    Using callback for TMCB_RESPONSE_READY event, which is invoked with a
    FAKED_REPLY when t_reply() is called.
    
    This still means that the SCA_UPDATE route will need to be called early
    enough in the configuration so that the callback is registered when the
    script calls t_reply().

commit cb74d38f52d77f6ee11d7083ab0adabe5e6f34a9
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Oct 19 14:34:54 2012 +0100

    modules/websocket: Updated example configuration file
    
    - Use qop="auth" for MSRP authentication
    - Support Expires: header in MSRP AUTH requests
    - Add Expires: header to 200 OK responses to MSRP AUTH requests
    - Authenticate MSRP AUTH requests off subscriber DB

commit 70b0875fb968ef4747636c9f01882bf92138388a
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Oct 19 14:25:35 2012 +0100

    modules/msrp: Updated MSRP configuration example
    
    - Enabled qop="auth" for authentication (mandated by RFC 4976)
    - Added support for Expires: header in AUTH requests
    - Added (mandatory) Expires: header to 200 OK responses to AUTH requests

commit 13c2616d6b8a9f9f82979a531bac664832043597
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Oct 19 11:53:17 2012 +0200

    rtpproxy: allow flags parameter to rtpproxy_destroy()
    
    - it is optional parameter, but was not allowed by c code
    - reported by Juha Heinanen

commit 12d95216e12c5e5bab351921524b4029a126854b
Merge: da72036 5e886db
Author: Olle E. Johansson <oej@edvina.net>
Date:   Thu Oct 18 18:39:15 2012 +0200

    Merge branch 'master' of ssh://git.sip-router.org/sip-router
    
    * 'master' of ssh://git.sip-router.org/sip-router:
      all: OPENSER_MOD_INTERFACE replaced with KAMAILIO_MOD_INTERFACE
      all: fixed matrix doc generation and updates for &defaultdb;
      all: replaced db_url static value with &defaultrodb; in docs
      all: replaced openser with kamailio in license and comments
      dialog(k): run event route after setting cfg dlg vars
      rtpproxy: regenerated readme for flags x and 3
      rtpproxy: documented flag 3
      rtpproxy: propage flags from rtpproxy_manage() to unforce_rtp_proxy()
      pkg/gentoo: Added ebuild for v3.3.2
      Makefile: added uninstall target
      modules_k/db_sqlite: fix memory leak in sqlops query
      kamailio.cfg: handle UPDATE through nat traversal logic
      auth_db(k): new function is_subscriber(uri, dbtable, flags)

commit 5e886dbbef6896ab2b1c0f6941587912a3b8694b
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Oct 18 15:46:13 2012 +0200

    all: OPENSER_MOD_INTERFACE replaced with KAMAILIO_MOD_INTERFACE
    
    - OPENSER_MOD_INTERFACE still works if used in module Makefile

commit 0d9eec94cea33aeeb7dee79664bab512194316b1
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Oct 18 14:46:37 2012 +0200

    all: fixed matrix doc generation and updates for &defaultdb;

commit f5ccfeaade8d4e7137c52b578fe52d1deff88fd8
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Oct 18 14:36:46 2012 +0200

    all: replaced db_url static value with &defaultrodb; in docs
    
    - regenerated the readmes for modules/ and modules_k/

commit 6c7802254f146f97b1548645d363a0aee9c0d7d4
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Oct 18 14:18:19 2012 +0200

    all: replaced openser with kamailio in license and comments
    
    - some files were forgotten during renaming

commit 2cdded28d9968a0b78f5ec8329ae6983d9ea77a9
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Oct 18 09:54:53 2012 +0200

    dialog(k): run event route after setting cfg dlg vars
    
    - in this way they (e.g., $DLG_lifetime) should be accessible in event
      route

commit 5b597906be44996344e11edfc1b3b60e8f47dc75
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Oct 17 21:41:40 2012 +0200

    rtpproxy: regenerated readme for flags x and 3

commit 63d577731291c3c2079544ce105521dda7bd8ebb
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Oct 17 21:33:45 2012 +0200

    rtpproxy: documented flag 3

commit 393893a9d6b1fe586abe2a6cfa03680d494bb871
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Oct 17 21:25:00 2012 +0200

    rtpproxy: propage flags from rtpproxy_manage() to unforce_rtp_proxy()
    
    - unforce_rtp_proxy() can take flags 1 or 2, previously it didn't take
      any
    - ignore all the other valid flags for rtpproxy_manage() in
      unforce_rtp_proxy()
    - added flag 3 - add first via branch if it request (like flag 1) or add
      second via branch if it reply (like flag 2) - suitable for auto-pilot
      usage with rtpproxy_manage() function

commit 131e70db763aec71670466cc399e088bf96561f7
Author: Claudio Furrer <elcaio@gmail.com>
Date:   Wed Oct 17 14:38:52 2012 -0300

    pkg/gentoo: Added ebuild for v3.3.2

commit 04b9fdd2b8d6dac67948f1cb5a76b4d34a65f228
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Oct 17 12:52:34 2012 +0200

    Makefile: added uninstall target
    
    - it prints hints and commands to perform uninstall when installation is
      done from sources

commit ecf95eb0ada8bfacb93af7b82f39347c841229e4
Author: Timo Teräs <timo.teras@iki.fi>
Date:   Wed Oct 17 09:00:14 2012 +0300

    modules_k/db_sqlite: fix memory leak in sqlops query
    
    Seems that most other database drivers release the database
    resource only at free_result time, which I some how missed.
    
    Since we are doing a deep copy in store_result(), we can
    just release the sqlite resources immediately raw_query().
    
    Reported-by: Pedro Antonio Vico Solano <pvsolano@amper.es>

commit c76035255e556d8272097281d3e0fd0ab918c608
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Oct 16 21:59:28 2012 +0200

    kamailio.cfg: handle UPDATE through nat traversal logic
    
    - BYE is handled via branch route as well
    - set tm routes only if they are not set, allowing better plug and play
      config snippets

commit 1a3a35fd19d4b9ec04d84b7b8fa1e1cb43092bd9
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Oct 16 15:41:26 2012 -0400

    Notes on t_reply, subscription deletion on NOTIFY failure.

commit a9f1f9e3cd62d296bcbf4c3618da96d077aacd86
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Oct 16 21:28:46 2012 +0200

    auth_db(k): new function is_subscriber(uri, dbtable, flags)
    
    - check if URI corresponds to a subscriber record in dbtable and load
      credentials for it

commit 15a2a5ae02948961f1e26e545e284d9659510c42
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Oct 16 14:47:10 2012 -0400

    Use standard hashes.h header instead of libkcore hash_func.h path.
    
    All hash routines are moved to sip-router/hashes.h as of 3.3.x.

commit 06bb391cef6c59285b5e2eff1ea7857485b33e0c
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Oct 16 14:27:39 2012 -0400

    Ensure upstream 302 redirects are not treated as errors.

commit c9088726bee111154cdede26c9f92566241f1757
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Oct 15 22:22:26 2012 -0400

    Fix [SIPR-708]: loss of state on call transfer
    
    Module was blindly releasing appearance indices on BYE without checking
    for dialog match. Simple call-id check is enough.

commit 8ff7fce98a15afe4ca1bf7c2d9206f1d75add66a
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Oct 15 21:41:36 2012 -0400

    Remove debug line.

commit da720367972b18e0a6664dfa47d1e65a648099a8
Author: Olle E. Johansson <oej@edvina.net>
Date:   Mon Oct 15 19:51:21 2012 +0200

    async Forgot to rebuild the README

commit b68fade258f29ad427950b42b44d706b95db4150
Author: Olle E. Johansson <oej@edvina.net>
Date:   Mon Oct 15 19:47:52 2012 +0200

    Async typo fix

commit f9ab230357fcd551252a6bc151b278e792bcb54e
Author: Olle E. Johansson <oej@edvina.net>
Date:   Mon Oct 15 19:45:02 2012 +0200

    textopsx - typo fixes, minor corrections

commit e09af3559bf1c0a39e87eb1fa489c1e996c56b8e
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Oct 15 12:56:53 2012 -0400

    Ensure unlinked hash entries have NULL next and slot pointers.
    
    Not fixing any known issue, just being a bit more defensive when
    unlinking entries.

commit 5d9d4d017d79d4e9269bbeb019460b3c8d8695d0
Author: Dragos Dinu <dragos.dinu@1and1.ro>
Date:   Mon Oct 15 18:29:48 2012 +0300

    modules_k/siptrace Fixed crash when using HEP v2

commit 7d4ed54b5748d70761f2c574a05b7df1c07010b6
Author: Olle E. Johansson <oej@edvina.net>
Date:   Mon Oct 15 14:35:10 2012 +0200

    INSTALL - Fixing spelling error

commit d926b2f942e8fd207c9f50ff9e1edd27a39866bd
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Oct 14 21:57:24 2012 +0200

    registrar Fix typos in README

commit 68a650ef2b1be78084463c88e9b527ae498b7943
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Oct 14 21:40:36 2012 +0200

    pv Fix typo in README

commit 93c6567011162468c684fa0e673b9efaa2910a3a
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Oct 14 21:32:56 2012 +0200

    dispatcher small documentation updates

commit a86074046ebf5e325413662d099711c00ee24930
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Oct 14 21:02:52 2012 +0200

    p_userloc Fixing the database URLs as entities

commit 2040896f2b4fd5d955af783fa9c8851572186785
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Oct 14 19:54:19 2012 +0200

    Revert "Changing database URL example to use entity"
    
    This reverts commit 827e2d4bbab047fd4bbe4ada266327a823fc1cd3.

commit 827e2d4bbab047fd4bbe4ada266327a823fc1cd3
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Oct 14 19:38:47 2012 +0200

    Changing database URL example to use entity
    
    Making it easier when we change from "openserrw" to "kamailiorw"

commit ba1aba0c8ffa992eb99b2004f3cf14fe1a6fa3d1
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Oct 14 18:58:16 2012 +0200

    dialog: minor typo fix

commit 2522a1ce3886a764c6cf09d8cc55b8c6dd1bf57e
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Oct 14 18:20:42 2012 +0200

    siputils: README typo fixes

commit ef0f8fd65b34ef9d7006be30f7cef0353c1c529f
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Oct 14 18:11:29 2012 +0200

    uac: README typos

commit 4c45f67a42ea76c909893bd684cac03fde8d5c2b
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Oct 14 18:02:45 2012 +0200

    SL doc: fix typos

commit d22fb8987131f6ee94406632913885a52098b49c
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Oct 14 17:54:53 2012 +0200

    TM docs: fix typos

commit 4090bfc2e4eb76a9b6c03d99446619d2723fa222
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Oct 14 17:45:41 2012 +0200

    tm: Updates of README, spelling errors

commit 6339389bae85814264a923ebbf938d70fa22c4db
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Oct 14 17:24:21 2012 +0200

    async: Speling erors fixed

commit f8e02b3bbe83315d8228005d4388434b62473c61
Author: Olle E. Johansson <oej@edvina.net>
Date:   Sun Oct 14 17:13:01 2012 +0200

    msilo: Updating docs
    
    Fixing a typo and while at it updating some texts.

commit 4d71456df4b47a131cb6df2a21608ba291e30b95
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Oct 12 14:35:12 2012 -0400

    Fix [SIPR-728]: stuck lamp on multiple inbound calls
    
    BYE response handler was trying to lookup remote party's Call-Info
    state using from-tag instead of to-tag.

commit 9fc31d82f47a0fb526f25864ff093c1b5a55b057
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Oct 12 13:37:30 2012 -0400

    Add simple install-and-bounce-sip-router script.

commit 3b09b31be29ca06b959b92a3837f5fd56435488f
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Oct 12 15:40:24 2012 +0200

    kamailio.cfg: load corex module to get same cfg api as so far

commit 5e5213287009b8dda79017ddbd52ff129df9c44c
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Oct 11 17:00:28 2012 -0400

    Improve encapsulation when sending NOTIFYs.
    
    When sending NOTIFY to subscribers list, only build headers for the
    NOTIFY once.

commit c43bb19418cbf6a80dcd935491d02d891e5651a6
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Oct 11 16:21:36 2012 -0400

    Remove debug sanity check.

commit 2c968f5c36db7609c16521a43fd4694de2cc83d1
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Oct 11 16:18:24 2012 -0400

    Move from doubly-linked list with tail insertion to singly linked list.
    
    Reduce complexity, especially where unlinking is concerned.

commit 309918272df6110453cf2b9af4afd7e816590cbe
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Oct 11 16:16:16 2012 -0400

    Improve appearance index unlinking.
    
    The double pointer unlinking method is much more elegant.

commit d1897658f85f45ff900b7c2fc9a0e6cbe8aa1522
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Oct 11 16:13:23 2012 -0400

    Only store one appearance_list per AoR.
    
    sca_appearance_register was not checking to see if an entry for the AoR
    already existed in the hash table, blindly appending an empty list for
    each client subscription. Things worked because the hash table collision
    handling inserted new entries at tail instead of head.

commit 2f240d5f5d1e647cbc6ee55893a65058bf950cda
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Oct 11 12:58:38 2012 +0100

    modules/msrp: Added support for WS transport
    
    - Updated parser to recognise/decode ";ws" as a transport
    - Updated netio code to route MSRP messages destined for a
      WebSocket connection through the websocket module (instead of just
      tcp_send()ing them).

commit 132509a7affe0f0bffd87f3606513b1475e98a03
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Oct 11 12:57:26 2012 +0100

    modules/websocket: Added support for MSRP WebSocket sub-protocol
    
    - Prototype of draft-pd-msrp-websocket
    - Enables session based chat and group chat from HTML5 clients

commit baf9486e80018206d4edcdfb666b393d8b43aadf
Author: Marius Zbihlei <marius.zbihlei@1and1.ro>
Date:   Thu Oct 11 10:59:45 2012 +0300

    core: fixed small issue w/ include directive

commit 728f6033a7ee663f3e46717c8ea49703135d3c12
Author: Henning Westerholt <hw@kamailio.org>
Date:   Wed Oct 10 19:15:10 2012 +0200

    core: disable build of DNSSEC (patch from Marius)

commit 98ceaec93a6c69399ea4bfcf47a82e01610d848e
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Oct 10 18:00:51 2012 +0100

    modules/msrp: Updated typo in MSRP example

commit d9c2638bd27c50a7cba4a96ee7b5592d05f39c90
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Oct 10 16:15:32 2012 +0100

    modules/msrp: From-Path: not updated correctly in msrp_relay()
    
    - When the last To-Path-URI is pre-pended to the From-Path: header the first
      two characters of "From-Path: " are skipped, leaving "om-Path: ".  11
      characters should actually be skipped.

commit 73103df8fcffa0f92dfc4699c52d5dd9474084ea
Author: Marius Zbihlei <marius.zbihlei@1and1.ro>
Date:   Wed Oct 10 17:53:02 2012 +0300

    Core: added DNSSEC support for DNS queries
    
    This is available by setting the USE_DNSSEC compile flag. It requires libval-threads and libres (part of dnssec-tools dnssec-tools.org)
    The custom resolvers were replaced by val_gethostbyname, val_gethostbyname and val_res_query (for SRV).

commit 10dafd75873f9f58037680e4d72cafc4c877583f
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Oct 10 10:49:16 2012 +0100

    modules_k/xcap_server: Fixed small mistake in last xcap_server fix

commit e71435b0276c89ef756fecf1bbd5e339b80e804c
Author: Andrei Pelinescu-Onciul <andrei@iptel.org>
Date:   Wed Oct 10 10:02:00 2012 +0200

    tcp: fix connection alias replacing
    
    When the TCP_ALIAS_REPLACE is set and an alias has to be added to
    a connection that had 0 aliases (it can happen due to
    TCP_ALIAS_REPLACE flag), the connection aliases count was wrongly
    forced to 1.
    For more details see:
    http://lists.sip-router.org/pipermail/sr-users/2012-October/074932.html
    
    Patch-by Jijo

commit d29cfab1584b8bc2672b4242a2626d9dc90c77a2
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Oct 9 21:07:10 2012 +0100

    modules_k/xcap_server: Fixed segmentation fault
    
    - Occurs when attempting to do an etag compare when there is no document/etag
      in the database.

commit b12c2df6ccb903e2ca22d34bb968f3ebc2712b89
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Oct 9 16:30:24 2012 +0200

    core: reset params pointers if there is a failure in parse_params()
    
    - patch by Jijo

commit 038780fdf40c8d5d3694538f199411810fad7a0e
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Oct 9 12:29:09 2012 +0200

    tm: set log level to debug for negative return code of run_top_route()
    
    - it returns the code of last execution action, negative return is not
      necessary an error

commit 753f511f281b0f4406908086547225c5c0bc0d23
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Oct 9 11:39:16 2012 +0200

    rtpproxy: safety check for rtp stats pv
    
    - if the rtpproxy is not responding, there is no returned value and
      could cause crash when doing strlen(NULL)
    - return $null in case of various errors, being safer to check returned
      PV value in the script against $null, rather than having undefined
      value
    - reported by J. Gallart

commit 146873cf2b101d6363bb20c235b7dcdb8bb54134
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Oct 9 09:13:15 2012 +0200

    msrp: fixed copy&paste issue for getting To-Path size
    
    - the parsing of From-Path was used instead
    - reported by Peter Dunkley

commit 971386c346d72a016d00c8808059bd4f0a050059
Author: Vicente Hernando <vhernando@systemonenoc.com>
Date:   Fri Sep 7 07:01:11 2012 -0400

    core: Fix parser sdp bug. Reset connection IP for each stream.
    
    If connection IP is not reset, then when a stream has no IP connection,
    it uses former stream one instead of session default one.

commit f86ab01f7e3c6a4b196c5fe42543b18168f6d969
Author: Dragos Dinu <dragos.dinu@1and1.ro>
Date:   Mon Oct 8 17:42:20 2012 +0300

    modules/sipcapture: Fixed crash in module initialization
    
    Leaving the default table_name parameter caused a segmentation fault
    Reported by Juha Heinanen

commit 1371eeab4ca3d3f666e52bb42d904059ce77c4ac
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Oct 6 09:56:06 2012 +0200

    utils/misc/vim: added Makefile to install vim scripts
    
    - 'make install' copies the files to home .vim folder
    - updated README to reflect the new command

commit 007ca3c30b02e7a57cd229ea4b63573ef81f8c81
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Oct 6 09:52:37 2012 +0200

    pv: two new functions- typeof(...) and not_empty(...)
    
    - typeof(pvar, vtype) - test the type of the pseudo-variable
    - not_empty(pvar) - test if the type is string and the value not empty

commit 780decb3b0f8cf140ffdf522abc61e68388ee6a7
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sat Oct 6 09:38:57 2012 +0200

    core: added mod fix helper fixup_pvar_none(...)
    
    - first parameter is PV and the rest are not fixed up

commit ad67ccfec1a1f99483b544f9c9e354bc43af1afe
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Oct 5 16:05:47 2012 -0400

    Fix [SIPR-737]: calls not reaching voicemail
    
    Non-SCA to non-SCA would cause a function called from sca_call_info_update
    to return 0, which sca_call_info_update would then return to the script.
    A return value of 0 from a function called in the script means "stop script
    processing" in sip-router, so PRACKs were never getting relayed to the
    caller. Fixed by resetting return code to non-zero before returning.

commit 83e31eaadd549132103899a201cdf100ab669b6e
Author: Claudio Furrer <elcaio@gmail.com>
Date:   Fri Oct 5 03:32:16 2012 -0300

    pkg/gentoo: version bump, added ebuild for v3.3.1

commit 019bcdc56533e7ccd0e1cc7d45b1d2d8ebc868ae
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Oct 5 14:34:13 2012 +0200

    nathelper(k): nicer handling of no sdp in sdp_1918(...)
    
    - don't print error message if there is no sdp body

commit 4cea90421731e13c79a663f5119e3f3007588662
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Oct 4 23:59:10 2012 -0400

    Finish fix for crash on hash entry unlink.
    
    Replaced core_hash references with more modern get_hash1_raw.

commit 7b31e989487c3c728fcbf8daf73feb228f807706
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Oct 4 14:38:47 2012 +0100

    pkg/kamailio/fedora/16: Fixed typos in .spec

commit 8de2a607b99b51d4f4030518ebd08613f187e953
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Oct 3 20:25:52 2012 +0200

    auth: new function pv_auth_check(...)
    
    - equivalent of auth_check(...) from auth_db, but taking the password
      from a PV -- combines pv_proxy_authenticate() and
      pv_www_authenticate()
    - new module parameter use_domain that controls whether the domain part
      of URIs should be used or not to make the identity checks upon
      authentication with pv_auth_check(...)

commit 490df85a12a49f440ac6eb8b35be5f4c954b7b1b
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Oct 3 20:25:15 2012 +0200

    auth_db(k): moved the authorization checks flags to auth api

commit 1a0d7653139c04d2ab32fa68c86513faf82d5c17
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Oct 3 14:58:44 2012 +0200

    auth: new function has_credentials(realm)
    
    - returns true if an authorization header matching the realm is found

commit 7982d66c29e40548cb8282a1de6b7fdddece5ddb
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Oct 3 14:26:12 2012 +0200

    kamailio.cfg: show how to include a local file if exists
    
    - kamailio-local.cfg is attempted to be loaded if exists in the same
      folder, allowing to set defines/paramters inside it without changing
      main kamailio.cfg

commit 727203559c98d648e7da4f0d54d65a05317b14f5
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Oct 3 14:21:11 2012 +0200

    kamailio.cfg: test if DBURL is already defined before defining it
    
    - allow to set it via command line with -A DBURL='...'

commit 0193d296e39a9fc095e90682f5335a2907403474
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Oct 3 14:20:27 2012 +0200

    mem: fixed MDBG() parameters
    
    - log level is not necessary for this macro

commit 4b656a8f6ee3056986687ca923436639e2fc1653
Merge: 7b6234a 43e1a79
Author: Juha Heinanen <jh@tutpro.com>
Date:   Wed Oct 3 09:29:32 2012 +0300

    Merge branch 'master' of ssh://git.sip-router.org/sip-router

commit 7b6234a3e8d0427c767942327aff57ade676eb5e
Author: Juha Heinanen <jh@tutpro.com>
Date:   Wed Oct 3 09:27:38 2012 +0300

    mem/f_malloc.c: downgraded print free(0) warning from LOG to MDBG.

commit 43e1a79272b451588d9f9b97fdf1d661e18a45a0
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Oct 2 21:53:22 2012 +0200

    uac(k): documented the new parameter restore_dlg

commit 0d299fea8a642887305797203536e1340cdf74f9
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Oct 2 21:50:59 2012 +0200

    uac(k): new paramter restore_dlg
    
    - if set to 1, then the module uses dialog variables to store the
      initial and new values for From/To headers
    - default set to 0 - otherwise all calls that have changes to From/To
      headers must be tracked by dialog
    - result of checking a report from Alex Balashov

commit 41fa8653157a989ed1a77f72b25a20fd984b999d
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Oct 2 21:24:09 2012 +0200

    mem: enhanced the warning message for free(0) of QM in debug mode

commit 765b6e06fee81901e458bd5e9a4be26df79fb95b
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Oct 2 11:31:25 2012 -0400

    Only send NOTIFYs to caller group on receipt of first 18x response.
    
    Forked calls could mean multiple 18x responses from any of the callee
    endpoints. The module was sending a NOTIFY to all members of the caller
    group every time a 18x response arrived.

commit 28300568875f9d8d89bd03166518595e03b4bf12
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Oct 2 11:07:52 2012 -0400

    Move method check to top of sca_call_info_update routine.
    
    Reduce processing for methods we don't handle.

commit 666ccbf2deb43dc9fff3fe759de460a24f56acae
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Oct 2 11:06:59 2012 -0400

    Removing some debug logging.

commit 79b2fad8e89460cf08c8b7ed1a4736425bcdb9ac
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Oct 2 10:56:12 2012 -0400

    Include callee in appearance output.

commit 575e3dde9706b657e375814507ffc9b3fa4e6886
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Oct 2 16:05:38 2012 +0200

    sdpops: added new function sdp_remove_line_by_prefix(string)
    
    - removes lines from SDP body that matches the prefix
    - patch by Mikko Lehto

commit c1d1b82d326ebda28f2b3e57b4066aa1c90e1286
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Oct 2 16:02:05 2012 +0200

    parser/sdp: exported extract_field(...)
    
    - part of patch for sdpops by Mikko Lehto

commit 745e30c92336bfc3f8682b2c23e02862db688d9e
Author: Andrei Pelinescu-Onciul <andrei@iptel.org>
Date:   Mon Oct 1 11:55:16 2012 +0200

    tcp: fix _wbufq_insert bug
    
    When _wbufq_insert was called on a connection that had already
    some data added to the write buffer (another process was faster
    and added some data before the process that created the connection
    had a chance to do it), a wrong size was used in a memmove.
    This could lead either to corrupted messages or even crashes (if
     the messages were big enough to cause a buffer overflow).
    
    Many thanks to Jijo for debugging it.
    
    Reported-by: Jijo

commit ec07471c1fdddbc8490d57d089a283ab1a07288f
Merge: b60d3f7 aea31fc
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Sep 28 23:08:46 2012 +0100

    Merge branch 'master' into outbound

commit aea31fcdebe13004dbcea3afeabe4a045fefcc9c
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Sep 28 23:40:01 2012 +0200

    ldap(k): updates for usage of pv cache for pv_elem_t

commit 111bb96a0f18a3a1366e60deed54a4bd54ba865b
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Sep 28 23:31:50 2012 +0200

    carrierroute: updates for usage of pv cache in pv_elem_t

commit b60d3f76cb4d13a28cc38efabe1cebbf00d18d23
Merge: 962fbef f71d76c
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Sep 28 21:50:16 2012 +0100

    Merge branch 'master' into outbound
    
    Conflicts:
    	pkg/kamailio/fedora/16/kamailio.spec

commit f71d76c0f39f2c6b0e070e1246f371f17b45b2dd
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Sep 28 14:38:42 2012 +0200

    app_mono: fixed c&p typo names in examples

commit 505f157c2777fa5e62815ccb4ef68ceb0ab7a023
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Sep 28 11:02:04 2012 +0200

    usrloc(k): table version increased internally
    
    - it was done only in db schema by commit
      78dae896127ce6762e3fa7c2541e1b5f9b8a9023
    - reported by siklub

commit 83cdd718fab4e244c5362df5102481ce32f75ae1
Author: Juha Heinanen <jh@tutpro.com>
Date:   Thu Sep 27 19:16:47 2012 +0300

    modules_k/pua: always use_table before making db queries

commit a24ce948f9f1758440b58d328eb8654efabfbbea
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Sep 27 16:29:03 2012 +0100

    modules/websocket: Updated documentation and fixed typo in configuration file example

commit 927a8a1aa705438d210fc244066a8c5a5b84a746
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Sep 27 14:57:51 2012 +0200

    core/mem: moved safety check for null before range check in *free()
    
    - affects only when memory debug is enabled at compilation
    - apparently libssl has some free(0) which makes it not possible to work
      with memory debugging (reported on irc channel)

commit cbeb136c60d4890599d39665a2d27d865ae29b76
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Sep 26 12:11:36 2012 +0200

    userblacklist: updates for new pv_elem_t structure
    
    - safety checks to detect dynamic vs static string parameters

commit 0420d14dc23ae63a043650da0fa82654aab82bb6
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Sep 26 12:10:23 2012 +0200

    auth_db(k): load_credentials is using the cache for pvs
    
    - results in less used private memory

commit 2895dbdc0ba7c86b855fdffce178e3ca072a631a
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Sep 26 12:09:10 2012 +0200

    core/fixups: updates to reflect usage of pv cache for pv_elem_t

commit bd5353dff6e955830b816fe2f3d2bfedd02bf83b
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Sep 26 12:07:19 2012 +0200

    core/pv: use pv cache for pv_elem_t
    
    - reduces use of private memory for repetitive PVs

commit c79dffa959b325da2c579b2dce94511beac83f00
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Sep 26 10:20:11 2012 +0200

    xlog: use the function from core to get term color codes

commit b6642a1af48b3d00ca55d5d7712c842efd2f384a
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Wed Sep 26 10:19:51 2012 +0200

    core: exported dprint_term_color() function

commit 5b1f81c72b40a0f7609aac32a8ce6e7325a70396
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Sep 26 09:17:00 2012 +0200

    pv: new transformation {s.stripto,c}
    
    - remove the prefix until meeting 'c'
    - "abcdef"{s.stripto,d} => "def"
    - the char can be given in a pv

commit eebb2eb640992298c8119f4b5ac54e2370bff3a3
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Sep 25 22:11:14 2012 -0400

    Remove unused struct _appearance_list members max_index and next_index.

commit 20c436df0c81b38777052b4ba6fb425577f5c707
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Sep 26 00:18:49 2012 +0200

    registrar(k): some contact attributes were not in $ulc(...)
    
    - ruid, reg-id and instance were not returned by $ulc(...)

commit ed5859fcd482d803cb2896cf58e3ef19ad8c2a2d
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Sep 25 23:43:48 2012 +0200

    pv: new pv class - $K(key)
    
    - return the value for internal constant keywords
    - key can be:
    	- IPv4 - returns AF_INET
    	- IPv6 - returns AF_INET6
    	- UDP - return PROTO_UDP
    	- TCP - return PROTO_TCP
    	- TLS - return PROTO_TLS
    	- SCTP - return PROTO_SCTP
    - it can be used to compare the values from other pvs, such as $af(id),
      $snd(af), $snd(proto), ...

commit a2de5aba014c34fa0d37c1d527ff241e3969e897
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Sep 25 23:13:50 2012 +0200

    pv: new pv class - $af(key)
    
    - return address family for received message
    - key can be:
    	- id: return integer representation for IPv4 or IPv6 (value of AF_INET and AF_INET6)
    	- name: return "IPv4" or "IPv6"

commit daf65bac9d276598d932c7f905c30587ccb5a855
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Sep 25 22:20:21 2012 +0200

    nathelper(k): removed set_rtp_proxy_set() from docs
    
    - the function is now part of the rtpproxy module

commit 7943249ea75d8103d1364bcb4b6a63a2e685e88a
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Sep 25 13:52:05 2012 +0200

    utils/misc: few updates to vim syntax highlighting

commit 779addb9df44434448f78ab17d2daa756d31d3c0
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Sep 25 11:31:17 2012 +0200

    sanity: fix to parameter type in example

commit 7ed66b101602e2317c7cc95bf8fb8c039c227b8f
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Sep 24 16:39:17 2012 -0400

    Remove debugging, basic appearance-uri escapes are working.
    
    Does not currently attempt to escape user or host in URI itself.

commit e72a438d015e1f1afe1e3da83e3e6483c84373f0
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Sun Sep 23 22:15:48 2012 -0400

    Fix doubly linked list corruption.
    
    Forgot to assign next node's prev element on unlink.

commit 03dbe404cea02b7a6e252eedbaa34dad7a0a8aff
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Sat Sep 22 21:58:23 2012 -0400

    Initialize subscription-from-request's appearance index to 0.

commit 31e886ed712d4bc2c3b3e59953eae02b30a00fa8
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Sep 21 16:31:30 2012 -0400

    When unlinking a hash table entry, ensure the entry's next pointer is NULL.
    
    Possible cause of subscription corruption crashes.

commit c4b4ec30ce06b2517643ff8fca5d69b7e3ad6d7f
Author: Juha Heinanen <jh@tutpro.com>
Date:   Fri Sep 21 12:55:36 2012 +0300

    modules_k/nathelper: add_contact_alias() now accepts parameters
    
    - Function add_contact_alias() can now be given ip addr, port, and proto
      as parameters.

commit e8501b8eb592fa799af1fd1cfba8fa628cbfa800
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Sep 21 09:44:21 2012 +0200

    topoh: use L_DBG instead of L_ERR for some debugging messages
    
    - reported by Miguel Baptista

commit 900dee77178bf5f2c9dd9f2e67d4a467c5d4be1f
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Sep 20 22:52:14 2012 -0400

    Fix [SIPR-716]: place both endpoints on hold, unable to pick up.
    
    Code was always setting call state to active on 200 reply to INVITE if
    callee was SCA. Patch sets state to active on 200 only when seizing a line.

commit c60d8bb016314a5a6855a6e37dc52f85804addc0
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Sep 20 22:22:11 2012 -0400

    NOTIFY cseq wasn't getting set from saved subscription.
    
    Use less error-prone syntax for getting desired hash slot.

commit f403aa7a974e47b92dbfc63ba18ab5eedd2879eb
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Sep 20 22:11:42 2012 -0400

    Use copy of appearance owner URI when NOTIFYing on receipt of 18x.
    
    Don't FFS use a shm struct after unlocking.

commit d19f648201eeb9fc186bcd5e2459987b7da08163
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Sep 20 17:17:47 2012 -0400

    No need for lock in sca_hash_entry struct. Locking happens at slot level.

commit c49fa3c36f8ba139516101955b33c389b2790977
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Sep 20 16:47:33 2012 -0400

    Possible fix for [SIPR-712]: inadequate locking in sca_handle_subscribe.

commit 4369f7752984ca3f2511ef2f7f223076bc3dc0c8
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Sep 20 16:46:09 2012 -0400

    Add sca_hash_table_index_kv_find_unsafe.

commit a22482e4dd26db613eb646fb57c210bd5ef67a5d
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Sep 20 16:44:14 2012 -0400

    Add stub functions for PRACK and REFER with Call-Info.
    
    Must ensure Call-Info headers are stripped before they're sent to the
    callee, as it can confuse the Polycoms about the state.

commit f34fe7395a8191437e359572823c6628cb6f07d3
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Sep 20 13:56:35 2012 -0400

    Ensure that the c_uri.user is empty if there's no contact header.
    
    Possible fix for SIPR-715.

commit c9ea26924267ea260a2b10506db8de899d26b78e
Author: Richard Fuchs <rfuchs@sipwise.com>
Date:   Thu Sep 20 12:08:03 2012 -0400

    modules/ctl: remove limitation on number of message chunks
    
    binrpc uses an iovec to send out replies, which is limited in size and so
    severely limits the number of elements that can be returned. This patch adds
    a callback function to send out and empty the iovec array every time it gets
    full while it's being populated.

commit 8a05e548456e3c6703bf37342a081269432de6d5
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Sep 20 01:24:13 2012 -0400

    Removing unnecessary sca_update routines.
    
    Using P-Asserted-Identity accomplishes what the UPDATE packets failed
    to do, which is to update the caller's display with the correct remote
    party info.

commit a8c5b2080c1c3221d232dcbf4aed009e87fdfda8
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Sep 20 01:23:06 2012 -0400

    Committing for future reference before removing from project.
    
    Able to accomplish what was needed with P-Asserted-Identity header instead.

commit 472854e9908c6ff2cf4a39d064004e2683ef2bb8
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Sep 20 01:16:31 2012 -0400

    Fix [SIP-710]: SCA-to-SCA caller shows own DID instead of remote party's.
    
    Inject P-Asserted-Identity header with correct information in 200 OK
    response to SCA pickup of held call.
    
    Also fix regression removing NOTIFYs to caller on 18x replies, and
    update calls to update appearances to include display info.

commit 03c9725b6d5b7c6f14405c69e8cf9755659ad131
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Sep 20 01:14:35 2012 -0400

    Add sca_uri_display_escapes_count.

commit ec35eb22e8d1c98c73fd35499c7afb4b914de733
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Sep 20 01:12:39 2012 -0400

    Include escaped callee display info in appearance-uri attribute.
    
    Currently using escape_common function from strcommon.h, found in
    sip-router's libkcore.

commit 35baaf51504a2ba496a06830fe1b7da9a1d5b3a0
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Sep 19 21:44:01 2012 +0200

    Makefile: added new target 'printvar'
    
    - prints the value of a Makefile variable whose name is provided in
      variable 'v', e.g.,::
    	make printvar v=exclude_modules

commit 46cf25d2e18d14640624c35cf11d5dd7a6b1224d
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Sep 18 16:18:04 2012 -0400

    Pass To/From headers' display info and URI when updating appearance.
    
    Preparation for including display info with appearance-uri attribute.

commit c2eab9b90b9d34b147d8f7c420ab10e35ccb5245
Merge: 942229d 8456325
Author: Carsten Bock <carsten@ng-voice.com>
Date:   Tue Sep 18 20:43:29 2012 +0200

    Merge branch 'master' of ssh://git.sip-router.org/sip-router

commit 942229d809e715ae330894b20d099f38b616c044
Author: Carsten Bock <carsten@ng-voice.com>
Date:   Tue Sep 18 20:42:55 2012 +0200

    Minor bug-fix: Need to update length.

commit 84563257d6c174c7ef3c7ee9b931e64a0b5a95c2
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Sep 18 19:29:36 2012 +0100

    modules/websocket: Updated example kamailio.cfg
    
    - Now using corex and alias_subdomains.
    
      It is quite likely that a WebSocket server will be running on a host within
      the domain it is authoritative for and that the WebSocket client will
      address that host directly.  This means that the alias_subdomains modparam
      is a good way to get a domain and all of its sub-domains to match "myself".
    
      This is very useful for checking the Host: header in the WebSocket
      handshake.
    
    - Added handling of OPTIONS pings.
    
    - Fixed a problem with the Host: header check.
    
      When you connect to a WS or WSS socket in Google Chrome on the default ports
      (80 and 443 respectively) the Host: header will contain just a hostname
      (for example, "proxy.example.com") which works with is_myself().
    
      When you connect to a WS or WSS socket in Google Chrome on a non-default port
      (for example, 8080 or 8443 respectively) the Host: header will contain a
      hostname and port (for example, "proxy.example.com:8080") whoch does not work
      with is_myself().
    
      However, both "sip:proxy.example.com" and "sip:proxy.example.com:8080" will
      work, so simply adding "sip:" to the start of the contents of the Host:
      header before checking fixes the problem.
    
    - Tidied up response reason texts.
    
    - Tidied up some of the TLS specific checks in event_route[xhttp:request].
    
    - Removed some DBG level log messages.
    
    - Added a (commented out) example for checking the Origin: header in the
      WebSocket handshake.

commit 566ac92dc07d9928808a319d774a0e3cdb49d021
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Sep 18 09:58:54 2012 -0400

    Remove update_flag for now.
    
    Using UPDATE to correct URIs on both ends of the call caused the Polycom
    handsets to report loops. This in spite of them returning 200 OK to the
    UPDATEs and logging that the URIs were being updated successfully.

commit aa15ad5a0ee35f6676012a84c1e2501b1533ba6c
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Sep 18 14:50:33 2012 +0200

    corex: fixed typos in documentation example

commit ca2454106d869dacccda6bd5564037a83edd89bc
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Sep 18 11:53:02 2012 +0100

    pkg/kamailio/(centos|fedora): Fixed some issues with boxgrinder builds
    
    - Fixed typo in README
    - New version of BoxGrinder limits appliance name to 35 characters
      (so had to shorten these)

commit 9430ee8d313ece9c97384868ee7623c0979028f5
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Sep 18 09:27:38 2012 +0200

    pkg/kamailio/rpm: fixed copy&paste error for PKG_MEMORY size

commit 9430290ad91ca775bb18f54e70308917ce1e790a
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Sep 18 09:18:52 2012 +0200

    pkg/kamailio/rpm: added option to set pkg memory size for init.d script
    
    - split of MEMORY parameter to SHM_MEMORY and PKG_MEMORY
    - EXTRA_OPTIONS variable to add other command line parameters

commit 0b09c36e4251ee292a48d2fd83bca2fd0ff4c268
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Sep 18 00:32:48 2012 -0400

    Reconcile mismatched Contact and To/From URIs early.
    
    Fixes dropped state for caller URI (and stuck state for callee if callee
    is SCA) on second pickup on different handset after hold. Depending on
    the values in the To/From headers won't work, since the SCA reINVITE to
    seize a held call uses the SCA group's AoR in RURI, To and From, leading
    to problems in SCA-to-SCA calls.
    
    This does not yet resolve the display URI problem.

commit 75143735af38a921f8d8f1bcafdba14de4a3e39a
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Sep 18 00:26:50 2012 -0400

    Add sca_aor_create_from_info.

commit b19767513663acd96776cc454fe42ea11c50431f
Merge: 2750e03 cccdaea
Author: Carsten Bock <carsten@ng-voice.com>
Date:   Mon Sep 17 17:29:48 2012 +0200

    Merge branch 'master' of ssh://git.sip-router.org/sip-router

commit 2750e03d4977d4a8f59ca0d2d0f59e1caec96b2d
Author: Carsten Bock <carsten@ng-voice.com>
Date:   Mon Sep 17 17:25:38 2012 +0200

    New Option: "x" for automatic bridging between IPv4 and IPv6.
    Based on the following assumption: "i" is the IPv4 interface
    and "e" is the IPv6 interface on the RTPProxy (tested with both
    RTPProxy and Sipwise's ngcp-mediaproxy-ng).
    
    Mechanism is as follows:
    - IP in SDP is IPv4: Do bridging "ie"
    - IP in SDP is IPv6: Do bridging "ei"
    
    Not a big deal, but makes the configuration much more easier.

commit cccdaead04411175c46dd660c91c037c45f80c33
Author: Marius Zbihlei <marius.zbihlei@1and1.ro>
Date:   Mon Sep 17 17:34:57 2012 +0300

    core:parser fix possible bug in msg_parser
    
    If buffer was NULL, tmp was returned uninitialized, thus possible to cause problems

commit a6c250c091e29c1f4fd53782dfb723fa194fe03e
Author: Marius Zbihlei <marius.zbihlei@1and1.ro>
Date:   Mon Sep 17 17:21:37 2012 +0300

    core: fixed some bening (-Wunused-var) warnings displayed by clang
    
    Core builds with no errors/warning

commit 5273948a6eeb6f6fe878696dce54880cabb0ef7c
Author: Marius Zbihlei <marius.zbihlei@1and1.ro>
Date:   Mon Sep 17 17:21:02 2012 +0300

    Makefiles.defs: clang compiles to O9

commit 2d6a8e0ae7eb9bbf839227ae370ede7bf7d89ab1
Author: Carsten Bock <carsten@ng-voice.com>
Date:   Mon Sep 17 14:36:00 2012 +0200

    Revert "Do not perform a lookup for IPv4 addresses, if only listening on IPv6 sockets."
    Can be done by configuration.
    
    This reverts commit e1b3961b16b76b02ae7ad5f52b2e9db126f81ff9.

commit 97e03b52f1e15d7f22416274cf696fb5c6a94758
Merge: e1b3961 d9b009e
Author: Carsten Bock <carsten@ng-voice.com>
Date:   Mon Sep 17 14:35:12 2012 +0200

    Merge branch 'master' of ssh://git.sip-router.org/sip-router

commit d9b009ef3c430f6ea064b4a72d5b94ce842ede1d
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Mon Sep 17 10:55:48 2012 +0200

    benchmark: fixed bug/typo in calculating time diff ;)

commit 9d5ef9925da0257a46afa7e8d8dfa1ce8920364a
Author: Marius Zbihlei <marius.zbihlei@1and1.ro>
Date:   Mon Sep 17 11:42:01 2012 +0300

    cfg.y : improved printing of error messages to stderr
    
    The -E was ignored during the yyparse() stage, if log_stderr=no parameter in the cfg was set (default config)
    This caused problems debugging certain lodmodule errors.

commit 2e5145ecdd8368c947ea93b98449ebd997824ce2
Author: Marius Zbihlei <marius.zbihlei@1and1.ro>
Date:   Mon Sep 17 10:17:41 2012 +0300

    Provide inline linkage for non-gcc compilers(like clang)
    
    Inline method in headers should be declared extern.

commit 92d6ed40ca4aeb36d5d07a9048145779febba062
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Mon Sep 17 00:03:58 2012 +0100

    pkg/kamailio/fedora/16: Updated .spec for Fedora and CentOS builds

commit bde7e9465db9e7c9ecb485c57edabbd032f3b770
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Sep 16 23:47:20 2012 +0100

    modules_k/rls: Fixed segmentation fault in RLS when a resource-list is updated
    
    - Found and fixed by Hugh Waite @ Crocodile RCS

commit 67df57c984e040a948d01d2c6bf1a9461d271f8e
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Sep 16 23:46:07 2012 +0100

    modules_k/rls: Fixed race-condition on multi-server systems that can cause different NOTIFYs with the same CSeq
    
    - Found by Hugh Waite @ Crocodile RCS and fixed by Peter Dunkley @ Crocodile RCS

commit 424d2cabbe2e20c7ed134f6c9bd463811f2de63f
Author: Juha Heinanen <jh@tutpro.com>
Date:   Sun Sep 16 17:20:38 2012 +0300

    modules_k/usrloc: modified syslog messages on bad and non-local sockets
    - Changed syslog message on non-local socket from warning to debug,
      because non-local socket is ok when nathelper obtains the contacts and
      overrides the socket.
    - Corrected syslog messages on bad and non-local sockets.

commit 279fe72dbe9009aa9e73d7609460d4dc613bfa6d
Author: Juha Heinanen <jh@tutpro.com>
Date:   Sun Sep 16 17:14:18 2012 +0300

    lib/srdb1/schema: added expires_idx on location table

commit a46c8859c4f9451764a92cd329f4225a5b43a986
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Sep 14 13:45:14 2012 +0200

    Makefile.defs: version set to 3.4.0-dev4

commit 5b3d0d2837823a4879e493f04d4e995c3e29d37b
Author: Marius Zbihlei <marius.zbihlei@1and1.ro>
Date:   Fri Sep 14 13:53:00 2012 +0300

    lib/kcore: other inline linker fixes
    
    use of 'static inline' where appliable

commit 452c543de61d413351a5ac0816adc137d150824b
Author: Marius Zbihlei <marius.zbihlei@1and1.ro>
Date:   Fri Sep 14 13:17:24 2012 +0300

    core: Added support for the clang compiler
    
    Support for clang, a C compiler from the LLVM suite has been added.
    Install clang and run 'make cfg CC=clang && make' for building. GCC Inline assembly is supported.
    TODO: clean warning caused by clang (-Wunused-variable, etc)

commit d5a8649a2059466a1a8b9e2adbef139d0300a599
Author: Marius Zbihlei <marius.zbihlei@1and1.ro>
Date:   Fri Sep 14 13:15:47 2012 +0300

    core: Fixed inline function declaration for non-gcc linkers
    
    usage of either 'extern inline' or 'static inline' depending on function scope is recommended

commit e1b2e0bdb0b2bbd41fbe4e2a1cedb0fb4a682a5f
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Wed Sep 12 13:08:56 2012 -0400

    Initial attempt to use a flag & exported function to send UPDATEs.
    
    Additional fixes:
        * only attempt to unlink appearances on CANCEL if AoRs are SCA.
        * remove TMCB_DESTROY callback stuff.

commit 571212688fbe0dd56c4e18d0ae611f8c4b5df59c
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Wed Sep 12 01:29:38 2012 -0400

    Remove misleading comment.

commit 798b1324e42071d04f5d71cbef6ef97ca576d6f3
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Wed Sep 12 01:06:51 2012 -0400

    Register TMCB_E2EACK_IN on INVITE if either caller or callee are SCA.
    
    Fixes NOTIFYs on call answer if caller is non-SCA and callee is SCA.
    Appearance state of SCA callee was getting updated in this case, but
    the ACK callback wasn't getting registered, so no NOTIFYs to group.
    
    Additional small changes:
    	* Put quotes around appearance-uri value in Call-Info header.
    	* Only try to update appearance state on 18x reply if caller
    	is SCA.
    	* Temporarily disable TMCB_DESTROY callback registration.

commit 06853f5569a9215d0774ca92c7eda673a04b238d
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Sep 11 23:47:00 2012 -0400

    Clarify certain pro/con points re: UPDATE handling.

commit cc03c65d108c0a3f9df1dd076ee24f0f70c4b6e7
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Sep 11 23:15:45 2012 -0400

    Fix core on shutdown: param passed to usrloc cb must be separate shm_malloc'd.
    
    Passing the module struct (sca_mod) as the callback param causes a core dump
    on shutdown because the usrloc callback destructor will shm_free any param
    if non-NULL, and the module is already disposed by that point. The callback
    isn't currently using any param, so for now pass NULL params when registering
    for usrloc event callbacks.

commit 91f575b4baf34a8bff16022e807fb086a051414a
Merge: b6477c2 8fed32c
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Sep 11 17:35:32 2012 -0400

    Merge branch 'master' of git+ssh://repo.net.isc.upenn.edu/git/pnp/sip-router-sca-module

commit b6477c2f2329f3c07b5c4ef31dba92e5d49105d6
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Sep 11 17:34:36 2012 -0400

    Add notes about how to send UPDATEs to call legs after hold/pickup

commit 95581558c230054b082200f10509b8c61e036131
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Sep 11 22:02:21 2012 +0200

    corex: documented the new parameter alias_subdomains

commit eaed27161e36b0bec9bef2660d2fae80092a2e42
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Sep 11 21:52:01 2012 +0200

    corex: new parameter alias_subdomains
    
    - adds domain and all its subdomains to myself condition, registering a
      callback for check self event

commit e1b3961b16b76b02ae7ad5f52b2e9db126f81ff9
Author: Carsten Bock <carsten@ng-voice.com>
Date:   Tue Sep 11 19:39:32 2012 +0200

    Do not perform a lookup for IPv4 addresses, if only listening on IPv6 sockets.

commit 8fed32ca2984a5e8eeb92656d7c1bb4c7355ce4a
Author: Jorj Bauer <jorj@jorj.org>
Date:   Tue Sep 11 11:25:38 2012 -0400

    reduce dependency on copy-and-paste string literals

commit 750ec99e6d65b00f0e203f4cd508a2435812491d
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Sep 11 10:40:26 2012 -0400

    Improvements to hold/pickup when caller & callee are in SCA groups.
    
    UPDATEs ifdef'd out for now. Will set flag or AVP for script to trigger
    UPDATEs to both call legs after relaying ACK.

commit 78dae896127ce6762e3fa7c2541e1b5f9b8a9023
Author: Henning Westerholt <hw@kamailio.org>
Date:   Tue Sep 11 15:13:39 2012 +0200

    db scheme: add missing usrloc and aliases version increase, reported from Juha

commit ca551f7cb3770a08832758e543587415b3c6d80d
Merge: 2b62b73 5ac76c5
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Sep 11 14:01:16 2012 +0100

    Merge branch 'master' of ssh://git.sip-router.org/sip-router
    
    * 'master' of ssh://git.sip-router.org/sip-router:
      registrar(k): set found if lookup for uri branch is successful

commit 2b62b73f8d966d2418c765839ab43b3dbc57545f
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Sep 11 13:59:55 2012 +0100

    lib/srdb1/schema: Updated indices for presence tables based on results of latest performance testing
    
    - By Hugh Waite @ Crocodile RCS Ltd and Peter Dunkley @ Crocodile RCS Ltd

commit 5ac76c501c87da24443ec56b7cf4ac93b8318f49
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Sep 11 14:46:03 2012 +0200

    registrar(k): set found if lookup for uri branch is successful
    
    - the additional branches can hit all not found, but still a found on
      r-uri can happen

commit b0d642016cca83c519ea9aa0e04aa9bf353e07e4
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Sep 11 13:23:23 2012 +0100

    modules_k/pua: Adjusted locking for dialog insertion.  Candidate fix for "temporary dialog" error reported by Juha

commit 6924912be955b9f7ba47fd57b22ffe0c01eb68b2
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Sep 11 13:10:08 2012 +0100

    modules_k/rls: Fixed segmentation fault when uploading new contact lists for a logged in subscriber
    
    - Found and fixed by Hugh Waite @ Crocodile RCS Ltd

commit af8230b1ac6a88dfb10d567e784a3c39a8f1b863
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Sep 11 13:09:22 2012 +0100

    modules_k/rls: Improved check for expired subscriptions in DB only mode

commit 7b64e538b350ebd520b80f668045b9f3c7d68fb9
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Sep 11 13:08:38 2012 +0100

    modules_k/rls: Fixed issues with for() loops in DB only mode
    
    - Found and fixed by Hugh Waite @ Crocodile RCS Ltd

commit 5235a1d6218e0bb16f6c9998789864635f54d03e
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Sep 11 13:06:54 2012 +0100

    modules_k/rls: core_hash() not used correctly to distribute notifier traffic
    
    - Found and fixed by Hugh Waite @ Crocodile RCS Ltd

commit 6eccc8b61e848977012d6efa1fb5aae61f8d441e
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Sep 11 13:05:15 2012 +0100

    modules_k/rls: Fixed issues to do with expiry and rls_expires_offset
    
    - These cause particular problems on multi-server systems.
    - Found and fixed by Hugh Waite @ Crocodile RCS Ltd

commit 725020f91493d33c5fa86828a421ed465731658e
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Sep 11 13:03:32 2012 +0100

    modules_k/rls: Added missing lock_release()
    
    - Found and fixed by Hugh Waite @ Crocodile RCS Ltd

commit 20475258957cbf3183e5e771e9fd41dc69336096
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Sep 11 12:59:08 2012 +0100

    modules_k/pua_db: If PUA finds more than one matching dialog (when there should only be one) delete them all
    
    - A timing difference on multiple-servers can sometimes cause this,
      and (if it happens, it doesn't when the clocks are synced) you can
      end up with the same error coming out lots because the DB is not
      cleaned up.

commit ef7d43fc614276b75c560660c7e4368fd18d574d
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Sep 11 12:58:13 2012 +0100

    modules_k/pua: Fixed incorrect check/use of update_period modparam

commit d9087dbbf411f71486a4ce765aa5d6dfeb531f9c
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Sep 11 12:56:52 2012 +0100

    modules_k/presence: Improved check for expired dialogs in DB only mode with notifier tasks

commit cd6415240ff243842b4e11b095103f00fd64d0d9
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Sep 11 12:55:49 2012 +0100

    modules_k/presence: Fixed some problems with for() loops in DB only mode
    
    - Found and fixed by Hugh Waite @ Crocodile RCS Ltd

commit 3635a0d920f0d03e85b8b97a44d878f0f8d13931
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Sep 11 12:54:51 2012 +0100

    modules_k/presence: Fixed level of a diagnostic message

commit 4b9aa7f144b8cf3e6da775563528913ed79e0553
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Sep 11 12:53:58 2012 +0100

    modules_k/presence: core_hash not used correctly to distribute notifier traffic
    
    - Found and fixed by Hugh Waite @ Crocodile RCS Ltd

commit a29a2a81bc541af020955dbda0d352445fef5788
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Sep 11 12:51:33 2012 +0100

    modules_k/presence: Fixed inconsistencies in use of expires_offset for removing subcriptions
    
    - These caused particular problems on mulit-server, DB only, systems
    - Found and fixed by Hugh Waite @ Crocodile RCS Ltd.

commit bb7bc779da5910a3d22cb5631b532ac3a3eb6b1a
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Sep 11 13:01:13 2012 +0200

    registrar(k): documented lookup_branches(...) function

commit 2ac602d3de1330705ecfdede660d43c02e4b4334
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Sep 11 12:52:45 2012 +0200

    registrar(k): new function lookup_branches(domain)
    
    - lookup the contacts for r-uri and additional branches
    - only branches that are clean (i.e., have only r-uri set) are used
    - useful for group dialing, to lookup all AoR in the group, without a
      need to loop back

commit 0724528964f8ea74049cd2d2e08082025b5c5377
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Sep 11 12:45:25 2012 +0200

    core: whitespace identation fixes

commit f252606e41e00595cdaace7491af3d8daa138272
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Sep 11 09:02:51 2012 +0200

    kamctl: regenerated the db creation scripts
    
    - there were changes in presence tables not propagated to scripts
    - it includes the updates for location tables

commit fd911bbfdc82fc41312e2b4466e71ccd24bc5ee2
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Sep 11 09:02:34 2012 +0200

    lib/srdb1: added unique constraint on ruid for aliases table

commit 2c1a857f08512e7008cbd15c23716e149204a06d
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Sep 11 09:00:10 2012 +0200

    lib/srdb1: added unique constraint on ruid for location table

commit 6b7a27e81cc838de6af9a1c55edb937d1094ce98
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Sep 11 08:52:53 2012 +0200

    kex: documented mi statistics commands
    
    - reported by David at lublink

commit 59cc9a44ef0c603503eac70d4b3367b47a610176
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Sep 11 00:10:32 2012 -0400

    Re-enabled usrloc bindings so deleting subscriptions on unREGISTER works.

commit e82a63d6874fa609d7588323500e5560b3ebe963
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Sep 11 00:09:05 2012 -0400

    Add sca_update.c & sca_update.h to send UPDATEs to both legs after pickup.

commit bedb7fdc6d02e92fbf52ad4acb6dfcbb49f0bc49
Author: Juha Heinanen <jh@tutpro.com>
Date:   Fri Sep 7 19:16:37 2012 +0300

    db schema: removed unique requirement from pua expires_idx
    
    - TODO: change also other than mysql table structures

commit 08cb1ca64b7259b6cb82751eaedda238fd902ac2
Merge: 9717357 9329c7d
Author: Henning Westerholt <hw@kamailio.org>
Date:   Fri Sep 7 13:52:36 2012 +0200

    Merge branch 'master' of ssh://git.sip-router.org/sip-router
    
    * 'master' of ssh://git.sip-router.org/sip-router:
      Use &long_hf_len; instead of &uri_len; for path column in location table.

commit 97173572a81b67dd5165de2948562d5db91168d5
Author: Henning Westerholt <hw@kamailio.org>
Date:   Fri Sep 7 12:57:30 2012 +0200

    db scheme: move usrloc and alias expire time 10 years to the future, to 2030

commit 9329c7d1522f9692f46210aa72e9e932b97a0178
Author: Iñaki Baz Castillo <ibc@aliax.net>
Date:   Fri Sep 7 12:53:48 2012 +0200

    Use &long_hf_len; instead of &uri_len; for path column in location table.

commit 976f801ae2df9597be0fccff89496bde34b22e62
Author: Henning Westerholt <hw@kamailio.org>
Date:   Fri Sep 7 12:44:33 2012 +0200

    dialog: use long_hf_len instead of hardcoded value in table defs, no actual schema change

commit 61254d70442144277981f2d866de379413634a4f
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Wed Sep 5 15:14:18 2012 -0400

    [SIPR-699]: delete subscription when endpoint's registration ends
    
    Detect registration deletion or expiration, and delete endpoint's
    call-info subscription.

commit d1d2494c966d65828d1920296056da840a11efd9
Author: Vicente Hernando <vhernando@systemonenoc.com>
Date:   Wed Sep 5 06:44:39 2012 -0400

    sdpops: Fix memory leakage in w_get_sdp function.

commit 163f860ef7c0ed9a720207499d054e7f68b139df
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Sep 5 08:58:18 2012 +0200

    dialog(k): fixed the name of event route
    
    - it is 'dialog:failed' instead of 'dialog:failure'
    - reported by Uri Shacked

commit 52f501388c99e992d371d17a78dd36ff373d354c
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Sep 4 10:25:14 2012 -0400

    [SIPR-700]: module should drop subscriber if NOTIFY delivery fails.
    
    Module unlinks & deletes subscription if call-info NOTIFY to subscriber fails.
    Also fix memory leak in the expired purge tick, which was unlinking but not
    deleting.

commit 18c5f3fec6b5e4d2e8ad86b13c5b4e62c6c5513c
Author: Boudewyn Ligthart <bligthart@btlnet.co.uk>
Date:   Tue Sep 4 16:16:38 2012 +0300

    modules/db_cassandra: Added raw query support
    
    The raw queries can be performed through avpops module and have to have
    the CQL syntax.

commit 15f5c9f2f7323c5192a7eb550cc7e7c53b20782a
Author: Carsten Bock <carsten@ng-voice.com>
Date:   Mon Sep 3 21:31:58 2012 +0200

    b/f: In case of IPv6 Option in the RTP-Command, the pointers and the length need to be updated.

commit a6a37ad2ae7dd99deae3ec9d83ab38ab54e2f2af
Author: Henning Westerholt <hw@kamailio.org>
Date:   Mon Sep 3 13:01:05 2012 +0200

    kamdbctl: add some explanation to the variables section and fix path

commit a5a58239efb00f25cd51753c984ee4469fd97754
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Mon Sep 3 08:53:47 2012 +0200

    xlog: new module parameters log_colors
    
    - update the colorscheme for log levels

commit 1c1bdda16c7643b882a437583368d97e33c21e56
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Mon Sep 3 08:52:26 2012 +0200

    core: added function to update log level color scheme

commit e09b5bc8f7d17d8d9d9754152d78b0c835e94a9f
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Sep 2 13:36:55 2012 +0200

    kamctl: regenerated db creation scripts

commit dfc98801110554f92aeaa80594e01cad16c9dcd1
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Sep 2 13:29:18 2012 +0200

    prefix_route: new parameter to control the exit from config
    
    - 'exit' controls if prefix_route() triggers cfg exit or returns true
      upon matching a prefix. Default is 1 (on) for backward compatibility
    - prefix_route() takes an optional parameter that can be used to match
      the prefix instead of r-uri username

commit 886a0659449bc03bd7c5e852fe6ba29a17ad923d
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Sep 2 13:08:53 2012 +0200

    srdb1: table_name set to unique constraint in version table

commit ca57c8631511943e835e8b030dad638f92aff884
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Sep 2 11:59:38 2012 +0200

    tm: new config parameter - remap_503_500
    
    - option to disable remapping of 503 response code to 500

commit fe00a3346a2276b25ae26160ce76bf658b5b826e
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Sat Sep 1 16:24:02 2012 +0200

    core: log_color - new global parameter to enable colorful log messages
    
    - enabled only when log_stderr=1
    - equivalent of -e command parameter
    - it can be: 0 - disabled (no colors, default); 1 - enabled

commit 6bda9c0b7aac195902d2c42123bdde007a9a687f
Author: Elena-Ramona Modroiu <ramona@asipto.com>
Date:   Sat Sep 1 16:16:21 2012 +0200

    core: -e - new cli parameter to enable colorful log messages
    
    - used only when log messages are printed to stderr
    - each log level is printed in different color, using term colors (like
      $C(xy) variable)

commit 28a7300cd83e135b1c0d5488cb289fc7415fbd8c
Author: Juha Heinanen <jh@tutpro.com>
Date:   Sat Sep 1 13:32:18 2012 +0300

    modules/dialplan: always set type of attrs pvar value
    
    - Type of attrs pvar value was not set when dp_translate didn't result
      in any change.

commit 494b383edde7a2d193c220f3117506e4cc95932f
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Aug 31 10:29:45 2012 +0200

    auth: print return code in log when nonce is invalid
    
    - it will give a clue about why nonce is considered invalid

commit e4ecf49add0e62330e1db071106806e35e9b078a
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Aug 30 22:38:11 2012 +0200

    corex: a new module to collect reimplemented core cfg functions
    
    - old core functions for cofiguration file do not take variables in the
      parameters, working only with static strings or integers
    - some of them will be reimplemented in corex moduel to add support for
      variables, making the parameters to be dynamic at runtime
    - append_branch(...) was reimplemented at this moment, allowing URI and
      Q parameters to contain variables
    - there are also brand new features - two RPC commands, one to list the
      listen sockets and the other to list the hostname aliases
    - name of the module comes from CORE eXtensions

commit 41918bca6d6a99f6773a72ab132e75c940ecd79a
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Aug 30 22:36:10 2012 +0200

    core: removed append_branch() from cfg language structure
    
    - cfg append_branch() is no longer implemented by core, being moved to
      corex module in order to allow variables in the parameters

commit eb73f14958ede24928f312fa0e44d171fa7bf373
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Aug 30 22:34:40 2012 +0200

    kex: removed km_append_branch() cfg funtion
    
    - functionalty being replaced by append_branch() from corex module which
      can take also Q as parameter

commit 132df8d61eefcc2dbea08ae70db82393803d9488
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Aug 30 10:16:04 2012 +0200

    core: exported get_valid_proto_name() via headers

commit 21583d47751fc7f684dac41a3bfbfc3b2c0bf3a3
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Aug 30 10:15:26 2012 +0200

    db_cluster: safety check for existence of several DB API members

commit 82bb7a8b67e488e7089d194fa5f96e9ae61dfb03
Author: Anca Vamanu <anca.vamanu@1and1.ro>
Date:   Thu Aug 30 17:39:47 2012 +0300

    modules/db_cassandra Updated in doc location table schema

commit 0f8f21e390e8442cf1f527d3654dedc5a40bfcea
Author: Anca Vamanu <anca.vamanu@1and1.ro>
Date:   Thu Aug 30 17:21:29 2012 +0300

    modules/db_cassandra: Fixed segmentation fault in case of bad table schema
    
    Reported by Boudewyn Ligthart.

commit 8d70484116e48b15681589f70c650a082614396c
Author: Vicente Hernando <vhernando@systemonenoc.com>
Date:   Thu Aug 30 05:20:25 2012 -0400

    ndb_redis: argument checking in redisc_free_reply

commit 512013f324dd6faa37e26302a267afb07252812a
Author: Anca Vamanu <anca.vamanu@1and1.ro>
Date:   Thu Aug 30 12:24:24 2012 +0300

    modules/db_cassandra: Updated replace function to the new signature

commit 978ec2fb51751529953eadec653772edd5dc1ccd
Author: Richard Fuchs <rfuchs@sipwise.com>
Date:   Wed Aug 29 15:47:10 2012 -0400

    modules_k/nathelper: fix a= lines inserted out of order
    
    RFC 4566 dictates a particular order of fields in the SDP body, in particular
    media-specific a= lines must be last fields within an m= block. Inserting
    them right after the m= lines violates this order if other fields (such as
    c=) are present, causing parse errors in some clients. So instead, insert
    them at the end of each m= block.

commit b7a1ba89ce9d8a310b9b0151f6535d612dbc9057
Author: Vicente Hernando <vhernando@systemonenoc.com>
Date:   Wed Aug 29 12:45:40 2012 -0400

    ndb_redis: redisc_exec_argv function

commit ae7047e05a7ff05a1707446286e2837fa49671dc
Author: Anca Vamanu <anca.vamanu@1and1.ro>
Date:   Wed Aug 29 19:33:51 2012 +0300

    kamctl/dbcassandra: Updated schema for cassandra location table

commit 4b60f510b3fe4ac8ff8fa2721cc40b18b93ed5d1
Author: Vicente Hernando <vhernando@systemonenoc.com>
Date:   Mon Aug 27 16:22:35 2012 -0400

    ndb_redis: add some error checks in redisc_exec function.

commit 57b5efa329ee50cfee361fe10204b37ca8a8e039
Author: Vicente Hernando <vhernando@systemonenoc.com>
Date:   Mon Aug 27 07:01:18 2012 -0400

    ndb_redis: add goto error_exec instead of return

commit 2bd8309a9e1af15dc3b5dafdfc84b97fc8338c98
Author: Jon Bonilla <manwe@aholab.ehu.es>
Date:   Mon Aug 27 12:49:07 2012 +0200

    pkg/deb Set Standards version to 3.9.3

commit e8c7708bed7081e74ee43370ab63031daac6fb8b
Author: Jon Bonilla <manwe@aholab.ehu.es>
Date:   Mon Aug 27 11:35:50 2012 +0200

    pkg/deb: Don't conflict with -dbg any more

commit b53ca97379e1b4aeae80b794f23e25e9150a0e58
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Aug 27 10:37:50 2012 +0200

    db_cluster: more verbosity when building cluster structures

commit 11bc9210cd6665087ef79f7b6af9e9e478ea7923
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Aug 24 23:12:19 2012 -0400

    Display owner and dialog in sca.all_appearances output.

commit 205c18d3697367fcbc0d93cc243fcb9f751e83df
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Aug 24 23:10:56 2012 -0400

    Add routine to update callee. Add two convenience lock-if-SCA routines.
    
    Extend appearance struct to store previous owner, callee & dialog.

commit 94cf6005b264fecd888c8141ebf4247b2a02855f
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Aug 24 15:20:23 2012 -0400

    Notes on use of To-URI during pickup of held call.

commit 75b304538f4094340ab7471487cac687fbd1c769
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Aug 24 13:38:31 2012 -0400

    Add sca_uri_build_aor().

commit fbc6ce9c0792408877166a3e35b1c6cc2dc645e3
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Fri Aug 24 09:51:06 2012 +0200

    xmlrpc: more correct re XMLRPC spec re. no type specified, defaults to string
    - This will allow you to receive docs like <value>mystringvalue</value>
    - instead of only allowing <value><string>mystringvalue</string></value>
    - according to spec if no type specified, assume string
    - allows kamailio to receive messages from apache ws-xmlrpc which doesnt specify string type

commit 881ee61c85f66767e0e8988e0a98205abbc7f9e9
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Fri Aug 24 09:48:46 2012 +0200

    Revert "xmlrpc: more correct re XMLRPC spec re. no type specified, defaults to string"
    
    This reverts commit 35e5e50c8f624ab70ef095bdbc729861b4a0a749.

commit 35e5e50c8f624ab70ef095bdbc729861b4a0a749
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Fri Aug 24 09:21:40 2012 +0200

    xmlrpc: more correct re XMLRPC spec re. no type specified, defaults to string
    - This will allow you to receive docs like <value>mystringvalue</value>
    - instead of only allowing <value><string>mystringvalue</string></value>
    - according to spec if no type specified, assume string
    - allows kamailio to receive messages from apache ws-xmlrpc which doesnt specify string type

commit 4d15ba97bab58108cfedc45158d90583f67cdadf
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Aug 24 09:14:28 2012 +0200

    db_cluster: use connection from write structure for db updates
    
    - could be related to an issue reported by Øyvind Kolbu

commit 10327c61d35e034f31c49a27f11f81ec82c22055
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Aug 21 15:41:27 2012 +0100

    modules_k/rls: Use database row/table locking where supported in DB only mode
    
    - Under load there are lots of DB deadlocks when using
      (start|end)_transaction() with multiple presence processes and/or
      servers.
    - Without using (start|end)_transaction() multiple processes/servers
      overwrite each others changes.
    - Using row locking (where possible) and table locking (where
      required) fixes these problems.
    - IMPORTANT NOTE: DB only, multi-process/multi-server, presence will
      only work properly under high-load when using a database driver that
      supports transactions and locking (currently just db_postgres).

commit 92aedbb83f5d6cbfc7c4b5e68f260f7ecccc992e
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Aug 21 15:40:56 2012 +0100

    modules_k/pua: Use database row/table locking where supported in DB only mode
    
    - Under load there are lots of DB deadlocks when using
      (start|end)_transaction() with multiple presence processes and/or
      servers.
    - Without using (start|end)_transaction() multiple processes/servers
      overwrite each others changes.
    - Using row locking (where possible) and table locking (where
      required) fixes these problems.
    - IMPORTANT NOTE: DB only, multi-process/multi-server, presence will
      only work properly under high-load when using a database driver that
      supports transactions and locking (currently just db_postgres).

commit 34cd2acb5370f36238f8765765cee6d97fd18209
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Aug 21 15:36:34 2012 +0100

    modules_k/presence: Use database row/table locking where supported in DB only mode
    
    - Under load there are lots of DB deadlocks when using
      (start|end)_transaction() with multiple presence processes and/or
      servers.
    - Without using (start|end)_transaction() multiple processes/servers
      overwrite each others changes.
    - Using row locking (where possible) and table locking (where
      required) fixes these problems.
    - IMPORTANT NOTE: DB only, multi-process/multi-server, presence will
      only work properly under high-load when using a database driver that
      supports transactions and locking (currently just db_postgres).

commit f1f39db4f8a73f16497c4cc2658e9b4e68bac0fc
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Aug 21 15:27:29 2012 +0100

    modules/db_postgres: Added support for database row and table locking to PostgreSQL database module
    
    - start_transaction() now takes an argument allowing the type of locking
      (none, read, or full) to be specified.
    - new query_lock() API will use a SELECT ... FOR UPDATE query instead of
      just a SELECT ...

commit 6c39a678a5b1bf00e0a138daa90ac6401b017d94
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Aug 21 15:26:44 2012 +0100

    lib/srdb1: Added support for database row and table locking to SRDB1
    
    - Requires support within the database module

commit 9b77e69de0953f9f6f48d4c1cf06f7e593469912
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Aug 21 15:21:54 2012 +0100

    modules_k/rls: Some incorrect pkg_free() calls in DB only code
    
    - Found and fixed by Hugh Waite @ Crocodile RCS

commit b9e77beaee850303ffa736cb4043d21a1806fa4f
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Aug 21 15:21:03 2012 +0100

    modules_k/pua: transaction not ended before calling send_publish() from TM call-back
    
    - Found by Hugh Waite @ Crocodile RCS and fixed by Peter Dunkley
      @ Crocodile RCS

commit f20713462410211370e762abb463f0ceafd36d8d
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Aug 21 15:19:51 2012 +0100

    modules/db_postgres: libpq requires null terminated string, but Kamailio internal str type is not (necessarily) null-terminated
    
    - Found and fixed by Paul Pankhurst @ Crocodile RCS

commit 0b247dbdea53bf46fbe222bbf2dea66b030fdd35
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Aug 20 22:22:44 2012 -0400

    Fix [SIPR-688]: deadlock on BYE.

commit 79f7cbf4d301f90e750d94cceebba6a3a87a293f
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Aug 20 17:21:41 2012 -0400

    Use new sca_appearance owner and dialog update routines.

commit 8ec690991cd04bd8e2a343e16cd951e19ed60eac
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Aug 20 17:17:49 2012 -0400

    Add sca_appearance_update_owner_unsafe & sca_appearance_update_dialog_unsafe

commit a03b6671398707c0f1f8fe4c0b187109b8a4b1bd
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Aug 20 17:13:17 2012 -0400

    Replace dialog in appearance on held call pickup.
    
    Known bugs: [SIPR-689]

commit c7f7971fca82f2267cfff732c3d525af1af15938
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Aug 20 09:30:53 2012 +0200

    nathelper(k): documented keepalive_timeout parameter

commit 962fbef66a67c8c4ddf815e492b1f192a50339e7
Merge: af16e04 ac45478
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Aug 19 22:38:13 2012 +0100

    Merge branch 'master' into outbound
    
    Conflicts:
    	pkg/kamailio/fedora/16/kamailio.spec

commit ac45478f8bc32a806edb80874bf8c5e3d5342707
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Aug 19 22:30:49 2012 +0100

    pkg/kamailio/fedora: Updated rel in .spec to dev3

commit af16e04d837008e5158f3f0bc9f175b0fc02a08a
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Aug 19 22:15:58 2012 +0100

    modules_k/outbound: Renamed nat_uac_test() in this module to ob_nat_uac_test()
    
    - That way it shouldn't conflict with nathelper:nat_uac_test() if both modules
      are loaded.

commit 61674b59c6b14aded58fcd9801370b3648f9d21c
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Aug 19 20:47:43 2012 +0100

    modules_k/outbound: Started to fill in function that determines whether Outbound is required

commit 8bc7114c6a915985ca2f4e9ab50ea608437c7256
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Aug 19 21:29:06 2012 +0200

    core: rephrased debug message about no 2nd via in reply

commit 23e3258e3cb3c025c79570bcfe8395e92645fb16
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Aug 19 20:20:54 2012 +0100

    modules_k/outbound: Added nat_uac_outbound and tidied up module stub

commit 7376222d183d8122ef64467eae2d8d8dfdc6bc47
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Aug 19 20:18:51 2012 +0100

    modules_k/nathelper: Moved code for nat_uac_test into header files
    
    - This is to enable the code to be directly included into other modules and
      used without requiring nathelper to be loaded.
    - Specifically, this will be used with Outbound where the nat_uac_test()
      will be helpful for Outbound-based NAT traversal, but there should be no
      need to load nathelper too.

commit 36845cc575f36a62d88b0e10826c04d63edbd536
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Aug 19 13:01:36 2012 +0200

    usrloc(k): keep time of the last keepalive for natted UDP contacts
    
    - new field in the contact structure to keep the timestamp when that
      conctact was refreshed by keepalive or registration update
    - it is taken in cosideration to remove contacts that don't reply to nat
      ping requests, so it works only together with nathelper module
    - when an UDP contact is not resposive for an interval of time, the
      contact is set to expire is 10 seconds. This process takes place in
      the function that fetches the list of contacts for nat pinging
    - last_modified and last_keepalive are exported to mi and rpc list
      commands

commit a308226ced8b9807ee91f8e24c72d778e5a62e86
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Aug 19 12:56:24 2012 +0200

    nathelper(k): hanlde sip ping replies
    
    - new parameter 'keepalive_timeout' to detect if a contact does not
      reply to sip ping requests
    - default is 0 (feature disabled) - it should be few times more than
      natping_interval

commit c8421620772184d28fd5b08d09b1e64cf0a8866a
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Aug 19 12:52:51 2012 +0200

    core: added q_memrchr(...)
    
    - reverse search for char in a buffer

commit 98301c7e11d4bef786abbd3329287144df02184f
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Sun Aug 19 09:48:42 2012 +0200

    core: typedef'ed enum request_method to request_method_t

commit a2b8e55aa3f5d939d396270d47c3182bc840070d
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Aug 16 16:27:57 2012 -0400

    Fix [SIPR-683]: append appearance-uri to call-info NOTIFYs

commit dbc44c00534b8c34dc8a39dd2d9d931a2cd2d4ff
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Aug 16 22:26:17 2012 +0200

    tm: removed inexistent function from docs
    
    - append_branch()/t_fork() does not exist in tm anymore

commit e159eb090c9355431aa1e69a9d1dc622eb94cd89
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Aug 16 20:24:28 2012 +0200

    pv: new pv class $version(key)
    
    - return attributes of the software version
    - key can be:
    	- num - return version number
    	- full - return all version string
    	- hash - return git hash code and status

commit 5a9340a2309e7689da4d34eeeef12b0bed2f6e09
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Aug 16 20:24:02 2012 +0200

    core: added pv_get_strzval(...) helper function for pv

commit e5b1b1ec11406cb91eb809d618b132bf8a5f808a
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Aug 16 18:18:04 2012 +0200

    Makefile.defs: version set to 3.4.0-dev3

commit 8a7a06f4d9c78f6da0558806d988c817fd6d0018
Author: Iñaki Baz Castillo <ibc@aliax.net>
Date:   Thu Aug 16 16:17:51 2012 +0200

    Process CANCEL before in-dialog requests. This prevents issues with some devices sending buggy CANCEL with To-tag when cancelling an initial INVITE.

commit d661028060369e702f5882b6492040bd71fb900a
Author: Iñaki Baz Castillo <ibc@aliax.net>
Date:   Thu Aug 16 16:13:50 2012 +0200

    Add Record-Route for in-dialog NOTIFY as per RFC 6665.

commit 776dcfd081910b9fabbee7cbe0c483e25d1dcfc8
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Aug 16 01:37:13 2012 -0400

    Call hold + pickup from another handset is now working.
    
    A bunch of changes (with a lot of redundancy) for this:
        sca_call_info_is_line_seize_reinvite()
        sca_call_info_seize_held_call()
        sca_call_info_header_remove() now working
        RURI rewrite, drop branches
        lots of debugging messages that can be removed later

commit 80f5d1e048363a4a2d05bb561fdd5c9706135c47
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Aug 16 01:29:13 2012 -0400

    Add dset.h for branch manipulation and ruri_mark_new()

commit 4a0acc450620fefad49e679131790339e4ffbea7
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Aug 16 01:28:21 2012 -0400

    Add sca_dialog_create_replaces_header.

commit 22fd70a90607d90ebdabab65e6da3d5d7e0f5aeb
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Aug 16 01:27:09 2012 -0400

    sca_appearance_update_unsafe now updates index owner and callee.
    
    Add missing check for failed pkg_malloc, too.

commit e1149b05868b918d0bc52b2d46bb02f7799358db
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Aug 15 13:01:43 2012 +0200

    dispatcher(k): corrected setid_pvname parameter name
    
    - readme listed it as setid_pvar, the source code expected setid_pvname
    - reported by Dan B.

commit be05dfc0f4af62f9c368960fe75a810548be8b87
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Aug 15 12:48:32 2012 +0200

    dispatcher(k): corrected the variable which is set by ds_is_from_list()
    
    - setid_pvar is used instead of grp_avp
    - reported by Dan B.

commit 91d6d3c8a1484b23ff74f0cfd6356447985455a5
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Aug 14 22:18:50 2012 +0200

    acc(k): added notes about dynamic table name for db acc to docs

commit 95ee0a3ee75556a25f3a9286837a57decf6c3c91
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Oct 12 14:52:07 2010 +0200

    acc(k): table name for db acc can be dynamic
    
    - you can include variables in table name and will be evaluated at
      runtime:
        modparam("acc", "db_table_acc", "acc_$time(year)_$time(mon)")
      will write now to table acc_2010_10
    - same can be done for missed_calls table name
    - second parameter of acc_db_request() supports as well config variables
    (cherry picked from commit e8f6a95d43b6a4340cf7e97213af5c71fa2a69e9)

commit cff481736a3d62cd633077653ba52c00112b2333
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Aug 14 13:07:30 2012 -0400

    Add sca_get_msg_method.
    
    Simplify method checks for requests/responses.

commit e22e5f83115d9f1e33c27ae437d93d7701330a8c
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Aug 14 15:53:07 2012 +0100

    modules_k/rls: Fixed incorrect table version check
    
    - Found by Hugh Waite @ Crocodile RCS

commit de8b241ea39284cce4c7e1850fcf3cef4c4c4a0a
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Aug 14 15:52:37 2012 +0100

    modules_k/rls: Fixed memory leak in rls under some error conditions
    
    - Found and fixed by Hugh Waite @ Crocodile RCS

commit f9c5c389b2412d23f1fdd35c6e97dfe7dbe44811
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Aug 14 11:19:08 2012 +0200

    pkg/kamailio/rpm: execute 'success' for start operation
    
    - reported by Andre

commit b215201ca00712ef3cf1af9e2d46111ac39cd671
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Aug 14 09:19:49 2012 +0100

    pkg/kamailio/(centos|fedora): updated CentOS/Fedora build to add Outbound module stub

commit c9b45176a1e3a55820c98f4907927ee217007e2e
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Aug 14 09:17:16 2012 +0100

    Makefile: added Outbound stub module

commit 82de81e6becd747f84f67b360c510e3edbeeedf3
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Aug 14 09:15:51 2012 +0100

    modules_k/outbound: added stub module for Outbound

commit 7d80fd2b6f4eb5b5edff2a6c580010760cc07747
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Aug 14 00:26:50 2012 -0400

    Fix [SIPR-677]: NOTIFYs go to answering SCA group too early.
    
    Register a callback for ACKs following 200 OK replies to INVITE (TMCB_E2EACK_IN).
    Check to see if the To-URI is a shared appearance AoR, and NOTIFY if it is.

commit bf6addd45db22b038fd698ab538416b0b18b16cb
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Aug 14 00:19:15 2012 -0400

    Add tm_load.h for tm module API.

commit cf6f490058a24f228dc72b82166cdda52d36488b
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Aug 14 00:18:26 2012 -0400

    Invoke sca_appearance_register when saving a subscription.
    
    Ensures an sca_appearance_list for the subscribing AoR exists in the
    appearances hash table.

commit e6cbeaf209fec63a6b677e192547710825c5f964
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Aug 14 00:17:40 2012 -0400

    Added sca_appearance_register.
    
    Ensures an sca_appearance_list for SUBSCRIBE-ing AoRs exists in the
    appearances table.

commit f43e4c36cf67635c697af88ef510d26454298951
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Aug 14 00:17:09 2012 -0400

    Moved tm_load.h header to sca_common.h

commit 4f243623e1c379f3ea5d0aa76396cd7b8c3610a9
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Aug 14 00:16:23 2012 -0400

    Notes on moving entirely to using tm module callbacks.

commit dfbb0af56aec99e3c76476bba16c54cf0d7d928f
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Mon Aug 13 22:46:49 2012 +0100

    modules/websocket: removed another magic number

commit 8d3eec4f8fbfb2d037e09b80c5d45b5fc400f729
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Mon Aug 13 21:55:37 2012 +0100

    modules/websocket: Replaced magic number

commit d7fc85a606d4d2ab79f0afce99e30eff1144f9f1
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Aug 13 14:57:25 2012 -0400

    Notes regarding use of tm module callbacks to handle ACKs

commit 8ae135a34433054a3871cdebaeb79c5c62290761
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Aug 13 14:26:00 2012 -0400

    Split INVITE handler into dedicated functions, myriad other changes.
    
    Implement SLCB_REPLY_READY callback function to catch proxy-generated
    errors from e.g. sl_reply, which doesn't hit the onreply_route.
    
    Fixes for [SIPR-665], [SIPR-668], [SIPR-669], [SIPR-670] and [SIPR-673].

commit 57905957db810e6b2a2cdb6279d0840c1ab9363c
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Aug 13 14:24:35 2012 -0400

    Hook sl module's SLCB_REPLY_READY to detect proxy-generated errors.

commit 9f1d0920e7f370f655007818e9fc8d97a2505849
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Aug 13 14:22:46 2012 -0400

    Extend sca_subscription_terminate to take options.
    
    Allows caller to unsubscribe, or unsubscribe and drop released line.

commit 87742f9cd82a7da2da2cab59ea4e6338c76fa3c0
Author: Richard Fuchs <rfuchs@sipwise.com>
Date:   Mon Aug 13 13:10:37 2012 -0400

    modules/lcr, modules_k/regex: Fix stack overflow from pcre_fullinfo(PCRE_INFO_SIZE)
    
    Fix instances where pcre_fullinfo(PCRE_INFO_SIZE) was given only an "int"
    argument, which results in stack overflow on some 64-bit platforms where
    an "int" is only 32 bits long. It expects a "size_t" argument, which is
    64 bits long.

commit 65dcb2d0e72757d51b0ee51c457c5440278444bc
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Mon Aug 13 15:50:05 2012 +0100

    modules_k/rls: Added DB transaction code around rls_presentity insert/replace

commit c9628aa038ad7099a72af67f9284e5d0a9b78173
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Mon Aug 13 15:49:09 2012 +0100

    modules_k/rls: Fixed memory leak in rls
    
    - Issue fixed by Paul Pankhurst and Peter Dunkley @ Crocodile RCS

commit 5387288eac896a0710fb1c55cc4837e973e04946
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Mon Aug 13 15:48:18 2012 +0100

    modules_k/pua: Fixed double-free in pua

commit b5132f217f521872fb0a6a4ab215443a700bab6f
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Mon Aug 13 15:45:20 2012 +0100

    modules_k/usrloc: Downgraded a WARN to INFO
    
    - When Kamailio loads a contact binding whose socket is not local a
      warning is printed.  Unfortunately, this happens a lot on multi-server
      systems and it is not something to worry about.
    - The end result is a huge number of warnings that swamps log messages
      relating to real problems.
    - So downgrading to INFO.

commit f3123f3a567d16ed84635bf1bb3cb7df900e4a66
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Aug 10 01:56:24 2012 -0400

    Removed sca_unsubscribe_line_seize export.

commit ed1c6f28cfddcebb2afe7dc983afaffe401ab6b6
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Aug 10 01:55:46 2012 -0400

    Removed unusued exported sca_unsubscribe_line_seize function.

commit 1eb761515c6abb5cda4771c297401e62b81c5d12
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Aug 10 01:39:37 2012 -0400

    sca_subscription_terminate doesn't care if a subscription exists.
    
    It now returns early if there's no subscription to terminate.
    Increment NOTIFY Cseq for line-seize subscription before sending
    terminating packet.

commit b36730323a3f8d7c7973fb9438abe29508597233
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Aug 10 01:35:36 2012 -0400

    Add sca_appearance_seize_next_available_unsafe.
    
    Used in INVITE 200 reply handler to seize and make active the SCA
    callee's appearance-state.

commit 2a840c67a35c4e06bc5c362e2e28cb42de216552
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Fri Aug 10 01:30:44 2012 -0400

    Fix [SIPR-663]: handle Contact-less BYEs. Add sca_uri_extract_aor.
    
    The raw URI from the To header body frequently contains a parameter
    list. We only use AoRs to do lookups.

commit e32fdffcdeedf1e0d0399d883e2029e4ef093844
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Aug 9 16:37:16 2012 -0400

    Updated NOTES re: seizing held line from another handset.

commit f61295a91bb92645ea46dea5f6101232afeb720d
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Aug 9 16:14:43 2012 +0200

    usrloc(k): safety check for raw_query
    
    - db get all contacts functions requires raw_query, but not all db
      modules implement it

commit e154b2fb9f02d56d9c6a4b2d285791151ae0c8a3
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Aug 9 08:50:20 2012 +0200

    rr(k): fixed offset in building new route header
    
    - related to the previous fix done to strict routing intermediary hop

commit e009f06789c73860428a42c92ee3d8e1f3079831
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Wed Aug 8 23:22:10 2012 -0400

    Add sca_uri_is_shared_appearance.
    
    Remove a few debugging lines.

commit 94534adda00e8c47a45f01ba824b9bd238293274
Author: Jon Bonilla <manwe@aholab.ehu.es>
Date:   Thu Aug 9 00:20:57 2012 +0200

    pkg/deb wrap and sort debian control
    
    This makes it easier to track the dependency
    changes for version control systems and diff logs
    
    Credits to Michael Prokop mprokop@sipwise.com

commit ae8f15dcdea73156dbc704bc46908b76ba174393
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Aug 8 20:27:17 2012 +0200

    nathelper(k): use usrloc ruid and aorhash to build from tag of SIP keepalives
    
    - update due to last change in usrloc get all records API function
    - these values can be used to identify the usrloc records (e.g., upon
      handling the SIP keepalive reply)

commit 7b863271880a643d72b506975faa0669d2ca268a
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Aug 8 20:24:09 2012 +0200

    usrloc(k): return ruid and aor hash in get all contacts API functions
    
    - these records are used to send NAT keepalives
    - aor hash is set to 0 if db_mode is DB_ONLY, it is not stored in
      database

commit c1240aa21a534f1c1a5bdaaebd9c29fe4984a4bb
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Aug 8 12:05:44 2012 +0100

    modules_k/rls: Fixed memory leak in RLS
    
    - Leak only happens when there is more than one Record-Route: header
    - Fixed by Hugh Waite @ Crocodile RCS

commit 58b22e62ea360c38574ad5ef2a031bb9413807fa
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Aug 8 10:14:57 2012 +0100

    modules_k/snmpstats: Added defines for WebSocket transport
    
    - There are no specific stats for WebSocket connections here (just
      as there are none for SCTP), but the defines are there as place-
      holders.

commit 6eb7414bc7e6f2027d49d5b01462e565ae4a93a1
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Aug 8 10:10:42 2012 +0100

    modules_k/seas: Added WebSocket transport support
    
    - Note: seas doesn't seem to compile at the moment, but I think the
      four lines added for WebSockets are OK...

commit e1848d9c7fcaa04e785fe39365abd90b3c075f2f
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Aug 8 10:08:33 2012 +0100

    modules_k/nat_traversal: Added WebSocket transport support

commit f96e6005eb5a071ec25c9ab3174c4150223448cd
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Aug 8 09:59:59 2012 +0100

    modules/lcr: Added WebSocket transport to lcr
    
    - LCR won't use a WebSocket gateway (this doesn't make sense), but
      PROTO_(WS|WSS) has been added to some switch statements to catch
      misconfiguration and get rid of compiler warnings.

commit c7a9b1ed48631952f286d312721e8c45dde05ca1
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Aug 8 09:49:13 2012 +0100

    modules_k/path: Added WebSocket transport support to Path module

commit 6f928a54d137e2e08ccc1a278afb04b40e34307f
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Aug 7 23:38:18 2012 +0100

    modules/websocket: Added new event_route[websocket:closed] which is run when a WebSocket connection is closed
    
    - Also changed ws_handle_handshake() to return 1 on success (still 0 on all
      errors as they are handled - and the correct responses sent - within the
      function).

commit eaf81de37baac269135cac55ab4fd42d3b72e045
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Aug 7 16:46:52 2012 -0400

    Detect call hold INVITEs & update state. Handle Call-Info in BYE replies.
    
    Blinking lights on hold! Consultative & blind xfers work!

commit 68a3cbd66187460aafa84c8ce6a1f2190aa27a62
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Aug 7 16:26:33 2012 -0400

    Add sca_appearance_state_for_index.
    
    Convenient for looking up appearance based on line-seize subscription info.

commit 9347715a2f5ac4f847e45d1412bab48cacbf0b17
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Aug 7 16:25:43 2012 -0400

    Only NOTIFY on line-seize subscription expiration if state is "seized"

commit d8bcf925501f883ebab79d45e75aee5ef9042cca
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Aug 7 16:23:28 2012 -0400

    Add sca_call_is_held to detect whether call is on hold.
    
    Uses parser/sdp/sdp.h; very similar to modules_k/textops's is_audio_on_hold.

commit aacd6d6cc854d995c26080687d2e97e17ea04d10
Author: Victor <linuxmaniac@torreviejawireless.org>
Date:   Mon Aug 6 09:25:32 2012 +0200

    fix typo errors on binaries.

commit b9d082fbbaf16faadccb45dcf89f05c910d93b61
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Aug 6 16:27:35 2012 -0400

    Fix reply handling, add CANCEL handler, handle BYEs from non-SCA lines
    
    Add some debugging messages.

commit f728283da3473a80e65a9d32c36d0a5dc580a3cb
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Aug 6 16:26:06 2012 -0400

    Fix implementation by pointing dialog members to correct offsets.

commit e94074a009c275dacb5d9c0aee03ae04ce4c7d25
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Aug 6 16:24:14 2012 -0400

    Add sca_appearance_unlink_by_tags.
    
    Allow unlinking from appearance list by dialog. Useful when handling
    requests/responses from non-SCA lines to SCA lines. sca_appearance
    struct is now aware of its appearance list to make this possible.

commit a66be990168739acfa9dd7e2b99f22fed61fc2ec
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Aug 5 16:45:04 2012 +0100

    pkg/kamailio/fedora/17: Fixed problem with appliances

commit 9fc34aad6328a92b7572ae077d9ff4d2699dbb48
Author: Alex Balashov <abalashov@evaristesys.com>
Date:   Sun Aug 5 08:22:12 2012 -0400

    core: Added null pointer check to parser/msg_parser.c:get_hdr_field().
    
    Encountered crash bug in which 'buf' pointer passed to get_hdr_field()
    was null.  There is no null check, so attempts to dereference it lead to
    a crash:
    
    Core was generated by `/usr/local/sbin/kamailio -P /var/run/kamailio.pid -m 1024 -u root -g root -f /r'.
    Program terminated with signal 11, Segmentation fault.
        at parser/msg_parser.c:102
    102		if ((*buf)=='\n' || (*buf)=='\r'){
    
    Fixed by adding a check for buf == NULL to top of function.

commit 49f25c402871a619404b61e29ff496c71daad8be
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Aug 3 14:39:49 2012 +0100

    modules_k/rls: Fixed segmentation fault in RLS
    
    - Fix by Paul Pankhurst @ Crocodile RCS

commit 5c83492470e8d1a706933915fcfbf6cfe2e0fd55
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Aug 3 14:38:49 2012 +0100

    modules_k/dispatcher: Dispatcher reload MI command not returning errors correctly
    
    - Fix by Hugh Waite @ Crocodile RCS

commit 19aafcfc262c16f98793ef135900cd65fca44522
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Aug 3 14:37:20 2012 +0100

    modules/tm: Enhanced t_replicate so that if a NULL string is used it replicates to $du
    
    - Added by Hugh Waite @ Crocodile RCS

commit 79a614ced2283264e3746cfcfd32fe4245f6496b
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Aug 3 11:32:28 2012 +0100

    pkg/kamailio/fedora/17: Fixed typo in appliance files

commit 090be2532da73f51043f9ba5f4b221fe338d60fa
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Aug 3 09:20:03 2012 +0200

    rr(k): add missing '<' in Route header for strict routing
    
    - if next hop is strict router after loose routing, moving the r-uri to
      last Route header was missing '<' in front of the address
    - reported by Varsha Venkatraramani

commit 0f0e2f0092beca6dc1e8eddaf5aaf85ebe839f3b
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Aug 2 15:59:54 2012 -0400

    Add sca_get_msg_cseq_method

commit b483b96c9b5519e20720a08132ead94dd56ee47e
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Aug 2 15:09:28 2012 -0400

    Make Call-Info header detection case-insensitive.
    
    Net::SIP lowercases's initial character after hyphen in headers.

commit 7a5c91b8b79c7599d8e81fe3a50a3c778f88592b
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Aug 2 12:18:15 2012 -0400

    Update sca_appearance_update_unsafe call to match new prototype.

commit baf11d677e14317385e7a63072d16d14efb04406
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Aug 2 12:16:16 2012 -0400

    Initial (unsafe) non-locking appearance update routine.
    
    Only updates index, state, uri & dialog. TODO: owner, callee.

commit ee464091c3506c6c977cba49fe5a310656d7e310
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Thu Aug 2 12:03:40 2012 -0400

    Initial work looking up SCA appearance by dialog, not Call-Info header.
    
    Required to process responses/requests from non-SCA lines.

commit bcff862df5b937e3a6ff87e4415e0039fd989908
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Aug 2 10:16:31 2012 +0200

    core: added md5 wrapper functions to build with Colin Plumb's md5 code
    
    Author: Tzafrir Cohen <tzafrir@debian.org>

commit e6d912ad036aa92604ba3f2bf65cc4c4ba3e4d2f
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Aug 2 10:13:00 2012 +0200

    core: Use Colin Plumb's MD5 implementation
    
    Origin: http://anonscm.debian.org/gitweb/?p=dpkg/dpkg.git;a=summary
    Author: Tzafrir Cohen <tzafrir@debian.org>
    
    Borrowed the md5 code from dpkg instead of the existing md5.[ch]
    
    This makes the code compatible with Debian packing rules and
    restrictions regarding license for distribution

commit efa3099252ca5d200bef6ce71df33f33b55f9941
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Jul 30 12:57:09 2012 +0200

    register(k): pack contact info based on header for searching existing ul records
    
    - not using the contact header resulted in omitting instance and reg-id
      parameters, not following gruu/ob extensions, ending in duplicate
      records for same +sip.instance
    - reported by José Luis Millán

commit a7cad776a514b0ec73a5c40b7971af8e0f0da92b
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Jul 30 12:55:36 2012 +0200

    usrloc(k): on ul update, re-clone uri and callid if instance is set
    
    - changes can happen when gruu/ob is enabled as the UA can get different
      address for same instance

commit 72942d8441e04c6f92c8072a373e1f0a9dcc0e61
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Jul 30 11:18:28 2012 +0200

    db_sqlite: added notes about usage in readme
    
    - based on content by Meftah Tayeb

commit a4e2c43cd66a86bef2d8bda1b0ca0c6f93517a8d
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Jul 27 13:14:53 2012 +0200

    rtpproxy: allow pv as parameter to set_rtpproxy_set() function

commit 9a1450d99accef8e473cf2324412fdfc09a7cd11
Author: Juha Heinanen <jh@tutpro.com>
Date:   Fri Jul 27 13:08:21 2012 +0300

    modules/lcr:  improved documentation of lcr_count module param

commit 1c2cb66a8c9a4482ac278604f32bd772973a787f
Author: Richard Fuchs <rfuchs@sipwise.com>
Date:   Thu Jul 26 09:41:26 2012 -0400

    modules/lcr: Fix printing of IPv4 addresses in lcr.dump_gws
    
    IPv4 addresses were printed incorrectly. Also add special handling for
    null gw addresses and print them as 0.0.0.0 for backwards compatibility.

commit 4a61c692e69fad0e6788725a1e0b2c844607ed7e
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Wed Jul 25 14:47:48 2012 -0400

    Implement sca_call_info_update and handler functions.

commit e278397916e0b31d7510a3ef324631fd0c0d7d97
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Wed Jul 25 11:47:13 2012 -0400

    Improve subscription termination handling. Track appearance indexes.
    
    Release seized lines on subscription termination. Use updated constant.

commit a2f99b96bebf7def0c9bc65f1d635679671c1798
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Wed Jul 25 11:33:22 2012 -0400

    Add unsafe (i.e., use only when locked) find and unlink functions.
    
    Reduce amount of locking done oer operation by acquiring lock once,
    then using "unsafe" hash table functions.

commit 1c0166538f51c94ee357df82a5c7b24f7a34fca5
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Wed Jul 25 11:28:42 2012 -0400

    Add sca_appearance_for_index_unsafe, sca_appearance_for_dialog.
    
    sca_appearance_update_index now updates dialog, too.

commit 6d96f924f9888b7f432ba3f3e1cc5b6b294f0f9b
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Wed Jul 25 11:22:42 2012 -0400

    Use updated sca_appearance_update_index, constant name.

commit 7adbb3bb212f20426ccdf8cfd10ef91359fbc87f
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Wed Jul 25 11:20:24 2012 -0400

    Export sca_call_info_update.
    
    Temporarily export sca_unsubscribe_line_seize.

commit f8ca7820635567052d9c5b202fac11134ab0db3e
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Wed Jul 25 11:07:52 2012 -0400

    Use updated constants, add comment about hooking failed replies.

commit 058b0aa803d66f0fb9b3ae87435a6cd3924e3043
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Wed Jul 25 11:05:23 2012 -0400

    Add prototype for sca_dialog_build_from_headers, SCA_DIALOG_EMPTY

commit 4cdfefd8a47a2bea10d279ad20579b056c4e49d1
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Wed Jul 25 11:03:44 2012 -0400

    include data_lump.h for del_lump Call-Info header removal.

commit a0b59cd0c5d4d86e0d553d81d70fb2adb0d8b643
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Wed Jul 25 11:01:53 2012 -0400

    New notes on dialog tracking, removing header, sdp parsing

commit b9e5fb0de5757551866738db3892c1b9adce4a58
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Wed Jul 25 10:59:57 2012 -0400

    Add util functions, sca_dialog_build_from_tags.

commit f492b41bd12904e3132260562073e79d76a003a5
Author: Alex Balashov <abalashov@evaristesys.com>
Date:   Mon Jul 23 22:23:36 2012 -0400

    mqueue: Added mq_size() function to get runtime size of mqueue in script.

commit 41f77159c5851bb36ad12abecc2faf58602d6935
Author: Alex Balashov <abalashov@evaristesys.com>
Date:   Mon Jul 23 19:53:41 2012 -0400

    mqueue: Added MI command to get current size of mqueue.
    
    There is currently no runtime visibility into the size of a given mqueue.
    To address this, added an MI command 'mq_get_size' that can return the size
    of an mqueue by name.  Example:
    
       diminuendo-1:~/sip-router/modules/mqueue# kamctl fifo mq_get_size r_write
       mqueue::  name=r_write size=1

commit b26f862322ad311e3c42d899f72eaa1fb665b755
Author: Anca Vamanu <anca.vamanu@1and1.ro>
Date:   Fri Jul 20 16:59:52 2012 +0300

    modules/matrix Fixed MI command not exported
    
    Added missing register_mi_mod() call in mod_init.

commit 9a4b9061387ac88c9c0db7945b41c8a24986b7bc
Author: Dragos Dinu <dragos.dinu@1and1.ro>
Date:   Fri Jul 20 10:48:48 2012 +0300

    modules/sipcapture: Extended sipcapture to support multiple tables
    
    The sipcapture module can support storing the information to multiple sql tables.
    Tests have shown that a major bottleneck against scalability on multi core CPU of
    the capture node instance was caused by using a single MySQL Table.
    The frontend (HOMER) will be soon patched to support retrieval of data from multiple
    sources.
    
    The decision to select witch table is written to, can be configured from random,
    round robin or hashing via username or callid.

commit 0f702f6e236eb0cbb238bf83a0c4ae94d7b3cad8
Author: Anca Vamanu <anca.vamanu@1and1.ro>
Date:   Thu Jul 19 17:49:13 2012 +0300

    modules_k/uac: uac_replace_from/to AUTO mode with dialog module
    
    Added a implementation for uac_replace_from/to() that uses the dialog
    module for AUTO mode. In this mode the URIs are stored as dialog
    variables.
    
    The change in tm module fixes a bug: if uac_replace_to() was called, the
    URI was not changed accordingly in Cancel.

commit 04041593c08959a640b23d16ba944300f2c320c8
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Jul 19 10:28:13 2012 +0200

    permissions(k): added new cfg function allow_address_group(addr, port)
    
    - return group of matching address and port record in address table

commit 21fe4ed3496de3094d12f941310df605e492a713
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Jul 19 10:23:20 2012 +0200

    core: fixup helper function for spve - igp parameters

commit 0615826fe602c5183fbc7be7c51de5eb5eb7223c
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Jul 18 19:00:38 2012 +0200

    tls: set function to return the id
    
    - starting with v1.0.0 openssl does not use anymore getpid(), but address
      of errno which can point to same virtual address in a multi-process
      application
    - for refrence http://www.openssl.org/docs/crypto/threads.html
    - credits to Jijo on sr-dev mailing list

commit e35e16efbbc6c746a7a4dfeddfc241c2c78d30bc
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Jul 18 18:51:54 2012 +0200

    kamdbctl: mtree tables were not in the list for db creation

commit 3bcff044593687f7f0e71cb7f084b071dd09bff0
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Jul 18 08:54:56 2012 +0200

    kamctl: stats command can print a single group of statistics
    
    - groupid can be given as command parameter

commit bb4925540d241eb91cc8b68712bec20f1970b086
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Jul 18 08:27:52 2012 +0200

    kamailio.cfg: removed sample db_mode parameter for domain module
    
    - no longer exists since 3.3 domain update

commit 58502f3fa92b6ea2dd50c8b2274b17fc0b5bc083
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Jul 17 16:49:40 2012 -0400

    Fixes for line-seize reSUBSCRIBEs, line-seize expire time.

commit 7062904cba4c36e2f296b782fd9175914cc9b348
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Jul 17 16:47:46 2012 -0400

    Fix sca_call_info_header_append_appearances.
    
    Loop wasn't incrementing buffer pointer.

commit 342d4cee957ef3944419197a58f28354dec0945b
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Jul 17 10:44:53 2012 -0400

    Add parser/hf.h. Required for Call-Info header parsing.

commit a93b2c5c007e05c6027643e2b9f09a6775bbce4b
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Jul 17 10:44:12 2012 -0400

    Release seized appearances when line-seize subscriber hangs up.

commit eecb3b1830903c3e42c80ceb1e458cc631c3a495
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Jul 17 10:43:22 2012 -0400

    Fix leak: Call sca_appearance_free after unlinking appearance.

commit 7e4aa668d1fa5c6cc34d6e5350c64649a005c641
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Jul 17 10:42:16 2012 -0400

    Implement sca_call_info_header_find and sca_call_info_body_parse.

commit da5a8008460bc03c6cb6d32740cf09425c0ed067
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Tue Jul 17 10:39:30 2012 -0400

    Implement sca_appearance_release_index.
    
    Correct sca_appearance_free prototype.

commit 31d651479c210e4b1d181fc34b10aae67e716bb7
Author: Carsten Bock <carsten@ng-voice.com>
Date:   Tue Jul 17 10:15:46 2012 -0400

    Remove duplicate entry of "default_domain" in docs.
    Remove double occurance of the CSeq Attribute in the XML.
    (closes FS#246 - pua_reginfo adds duplicate cseq field in XML body on the Bugtracker)
    
    Thanks to Andrew Pogrebennyk (apogrebennyk@sipwise.com) for pointing this out.

commit d694cebab5b2e2849059fb0376a38e074646c703
Author: Andrew Mortensen <admorten@isc.upenn.edu>
Date:   Mon Jul 16 09:25:00 2012 -0400

    Shared Call Appearance module for sip-router.
    
    Move to repo.net.isc.upenn.edu.

commit f003344fce108600c966dd3b79c5c89cb364afe5
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Jul 14 22:15:00 2012 +0100

    pkg/kamailio/fedora/17: Updated appliances

commit 60f0665348e80f056f2a0de5263de95f898e4583
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Jul 13 18:03:46 2012 +0200

    cdp_avp: fixed small typo in readme

commit f3ff581dbd0a53c4c5eafdf829bef0c25e8e8f28
Author: Anca Vamanu <anca.vamanu@1and1.ro>
Date:   Fri Jul 13 16:50:07 2012 +0300

    lib/srdb1 : put pooling constans into separate header file to reduce
    include dependancy

commit 1f6bfa0b3ba15201c2ca3e2387a9f9e81e989643
Author: Pawel Kuzak <pawel.kuzak@1und1.de>
Date:   Fri Jul 13 16:06:48 2012 +0300

    Ported gruu and outbound changes to p_usrloc module

commit e570709eeb0bf874f8a825efe982bdff794c22b3
Merge: 2b77f22 8328637
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Jul 13 10:37:08 2012 +0100

    Merge branch 'master' of ssh://git.sip-router.org/sip-router
    
    * 'master' of ssh://git.sip-router.org/sip-router:
      Makefile.defs: version set 3.4.0-dev2
      parser/sdp: more suggestive debug message
      parser/sdp: prevent manipulation with freed structure
      core: Removed unused enum (crept in during WebSocket implementation)
      modules/ipops: Corrected is_in_subnet() exported function and added is_ip to module C API
      modules/sl: Fixed segmentation fault and corrected log messages
      modules_k/registrar: Fixed some errors in module documentation
      core: update printing of socket lists to show the advertised address if set for the socket
      modules_k/presence: Added missing use_table() call

commit 2b77f22f159bf14a9e08d339bd69f8d1c35f541d
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Jul 13 10:36:31 2012 +0100

    pkg/kamailio/fedora/16: Updated rel in .spec to dev2

commit 832863723365ffd6f071a31415cca6b0f4cde391
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Jul 13 09:49:40 2012 +0200

    Makefile.defs: version set 3.4.0-dev2

commit faf7806b7488143f0637b9db896d849249eb059a
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Jul 13 09:49:16 2012 +0200

    parser/sdp: more suggestive debug message

commit f529cdb8b818017c20b73ba5be89309745ea95c5
Author: Michal Karas <largon@largon.net>
Date:   Thu Jul 12 17:38:15 2012 +0200

    parser/sdp: prevent manipulation with freed structure
    
    - FS#244

commit e3cadfd261d2d4b88e288e893a1e6171b14f4218
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Jul 12 22:45:32 2012 +0100

    core: Removed unused enum (crept in during WebSocket implementation)

commit 8ab4daa7f13a70f1fb77d7a98f11f7290a42c321
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Jul 12 21:50:00 2012 +0100

    modules/ipops: Corrected is_in_subnet() exported function and added is_ip to module C API
    
    - Fixes and enhancements by Hugh Waite @ Crocodile RCS

commit e78ff34f1ecfe9a60a52996126032ea04fb490ab
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Jul 12 21:48:08 2012 +0100

    modules/sl: Fixed segmentation fault and corrected log messages
    
    - Fixes by Hugh Waite @ Crocodile RCS

commit 6d040935f31be0098a09f4621874268164f3926a
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Jul 12 21:46:58 2012 +0100

    modules_k/registrar: Fixed some errors in module documentation
    
    - Fix by Hugh Waite @ Crocodile RCS

commit 274969bcca2301c96dbbcc17c5b1d411073c8277
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Jul 12 21:44:45 2012 +0100

    core: update printing of socket lists to show the advertised address if set for the socket
    
    - useful for diagnosing what is going on with advertised address
    - Enhancement added by Hugh Waite @ Crocodile RCS

commit 0de5e17770cd5dcfcdd64174eb24f0bcaccef021
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Jul 12 21:20:49 2012 +0100

    modules_k/presence: Added missing use_table() call

commit f2f8ff72137a39702d284dfe6deb9ef4442e4e78
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Jul 12 16:26:38 2012 +0100

    Makefile: SCTP library check doesn't look in /usr/lib64
    
    - This means you can't build Kamailio for a 64-bit OS like CentOS or
      Fedora.

commit 3bf1b0472df3be94f6ec1d5ce7573d96dbd88a7a
Author: Jon Bonilla <manwe@aholab.ehu.es>
Date:   Thu Jul 12 09:27:56 2012 +0200

    Revert 008c92bece290aed3b8e6439be71c2c37526901d
    
    We'll readd the dependency once the websocket
     module is enabled for build

commit 699526ddb3b02cb5766bc7ad6f1c7a1861006d4c
Author: Klaus Darilion <klaus.mailinglists@pernau.at>
Date:   Wed Jul 11 12:30:51 2012 +0000

    kamdbctl: add domain_attrs table to standard tables

commit 40b37899aaadd1518d812c4a32aeab330b864cb4
Author: Andreas Granig <agranig@sipwise.com>
Date:   Wed Jul 11 12:52:38 2012 +0200

    modules_k/uac: fix handling of empty display-part.
    
    This re-enables the feature to strip the display name by setting
    an empty string, like uac_replace_from("", "$var(from)");

commit 9485cfac5e1e6f4bb53407d3382f7dc725598f8a
Author: Vicente Hernando <vhernando@systemonenoc.com>
Date:   Tue Jul 10 12:05:02 2012 +0200

    ndb_redis: README file update. redis_cmd variadic function.

commit 1010594cf1d7df4753a61142dc86d7d04f6c4be3
Author: Vicente Hernando <vhernando@systemonenoc.com>
Date:   Tue Jul 10 05:54:00 2012 -0400

    ndb_redis: redis_cmd variadic function documentation.

commit ca5e3d93e3f117651d2152dccdfd4c299bf7f508
Author: Vicente Hernando <vhernando@systemonenoc.com>
Date:   Tue Jul 10 05:48:45 2012 -0400

    ndb_redis: redis_cmd changed into a variadic function.
    
    - command string can be split into several strings.

commit 008c92bece290aed3b8e6439be71c2c37526901d
Author: Juha Heinanen <jh@tutpro.com>
Date:   Sun Jul 8 21:20:35 2012 +0300

    pkg/kamailio/deb/wheezy: Added build dependency on libunistring-dev.

commit b705c4c8bbbd36dce28b8d9e2344e7544f4e5fdc
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Jul 8 02:06:05 2012 +0100

    pkg/kamailio/fedora/17: Added @Base group to BoxGrinder appliances
    
    - This groups is required to get the network to come up automatically for
      Fedora 17 (it wasn't needed for Fedora 16 or CentOS 6).

commit 7a3ce731e73d4b47646f2562e588886137cc8e85
Merge: f64fda6 acb0ae8
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Jul 7 17:52:20 2012 +0100

    Merge branch 'master' into websocket

commit acb0ae899ca7341f06fa4418c88f3b42d3460f49
Author: Vicente Hernando <vhernando@systemonenoc.com>
Date:   Fri Jul 6 18:23:09 2012 +0200

    ndb_redis: update README file

commit b237db588f4de8eb3e1f8bf321e010ce5f9cded3
Author: Vicente Hernando <vhernando@systemonenoc.com>
Date:   Fri Jul 6 12:12:36 2012 -0400

    ndb_redis: redisc_free_reply only frees redisReply structure.
    
    - freeing whole redisc_reply_t structure causes a bug, so better remove only inner data.

commit f64fda60da151e2672e5eade99eee636ace25695
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Jul 5 22:58:24 2012 +0100

    pkg/kamailio/fedora/16: tidied up kamailio.spec

commit 380ab4c742c4060d7601e4b0491ebdb9eb0bb157
Merge: a4db0a0 ef6da28
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Jul 5 22:55:44 2012 +0100

    Merge branch 'master' into websocket
    
    Conflicts:
    	pkg/kamailio/fedora/16/kamailio.spec

commit ef6da283105197eda608cc3571cfc6772c343aa6
Author: Henning Westerholt <hw@kamailio.org>
Date:   Thu Jul 5 23:39:51 2012 +0200

    parser: remove old $Id$ docs header from subversion times, not usable anymore

commit fa441a9cdb28fb6336805f45aa65de13c9bcc139
Author: Henning Westerholt <hw@kamailio.org>
Date:   Thu Jul 5 23:35:27 2012 +0200

    parser: add missing copyright statement to files, this part was contributed
    in commit 3c736126b097137ec943b5931f867bc7e9d82e76 Author: Jamey Hicks,
    jamey dot hicks at hp dot com, Date: Fri Dec 3 13:37:57 2004 +0000

commit f358aa1b6983a7e1a17745658c4c7f8efa08966c
Author: Henning Westerholt <hw@kamailio.org>
Date:   Thu Jul 5 23:30:15 2012 +0200

    parser: add missing copyright statement to files, this part was contributed from
    Vaclav Kubart, vaclav dot kubart at iptel dot org in commit
    488624056c4651fd57fdffd1cbfdd2a07928fdab, Date: Wed Jun 21 13:33:01 2006 +0000

commit 8361d5921557630576d6f542603f769bff420887
Author: Henning Westerholt <hw@kamailio.org>
Date:   Thu Jul 5 23:26:45 2012 +0200

    parser: add missing copyright statement to files, this part was contributed
    in commit 3c736126b097137ec943b5931f867bc7e9d82e76
    Author: Jamey Hicks, jamey dot hicks at hp dot com, Date: Fri Dec 3 13:37:57 2004 +0000

commit 6742b34bb385742aa80cd23d9dedbd366a243650
Author: Henning Westerholt <hw@kamailio.org>
Date:   Thu Jul 5 23:14:42 2012 +0200

    parser: const-correctness for some module utility functions

commit a8e108ec68f6117c33669e35bccaf9b779858e25
Author: Henning Westerholt <hw@kamailio.org>
Date:   Thu Jul 5 23:04:43 2012 +0200

    parser: some more const-correctness for the other functions in msg_parser.[c,h]

commit 8f0f3fb39695ba52938c42ea58519485299f2fa4
Author: Henning Westerholt <hw@kamailio.org>
Date:   Thu Jul 5 22:40:45 2012 +0200

    parser: remove two blocks of old code, commented some years ago

commit f7b97e8a8329f23aef74be87f9ff18c3206e811a
Author: Henning Westerholt <hw@kamailio.org>
Date:   Thu Jul 5 22:35:22 2012 +0200

    parser: make get_hdr_field(..) and necessary called functions const-correct

commit 1c4e782f33f3c12747a4e8d9b9f67bf035007658
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Jul 5 21:16:43 2012 +0100

    pkg/kamailio/fedora/16: fixed typo in .spec

commit a4db0a0f9577477a15f90e3e4674a941aa306730
Merge: 6af91d1 2b392e4
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Jul 5 21:15:22 2012 +0100

    Merge branch 'master' into websocket
    
    Conflicts:
    	Makefile
    	pkg/kamailio/centos/6/kamailio-build.appl
    	pkg/kamailio/centos/6/kamailio.appl
    	pkg/kamailio/fedora/16/kamailio-build.appl
    	pkg/kamailio/fedora/16/kamailio.appl
    	pkg/kamailio/fedora/16/kamailio.spec
    	pkg/kamailio/fedora/17/kamailio-build.appl
    	pkg/kamailio/fedora/17/kamailio.appl

commit 2b392e46054bfe5f6ab475a53ba3212d548f2c7f
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Jul 5 20:41:36 2012 +0100

    pkg/kamailio/(centos|fedora): Updated .spec and .appl files to build RPM for cdp and cdp_avp modules

commit 6af91d1fb3839fd02cd2739d9c8c784497e1d6e9
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Jul 5 15:23:19 2012 +0100

    modules/websocket: More tidy-up of example configuration file

commit ac40abf75710281049ec424061d94cdc5f45aa10
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Jul 5 12:16:31 2012 +0100

    pkg/kamailio/(centos|fedora): Added git to the build appliances

commit 324e8f36443f15af0ee5e7d96323c7e394202ea8
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Jul 5 12:08:40 2012 +0100

    modules/websocket: Tidied up example kamailio.cfg

commit 840d829149961d79fe9c84e59c14b8f72de4c44d
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Jul 4 23:46:46 2012 +0100

    pkg/kamailio/(centos|fedora): Added instructions on using BoxGrinder appliances to build Kamailio RPMs

commit 2685b26f7587172ad95f0e1e21114ebd483e6e5f
Author: Henning Westerholt <hw@kamailio.org>
Date:   Wed Jul 4 22:24:33 2012 +0200

    remove one redundant inclusion of casandra module in excluded modules

commit 754853be86112f52f2b7f1d4ea0a0317d6c1e324
Author: Henning Westerholt <hw@kamailio.org>
Date:   Wed Jul 4 22:22:26 2012 +0200

    add cdp module to excluded modules, as its depends on libxml

commit 1792586578d9680d45d52af37ddf2786b8b30ca8
Merge: 86362e5 1382c30
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Jul 4 18:08:02 2012 +0100

    Merge branch 'master' into websocket
    
    * master:
      modules/lcr: Fixed to/from_gw tests when proto parameter is 0 (ANY)
      cdp_avp: added README file
      CDP: Fixed README
      CDP: A few fixes to docs and location of image files - cleaner organisation
      new modules: CDP (C Diameter Peer) and CDP_AVP 	- These modules were originally written by Fraunhofer and have been 	  ported to Kamailio, with some minor additions and improvements. Examples 	  on using the modules to come shortly - diameter_rx, diameter_ro, etc

commit 86362e52c17858bfb81bda33cc6ae46e0f75517f
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Jul 4 16:15:29 2012 +0100

    modules/websocket: Fixes to WS and WSS message sending

commit d1d9d63984fed14fc2912c31e7abc30e0500bbb8
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Jul 4 16:13:40 2012 +0100

    modules_k/pv: Added missing break;s

commit 1ccd1f68cff759a2a54b8f441ca8c53647f845a4
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Jul 4 16:12:53 2012 +0100

    core: Fixes for WSS (secure WebSocket) transport and Via:s

commit 1382c30da7ffd8831479affafde4d8e038a41240
Author: Juha Heinanen <jh@tutpro.com>
Date:   Wed Jul 4 17:15:43 2012 +0300

    modules/lcr: Fixed to/from_gw tests when proto parameter is 0 (ANY)
    
    - Also, updated README regarding handling of NULL value in lcr_gw
      transport column.

commit c39580925bebdb6506e106295119fb72f861e76f
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Jul 3 23:59:22 2012 +0100

    modules/websocket and pkg/kamailio/fedora: Added websocket module documentation

commit 6d751215160cddb96dd16b33bd668d573a61b3d8
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Jul 3 16:57:50 2012 +0100

    pkg/kamailio/(centos|fedora): Tweaked .spec and .appl files to add WebSocket support

commit b7e7535289dfab413cbc1333ac545f31f3c992c2
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Jul 3 16:57:00 2012 +0100

    core: Added websocket module to Makefile

commit eff18c9ce6de48e6a2f821148cbce586a088512c
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Jul 3 16:56:11 2012 +0100

    modules/websocket: Updated example kamailio.cfg

commit 12d1977f97023a279d8f72c02c80e0f9dc902047
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Tue Jul 3 12:50:10 2012 +0200

    cdp_avp: added README file

commit 85cd6662b7f5e0fee477550088cc4ca546193b36
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Tue Jul 3 12:40:43 2012 +0200

    CDP: Fixed README

commit a4a1e5d6b0f5aab70d0395adfc5e10ee8a277b1e
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Tue Jul 3 12:14:21 2012 +0200

    CDP: A few fixes to docs and location of image files - cleaner organisation

commit 3c085d120d49abec97019103f4c210ebdcaf1ed6
Author: Jason Penton <jason.penton@smilecoms.com>
Date:   Tue Jul 3 11:24:36 2012 +0200

    new modules: CDP (C Diameter Peer) and CDP_AVP
    	- These modules were originally written by Fraunhofer and have been
    	  ported to Kamailio, with some minor additions and improvements. Examples
    	  on using the modules to come shortly - diameter_rx, diameter_ro, etc

commit b66cd6508d9bff106a88fbbd1c649e492b6d742c
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Jul 1 22:21:38 2012 +0100

    modules/websockets: Added some extra debug/diagnostics

commit ba0ff3123a223365c07a0d2ffa85d2d150f86bce
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Jul 1 22:20:36 2012 +0100

    core: Updated Via and Record-Route generation for WebSockets

commit 3d4a77d86a879d55f8b39bc2a86bc2f51d0258f9
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Jun 30 22:53:00 2012 +0100

    core: Added more PROTO_WS and PROTO_WSS checks

commit 56767ad8cb445f8475c6372c964c4d57fb40a500
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Jun 30 22:52:26 2012 +0100

    modules/websocket: Removed SIPp script and HTML file from example directory

commit fd2a237fbac519ad709c5f169cbc3f29b125409f
Merge: b66e815 8c789cd
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Jun 30 21:13:58 2012 +0100

    Merge branch 'master' into websocket
    
    Conflicts:
    	pkg/kamailio/fedora/16/kamailio.spec

commit 8c789cdeb969af921e74a4ece194ccda5c297e6a
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Jun 30 21:05:40 2012 +0100

    pkg/kamailio/fedora: Updated some packaging related stuff
    
    - Updated the rel in the .spec to dev1
    - Replaced local %{_sharedir} macro in .spec with standard %{_datadir} macro
    - Tweak/update to Fedora 16 test appliance
    - Added BoxGrinder appliances for Fedora 17

commit b66e815ebe9ee9a5035abaf08c6e97a9c3281dcc
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Jun 30 20:36:00 2012 +0100

    modules/websocket: Corrected output of ws.dump MI command

commit 6fe3e10b4a17c166f642500748392a9bcb72cabd
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Jun 30 20:35:10 2012 +0100

    core: Fixed segmentation fault
    
    - Tiny window for this...  but I hit it when Google Chrome crashed during
      a WebSocket session

commit 5456e4e90c6330877e0d25d14fba143f2f98f8c6
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Jun 30 00:46:20 2012 +0100

    modules/websocket: Updated connection reuse and closing flags for WebSocket handshake.
    
    - Updated the sample kamailio.cfg to match too.

commit dc7fa93f2e60efd2f7d428762590fa313e3fe91f
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Jun 30 00:02:29 2012 +0100

    modules/websocket: improved sample kamailio.cfg for WebSockets

commit 1e2f18da2f2c8791f804b33e96dea043f18642bf
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Jun 30 00:01:07 2012 +0100

    everything: shotgun attempt to put PROTO_WS and PROTO_WSS across core and in modules I use
    
    - Bound to have missed something and lots of testing required.

commit 9349870abc5eb0688cf0fd50c0fa54098158fa79
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Jun 29 23:11:15 2012 +0100

    core: rolled back changes to receive.c
    
    - Not actually needed because the recent change to ws_frame.c covers it all
      (I think)

commit 636a6dabd14e08f2255e52a58353822642deda10
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Jun 29 23:08:19 2012 +0100

    modules/websocket: Make sure that all WebSocket messages are sent on connections that already exist
    
    - This is the same as using set_forward_no_connect() and
      set_reply_no_connect() in kamailio.cfg.  But this means it will
      always happen automatically for WebSocket messages.
    - This is important as a WebSocket server cannot create connections -
      so we always have to use one that already exists.

commit 242920ec30af3a954f8a193d417c671a29d383b4
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Jun 29 23:05:48 2012 +0100

    core: Make sure that responses to requests received on a WebSocket are sent on existing connections
    
    - WebSocket servers cannot create connections to WebSocket clients - so
      this setting is essential.
    - It does exactly the same thing as using set_reply_no_connect() in
      kamailio.cfg - but this way it is always on (as it must be) for
      WebSockets.

commit 915894b15d9096388a0136d2d2bdf48ef65b4c4a
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Jun 29 23:03:15 2012 +0100

    modules_k/nathelper: Added nat_uac_test() check for WebSockets
    
    - At the moment (and until Kamailio and _all_ WebSocket clients support
      outbound) we want to treat WebSocket UAs as behind NATs (even when they
      are not).
    - This is so that the aliasing (which is good for TCP/TLS connection reuse
      as well as NAT traversal) can be used to make sure messages to WebSocket
      UAs are routed correctly.

commit 353ad95af22d7a4c7d20aebbed291fef085867ba
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Jun 29 17:47:22 2012 +0100

    modules/websockets: Changes WS to be a protocol in its own right instead of a flag on TCP/TLS connections

commit 8c4d2e7379e783ac22b63266c3a63a2579100d87
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Jun 29 17:47:06 2012 +0100

    modules_k/nathelper: Added PROTO_WS support

commit d08c4dc3341d2f2ac497a81fed9aef522ce16ed9
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Jun 29 17:46:36 2012 +0100

    modules/tm: Added PROTO_WS support

commit 8393efff31843b04b45e6bf728469b32625e86b0
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Jun 29 17:44:15 2012 +0100

    core: Changed WS from being a flag on a TCP/TLS connection to a protocol in its own right
    
    - Also added ;transport=ws parameter parsing for URIs

commit 9d720b83c9dd27e927627132ec052b15efeba518
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Jun 29 16:06:42 2012 +0200

    kamailio.cfg: use add_contact_alias()/handle_uri_alias() for NATed calls

commit 6cfc7ccda69803e8767cfd125a263e9fcafb895d
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Jun 29 12:34:08 2012 +0200

    Makefile.defs: version set to 3.4.0-dev1

commit bd346c4d541a87b2fed17261eaf6f10b29443574
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Jun 29 12:28:07 2012 +0200

    kamailio.cfg: set version to 3.4 in the top comments

commit 6da3e961d7f0d302b8f275aec07abfd411bcf875
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Jun 29 12:25:24 2012 +0200

    tm: added t_is_set("target") function
    
    - returns true if the attribute specified by the target parameter is set
      for current transaction (e.g., failure_route, branch_route,
      onreply_route)
    - on_negative was replaced with on_failure internally to be consistent
      with config file naming

commit 8c6f700b4213552789fa97c4edf0ff4bb4b61f90
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Jun 28 17:57:44 2012 +0100

    core: added support for WS keyword for use in conditionals with proto and snd_proto

commit d07a57f6849e94764302939541157c71d73eae6a
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Jun 28 17:55:53 2012 +0100

    core: fixed an issue where big websocket requests (single WS frame but across multiple packets) weren't handled

commit 3269116331b5161cd08aba390a0e3804dafdf668
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Jun 28 17:54:45 2012 +0100

    core: Fix to msg_send() so that requests destined for a WebSocket connection go through the websocket module
    
    - responses already worked

commit d6f89300f70a8b511a1454eb1742561547b69a52
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Jun 28 17:53:55 2012 +0100

    modules/websockets: tidied up a bit of the code

commit f030b2f274b69526f256e66098de72a074000ed1
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Jun 28 16:24:47 2012 +0200

    p_usrloc: added missing usrloc API members
    
    - they are set to NULL to get a clean crash, they have to be implemented
    - the missing API members are the functions introduced in 3.3 for
      handling SIP GRUU and Outbound extensions
    - a proper fix to follow
    - reported by Dan Bogos

commit ccfc9a41d453b05d25396a42aee641a2558e478c
Author: Jon Bonilla <manwe@aholab.ehu.es>
Date:   Thu Jun 28 02:13:54 2012 +0200

    pkg/deb Fix lsb init file
    
    We depend on $remote_fs as required_[start|stop]

commit 79e99ae5cbe7016f22454faf4f9e9f5a463a4f7d
Author: Jon Bonilla <manwe@aholab.ehu.es>
Date:   Thu Jun 28 02:01:11 2012 +0200

    pkg/deb Build kamailio-dbg package

commit 8d649d042d43c4dc29b2cb747ba87c1f75590713
Author: Anca Vamanu <anca.vamanu@1and1.ro>
Date:   Wed Jun 27 18:34:55 2012 +0300

    modules_k/presence_xml Xcap auth reason when user deleted from list
    
    The reason in Subscription-Status header in Notify when a user is
    deleted from the contact list can be decided by the admin by setting
    presence_xml module parameter xcapauth_usedel_reason. Default value is
    "probation".
    (cherry picked from commit 3abf967f61a1bd95c28d4e8a929a8bd5df00671d)

commit 3a2e929c63c656fe2db78e746546af05c66740ea
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Jun 25 18:36:18 2012 +0200

    dialog(k): proper unlock of profile for mi list command
    
    - the profile was unlocked in a wrong place, before finishing listing
      the its content and could cause a race in accessing it
    - reported by Ricardo Martinez

commit 2664cb9aa8ffd5d26ef6a0841318ccbcdefbf69b
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Jun 25 10:36:31 2012 +0200

    dispatcher(k): allow set id 0 for OPTIONS callback
    
    - set id is provided in param pointer address, 0 being equivalent to
      NULL
    - reported by Avi Brender

commit c270ac0e54ada9cc2599b21f8c87b5a0704093af
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Jun 24 00:40:24 2012 +0100

    modules/websocket: improvements to ws.dump MI command

commit 6dfd1476bee55dd6287652b1f9ee9a8cf4d809f0
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Jun 23 22:13:35 2012 +0100

    pkg/kamailio/fedora: added WebSocket module to .spec file

commit 4611d052b9e73f9b301a043da632e28b7ec65bf4
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Jun 23 21:57:37 2012 +0100

    modules/websocket: now using libunistring:u8_check() to work out whether to send text or binary websocket frames
    
    - There is no straight-forward (or practical) way to be sure that a SIP request
      only contains UTF-8 characters and therefore should be sent as text instead
      of binary.  However, you can sometimes tell whether the request definitely
      isn't UTF-8 by checking for invalid byte sequences - and when it is definitely
      not UTF-8 frames _MUST_ be sent as binary.

commit 7cd27114725b49864b6be812658aa00003c54e99
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Jun 23 21:57:09 2012 +0100

    parser: Update Via parsing state-machine to support WS and WSS

commit 64406b209d8b4fd9ed127a6b4b965e3c1863c3d2
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Jun 23 21:55:34 2012 +0100

    modules/websocket: updated example configuration and test scripts
    
    - Added options_rx.xml SIPp script
    - kamailio.cfg routes OPTIONS to SIPp
    - websocket_test.html now using WSS (WS over TLS)

commit 11a2ad18ea0b263316fe8728aa44b892d7c4fe86
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Jun 23 21:52:15 2012 +0100

    core: fixed segmentation fault I had added to forward.h

commit 1f139814262a4c5979c5301812f81304d885e92c
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Jun 23 19:10:03 2012 +0100

    core: added events and data-structures so that Kamailio core can transmit through the WebSocket module

commit 50d20ecde5503d11358b86cbd23456e2a302c9be
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Jun 23 19:08:38 2012 +0100

    modules/websocket: added generic transmit functions to WebSocket module so Kamailio core can send WebSocket frames

commit 5c4133c2ba036776a1ea3c1f73c51a7d9d518fbe
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Jun 23 17:37:25 2012 +0100

    modules/websocket: Fixed a couple of connection issues and now dropping received SIP requests into receive_msg()
    
    - SIP parser not updated for WS and WSS yet

commit ad7ea60ff5e8e2a8d5b9ddeaca99a2bab7941e70
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Jun 23 16:07:12 2012 +0100

    modules/websocket: updated example/test kamailio.cfg to support TLS
    
    - Basic WebSocket working over TLS

commit 5d8239f5da2176938e0c789b9b2caa493725daa1
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Jun 23 15:03:48 2012 +0100

    modules/websocket: finished off WebSocket connection management

commit 3a64dffb99cfe098f90fdd5c79adc938ac230bf6
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Jun 23 11:31:50 2012 +0100

    modules/websocket: tidied up some of the WS connection code

commit 2f30521ea903b1805c728d60cccda6b2636cacde
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Jun 22 00:34:24 2012 +0100

    modules/websocket: Closing handshake now working
    
    - Also completed MI commands which allowed me to test Ping and Pong

commit 76f15b97d60b0e1c2c22fabc6c7310b33ad80742
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Jun 21 17:37:08 2012 +0100

    modules/websocket: More tidying up

commit 2af2b3277a8b9fb46c5fa9a5ce38eea072a22663
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Jun 21 16:58:05 2012 +0100

    modules/websocket: fixed typo

commit 857b117c5058200b57501868d5d29dab778fbd94
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Jun 21 16:28:57 2012 +0100

    modules/websockets: started adding WebSocket connection management to WebSocket module

commit 7d35945ec66caa286db66cd55ef56c78f29c434c
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Jun 21 13:50:53 2012 +0100

    modules/websocket: Added connection close code and tidied up MI commands

commit a2f9844c01eb19d42d2a2864213c301c53f9b4ec
Author: Vicente Hernando <vhernando@systemonenoc.com>
Date:   Wed Jun 20 21:08:19 2012 +0200

    ndb_redis: README file update for unix domain socket support.

commit b20f81a4efc43faed2656170f8b4108f897dffee
Author: Vicente Hernando <vhernando@systemonenoc.com>
Date:   Wed Jun 20 14:59:47 2012 -0400

    ndb_redis: able to connect to redis server via unix domain socket.
    
    - added unix atribute in server modparam
    - unix attribute has higher precedence over address and port

commit b260b0ad1bb6c687ef00eb084357d337549ae2ec
Author: Carsten Bock <carsten@ng-voice.com>
Date:   Wed Jun 20 15:41:02 2012 +0200

    Disable keeping alive of dialog, if the dialog-api does not provide a dlg_flag.

commit 1835cd92f2475ce12a79d972ca6548fbbb857ce4
Author: Vicente Hernando <vhernando@systemonenoc.com>
Date:   Tue Jun 19 13:31:42 2012 -0400

    ndb_redis: remove warning: implicit declaration of function redisc_free_reply

commit 06982365e6d361d8fb78e1ece579eb1de87db643
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Jun 19 15:06:03 2012 +0200

    pv: new variable $cnt(...) to count the number of other array variables
    
    - for now it supports counting AVPS - $cnt($avp(x) - returns the number
      of how many AVPs with name x exist
    - future plans - count headers with same name, xavps ...

commit b5af0f6622d592f52f53b8c8572fcfe73fab867f
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Tue Jun 19 15:05:33 2012 +0200

    core: typedefed avp search state structure

commit 95ca295c7db108c688d7f9278d089dcd6660d712
Author: Vicente Hernando <vhernando@systemonenoc.com>
Date:   Tue Jun 19 12:18:30 2012 +0200

    ndb_redis: README file update for redis_free function.

commit 13bbe5ef4575cb9018bea5b1d6871214ab7287d1
Author: Vicente Hernando <vhernando@systemonenoc.com>
Date:   Tue Jun 19 05:56:24 2012 -0400

    ndb_redis: redis_free function.
    
    - Free an unused ndb_redis reply, including also its inner rplRedis
    structure.

commit f457ec98c2208d181bb94ace50b82faed6d707e0
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Jun 17 21:31:29 2012 +0100

    modules/websocket: Filled in MI commands to dump WebSocket connection details and Close a WebSocket

commit 69c264b19f8b42e4700f9f8523912cf29eeadde5
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Jun 17 21:30:33 2012 +0100

    core: Fixed a problem with receiving WebSocket frames
    
    - If two frames were pulled from the buffer at the same time the second
      wasn't being processed.

commit d3e770533b908acf73b359ba556a972c1330a118
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Jun 17 14:29:44 2012 +0100

    modules/websocket: more work on WebSocket framing and base-protocol

commit c04689c5f5017456a9a5c0f6b617e13ee6f7a1d6
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Jun 17 14:28:20 2012 +0100

    core: added clone buf support for WebSocket connections

commit d096e24b900856396332ebd61ae854fc044c8971
Author: Vicente Hernando <vhernando@systemonenoc.com>
Date:   Sun Jun 17 15:02:43 2012 +0200

    ndb_redis: free _redisc_rpl_list.
    
    - Free pending redis data to close ndb_redis module in a cleaner way.

commit 68c60fd4156bda792463bd202b82afb2c967dcdd
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Jun 17 00:44:14 2012 +0100

    modules/websocket: received frame decoding

commit 62691a52ffd48e4dc674027cfe9b984620a55b88
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sun Jun 17 00:43:44 2012 +0100

    core: tidied up websocket frame length code

commit 1718093cfad0ea8085d20a7b5fd995f93c91a48a
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Jun 16 22:58:36 2012 +0100

    core: improved de-buffering for websockets
    
    - This should handle the case that the full TCP packet hasn't been received
      when the read function is called.  Not sure how to explicitly test this
      though.

commit 74a32e90a9c86c40d9497a9543eedba63556e865
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Jun 16 22:58:00 2012 +0100

    core: make it possible to retrieve TCP connection without updating connection liifetime

commit 68686612a5775e6d677becffa0873028b1c766bb
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Jun 16 22:57:34 2012 +0100

    modules/websocket: small tidy up to handshake code

commit 3ec469611f9f6c57d593c000614f461488b760a3
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Jun 16 17:06:33 2012 +0100

    core: Added WS support/events to Kamailio core

commit 6d93ce1b8a752e2b3fdb0ff7a3cbef0c7bc44787
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Jun 16 17:05:54 2012 +0100

    modules/websocket: WS module registering for WS messages and basic handler implementation

commit 48e7ee701571c127effa3b0ddd06468154ddf139
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Sat Jun 16 14:38:22 2012 +0100

    modules/websocket: more work on module boiler-plate and handshake
    
    - Handshake now works with Google Chrome

commit 80c4f4b1d9ff31e79c999b82db35c3b9abc56e22
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Fri Jun 15 17:17:07 2012 +0200

    dialog(k): proper local linking of profile before dlg is created
    
    - reported by Nick R.

commit 407130579cb10620480e8800558375094aaf07be
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Jun 15 10:17:06 2012 +0100

    modules/websocket: Improvements to handshake handler

commit 48ba74772c398396e54a3cbb2d6cee9f4065d599
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Fri Jun 15 00:40:28 2012 +0100

    modules/websocket: First attempt a module for websocket support
    
    - So far this is:
      - Module boiler-plate
      - WebSocket handshake
      - Example/test kamailio.cfg

commit 5ed96d257f2d402597a678e4451fd9011786f4a2
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Jun 14 17:43:54 2012 +0100

    modules_k/presence: partial NOTIFYs for presence.winfo not correctly formed when using notifier processes
    
    - I seem to have broken things when I did a pre-merge re-order/clean-up
      of the code
    - Issue found by Hugh Waite @ Crocodile RCS and fixed by Hugh Waite and
      Peter Dunkley @ Crocodile RCS

commit 78da4d35dfceaa3d167d2b5ad66f1a27bc0f4628
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Jun 14 17:41:49 2012 +0100

    modules_k/pua: send_publish() doesn't work correctly in DB only mode with certain DBs
    
    - The pua record wasn't getting inserted in some cases
    - Looks like I removed a couple of lines I shouldn't have when merging
      from Crocodile's internal SVN repository to git
    - Issue found by Hugh Waite @ Crocodile RCS and fixed by Hugh Waite and
      Peter Dunkley @ Crocodile RCS

commit 9dbe8f9fdff1eb5718698cdcdf2357ee1fabd42b
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Thu Jun 14 12:10:35 2012 +0100

    modules_k/presence: Fixed segmentation fault when uploading pres-rules documents
    
    - Found and fixed by Hugh Waite @ Crocodile RCS

commit 1d89d7bea854c2e2c646b5d13ba215795325b50f
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Thu Jun 14 12:24:36 2012 +0200

    pua: remove wrong free of TM callback param in send_publish()
    
    - reported by Charles Chance and Juha Heinanen

commit 748b79fdeba12736b109dfbd77a3e9bb04c80b97
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Jun 13 17:29:51 2012 +0200

    usrloc(k): better safety check for null record access

commit 31f404a98b09b5a6270e860574b16c9f9112c305
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Jun 13 16:33:17 2012 +0200

    usrloc(k): safety check for first record in udomain slot
    
    - reported by David Kovarik, FS#234

commit b8201c6dbff5967d1277363d119cbf33590d4112
Author: Jon Bonilla <manwe@aholab.ehu.es>
Date:   Wed Jun 13 15:38:20 2012 +0200

    Makefile: Add db_cluster
    
    Added to standard group as it has no dependencies

commit 9a310fe940e4b93e13539ccfbd6137ba76dcce87
Author: Juha Heinanen <jh@tutpro.com>
Date:   Wed Jun 13 16:25:12 2012 +0300

    modules_k/presence_[dialoginfo|mwi|reginfo]: fixed test of wrong variable

commit b13434ff7f8e8b1b88434e888c26a77874eceeb0
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Wed Jun 13 11:47:07 2012 +0100

    modules_k/usrloc: Only run timer when timer_interval > 0
    
    - This is useful on DB only multi-server systems when the database is
      cleaned up outside of Kamailio.
    - This is a re-instatement of something that worked before the
      addition of GRUU.

commit c737ff95bb2e742981d81088169baa60d4605b85
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Wed Jun 13 11:51:57 2012 +0200

    drouting: reset the content of routing tree if root pointer is not freed
    
    - reported by Yufei Tao

commit 9fda39db41328a47180a7591713323ca00a140a6
Author: Jon Bonilla <manwe@aholab.ehu.es>
Date:   Wed Jun 13 03:16:37 2012 +0200

    pkg/deb Update debian version to 3.4.0~dev0

commit e037e9ed2b6f3d840c6e8bf18a3caeaa3274f004
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Jun 12 14:24:48 2012 +0100

    modules_k/registrar: Fixed merge error in api.c
    
    - Issue found and fixed by Hugh Waite @ Crocodile RCS Ltd

commit 76d2424a798a1381f51003a9aa4f174ba243ecc0
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Jun 12 02:25:24 2012 +0100

    modules/ipops: Added new exported function is_in_subnet()
    
    - Feature added by Hugh Waite @ Crocodile RCS Ltd

commit 0aae547c7f18186372f01b07144b64a646b37971
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Jun 12 02:10:30 2012 +0100

    modules/app_lua: Added registrar:save_uri support
    
    - Feature by Hugh Waite @ Crocodile RCS Ltd

commit b4f3aea40c9588d60fb6643c52860a40b9ed994e
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Jun 12 02:07:42 2012 +0100

    modules_k/registrar: Exported save_uri
    
    - Feature added by Hugh Waite @ Crocodile RCS Ltd

commit 3d3b1daf319fe87b880671cd5de9a2a6ace6c64b
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Tue Jun 12 02:01:10 2012 +0100

    modules/tls: Fixed log level and diagnostic typo
    
    - Fix by Hugh Waite @ Crocodile RCS Ltd

commit 74641106779c13fa2f6bf2384293e35dc21f3b5a
Author: Peter Dunkley <peter.dunkley@crocodile-rcs.com>
Date:   Mon Jun 11 22:39:10 2012 +0100

    pkg/kamailio/fedora/16: Updated ver and rel in .spec to 3.4.0 and dev0

commit 0c7b9304efd5954cf53ba13a065b05a277efc91f
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Jun 11 14:32:44 2012 +0200

    registrar(k): don't access realm_prefix.s if len is <=0
    
    - solaris is not happy accessing .s struct field if set to 0

commit d42379da90f2ec87cb5dbb00ebb563c7528ec910
Author: Daniel-Constantin Mierla <miconda@gmail.com>
Date:   Mon Jun 11 12:32:05 2012 +0200

    Makefile: version set to 3.4.0-dev0
    
    - development for future major version 3.4.0 is open


===================== 2012-06-18 Version 3.3.0 Released =====================
